(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var Picker=require("ribcage-picker"),cal=require("node-calendar"),Calendar=new cal.Calendar,each=require("lodash.foreach"),keys=require("lodash.keys"),DatePicker,createDays,createMonths,createYears,MIN_YEAR=1970;DatePicker=function(opts){opts=opts||{};var slots={},picker,allowFuture=!!opts.allowFuture,defaultDate=opts.defaultDate||new Date,years=createYears(allowFuture),months=createMonths(),days=createDays(defaultDate.getMonth()+1,defaultDate.getFullYear());slots.month={values:months,defaultKey:keys(months)[defaultDate.getMonth()]};slots.day={values:days,defaultKey:defaultDate.getDate()};slots.year={values:years,defaultKey:defaultDate.getFullYear()};picker=new Picker({slots:slots,offsetParent:opts.offsetParent,onChange:function(newSelection,key,slot){if(key&&slot){this.trigger("change:"+key,newSelection[key],slot,key)}else{this.trigger("change",newSelection)}if(key=="month"||key=="year"){picker.setSlot("day",{values:createDays(newSelection.month.value,newSelection.year.value)})}}});return picker};createYears=function(allowFuture){var max_year=(new Date).getFullYear(),ret={};if(allowFuture){max_year=2112}for(var i=MIN_YEAR,ii=max_year;i<=ii;++i){ret[i]=i}return ret};createMonths=function(){var ret={};ret["January"]=cal.JANUARY;ret["Feburary"]=cal.FEBRUARY;ret["March"]=cal.MARCH;ret["April"]=cal.APRIL;ret["May"]=cal.MAY;ret["June"]=cal.JUNE;ret["July"]=cal.JULY;ret["August"]=cal.AUGUST;ret["September"]=cal.SEPTEMBER;ret["October"]=cal.OCTOBER;ret["November"]=cal.NOVEMBER;ret["December"]=cal.DECEMBER;return ret};createDays=function(month,year){var days=Calendar.itermonthdays(year,month),ret={},val;for(var i=0,ii=days.length;i<ii;++i){val=days[i];if(val)ret[val]=val}return ret};module.exports=DatePicker},{"lodash.foreach":40,"lodash.keys":70,"node-calendar":76,"ribcage-picker":141}],2:[function(require,module,exports){},{}],3:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{throw TypeError('Uncaught, unspecified "error" event.')}return false}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);console.trace()}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else{while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],4:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],5:[function(require,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){if(ev.source===window&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],6:[function(require,module,exports){var process=require("__browserify_process");function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}},{__browserify_process:5}],7:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],8:[function(require,module,exports){var process=require("__browserify_process"),global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}},{"./support/isBuffer":7,__browserify_process:5,inherits:4}],9:[function(require,module,exports){var __dirname="/../../node_modules/cldr/lib";var fs=require("fs"),Path=require("path"),PEG=require("pegjs"),parser=PEG.buildParser(fs.readFileSync(Path.resolve(__dirname,"cldrPluralRule.pegjs"),"utf-8"));function rangeListToJavaScriptAst(rangeListNode,lhsJavaScriptAst,withinSemantics){var javaScriptAst,seenRange=false;for(var i=rangeListNode.ranges.length-1;i>=0;i-=1){var range=rangeListNode.ranges[i],itemJavaScriptAst;if(range.type==="number"){itemJavaScriptAst=["binary","===",lhsJavaScriptAst,["num",range.value]]}else{seenRange=true;itemJavaScriptAst=["binary","&&",["binary",">=",lhsJavaScriptAst,["num",range.min.value]],["binary","<=",lhsJavaScriptAst,["num",range.max.value]]]}if(javaScriptAst){javaScriptAst=["binary","||",itemJavaScriptAst,javaScriptAst]}else{javaScriptAst=itemJavaScriptAst}}if(seenRange&&!withinSemantics){javaScriptAst=["binary","&&",["binary","===",lhsJavaScriptAst,["call",["dot",["name","Math"],"floor"],[lhsJavaScriptAst]]],javaScriptAst]}return javaScriptAst}function nodeToJavaScriptAst(node){switch(node.type){case"number":return["num",node.value];case"n":case"i":case"v":case"w":case"f":case"t":return["name",node.type];case"is":return["binary","==="].concat(node.operands.map(nodeToJavaScriptAst));case"isnot":return["binary","!=="].concat(node.operands.map(nodeToJavaScriptAst));case"mod":return["binary","%"].concat(node.operands.map(nodeToJavaScriptAst));case"and":return["binary","&&"].concat(node.operands.map(nodeToJavaScriptAst));case"or":return["binary","||"].concat(node.operands.map(nodeToJavaScriptAst));case"not":return["unary-prefix","!",nodeToJavaScriptAst(node.operands)];case"isnot":return["binary","!=="].concat(node.operands.map(nodeToJavaScriptAst));case"within":return rangeListToJavaScriptAst(node.operands[1],nodeToJavaScriptAst(node.operands[0]),true);case"notwithin":return["unary-prefix","!",rangeListToJavaScriptAst(node.operands[1],nodeToJavaScriptAst(node.operands[0]),true)];case"in":return rangeListToJavaScriptAst(node.operands[1],nodeToJavaScriptAst(node.operands[0]),false);case"notin":return["unary-prefix","!",rangeListToJavaScriptAst(node.operands[1],nodeToJavaScriptAst(node.operands[0]),false)];default:throw new Error("nodeToJavaScriptAst: Unknown node type: "+node.type)}}function traverse(node,lambda){lambda(node);if(node.operands){node.operands.forEach(function(operand){traverse(operand,lambda)})}}function CldrPluralRule(src){this.topLevelNode=parser.parse(src.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," "))}CldrPluralRule.prototype={toJavaScriptAst:function(){return nodeToJavaScriptAst(this.topLevelNode)},eachNode:function(lambda){traverse(this.topLevelNode,lambda)},updateIsUsedByTerm:function(isUsedByTerm){this.eachNode(function(node){if(["i","v","w","f","t","n"].indexOf(node.type)!==-1){isUsedByTerm[node.type]=true}});return isUsedByTerm}};module.exports=CldrPluralRule},{fs:2,path:6,pegjs:24}],10:[function(require,module,exports){var CldrPluralRule=require("./CldrPluralRule");function CldrPluralRuleSet(){this.cldrPluralRuleByCount={}}CldrPluralRuleSet.prototype={addRule:function(cldrPluralRule,count){if(typeof cldrPluralRule==="string"){cldrPluralRule=cldrPluralRule.replace(/\s*@(?:decimal|integer).*$/,"");if(cldrPluralRule.length===0){return}cldrPluralRule=new CldrPluralRule(cldrPluralRule)}this.cldrPluralRuleByCount[count]=cldrPluralRule},toJavaScriptFunctionBodyAst:function(){var statementAsts=[],isUsedByTerm={};Object.keys(this.cldrPluralRuleByCount).forEach(function(count){var cldrPluralRule=this.cldrPluralRuleByCount[count];cldrPluralRule.updateIsUsedByTerm(isUsedByTerm);statementAsts.push(["if",cldrPluralRule.toJavaScriptAst(),["return",["string",count]]])},this);statementAsts.push(["return",["string","other"]]);var varAsts=[];if(isUsedByTerm.i){varAsts.push(["i",["call",["dot",["name","Math"],"floor"],[["call",["dot",["name","Math"],"abs"],[["name","n"]]]]]])}if(isUsedByTerm.v){varAsts.push(["v",["dot",["call",["dot",["call",["dot",["name","n"],"toString"],[]],"replace"],[["regexp","^[^.]*\\.?",""],["string",""]]],"length"]])}if(isUsedByTerm.w){varAsts.push(["w",["dot",["call",["dot",["call",["dot",["name","n"],"toString"],[]],"replace"],[["regexp","^[^.]*\\.?|0+$","g"],["string",""]]],"length"]])}if(isUsedByTerm.f){varAsts.push(["f",["call",["name","parseInt"],[["call",["dot",["call",["dot",["name","n"],"toString"],[]],"replace"],[["regexp","^[^.]*\\.?",""],["string",""]]],["num",10]]]])}if(isUsedByTerm.t){varAsts.push(["t",["call",["name","parseInt"],[["call",["dot",["call",["dot",["name","n"],"toString"],[]],"replace"],[["regexp","^[^.]*\\.?|0+$","g"],["string",""]]],["num",10]]]])}if(Object.keys(isUsedByTerm).length!==0){statementAsts.unshift(["if",["binary","===",["unary-prefix","typeof",["name","n"]],["string","string"]],["stat",["assign",true,["name","n"],["call",["name","parseInt"],[["name","n"],["num",10]]]]],undefined])}if(varAsts.length>0){statementAsts.unshift(["var",varAsts])}return statementAsts}};module.exports=CldrPluralRuleSet},{"./CldrPluralRule":9}],11:[function(require,module,exports){var _=require("underscore");function CldrRbnfRuleSet(config){_.extend(this,config);this.ruleByValue={}}CldrRbnfRuleSet.getSafeRendererName=function(rendererName){return("render-"+rendererName).replace(/[^\w-]/g,"-").replace(/[-_]+([0-9a-z])/gi,function($0,ch){return ch.toUpperCase()}).replace("GREEKNUMERALMAJUSCULES","GreekNumeralMajuscules")};CldrRbnfRuleSet.prototype={toFunctionAst:function(){var that=this,isSeenByRuleSetType={};function ruleToExpressionAst(rule){var expressionAsts=[],rbnf=rule.rbnf;rbnf=rbnf.replace(/^'/,"");rbnf.replace(/(?:([\<\>\=])(?:(%%?[\w\-]+)|([#,0.]+))?\1)|(?:\[([^\]]+)\])|([\x7f-\uffff:'\.\s\w\d\-]+)/gi,function($0,specialChar,otherFormat,decimalFormat,optional,literal){if(specialChar){var expr;if(specialChar==="<"){if(/^\d+$/.test(rule.value)){expr=["call",["dot",["name","Math"],"floor"],[["binary","/",["name","n"],["num",parseInt(rule.value,10)]]]]}else if(rule.value==="-x"){throw new Error("<< not allowed in negative number rule")}else{expr=["call",["dot",["name","Math"],"floor"],[["name","n"]]]}}else if(specialChar===">"){if(/\./.test(rule.value)){expr=["call",["name","parseInt"],[["call",["dot",["call",["name","String"],[["name","n"]]],"replace"],[["regexp","\\d*\\.",""],["string",""]]],["num",10]]]}else if(rule.value==="-x"){expr=["unary-prefix","-",["name","n"]]}else{var radix=rule.radix||10;var exp=Math.floor(Math.log(parseInt(rule.value))/Math.log(radix));var divisor=exp>=0?Math.pow(radix||10,exp):1;expr=["binary","%",["name","n"],["num",divisor]]}}else if(specialChar==="="){expr=["name","n"]}if(otherFormat){var otherFormatName=CldrRbnfRuleSet.getSafeRendererName(otherFormat);isSeenByRuleSetType[otherFormatName]=true;expressionAsts.push(["call",["dot",["name","this"],otherFormatName],[expr]])}else if(decimalFormat){expressionAsts.push(["call",["dot",["name","this"],"renderNumber"],[expr,["string",decimalFormat]]])}else{if(specialChar===">"){expressionAsts.push(["call",["dot",["name","this"],that.type],[expr]])}else if(specialChar==="<"){expressionAsts.push(["call",["dot",["name","this"],that.type],[expr]])}else{throw new Error("== not supported!")}}}else if(optional){var optionalRuleExpressionAst=ruleToExpressionAst({radix:rule.radix,rbnf:optional,value:rule.value});expressionAsts.push(["conditional",["binary","===",["name","n"],["num",parseInt(rule.value,10)]],["string",""],optionalRuleExpressionAst])}else if(literal){expressionAsts.push(["string",literal])}else{throw new Error("Unknown token in "+rule.rbnf)}});if(expressionAsts.length===0){expressionAsts=[["string",""]]}var expressionAst=expressionAsts.shift();while(expressionAsts.length>0){expressionAst=["binary","+",expressionAst,expressionAsts.shift()]}return expressionAst}function conditionToStatementAst(conditionAst,rule){return["if",conditionAst,["return",ruleToExpressionAst(rule)],null]}var statementAsts=[];if(this.ruleByValue["x.0"]||this.ruleByValue["x.x"]){statementAsts.push(["var",[["isFractional",["binary","!==",["name","n"],["call",["dot",["name","Math"],"floor"],[["name","n"]]]]]]])}if(this.ruleByValue["x.0"]){statementAsts.push(conditionToStatementAst(["name","isFractional"],this.ruleByValue["x.0"]))}if(this.ruleByValue["-x"]){statementAsts.push(conditionToStatementAst(["binary","<",["name","n"],["num",0]],this.ruleByValue["-x"]))}if(this.ruleByValue["x.x"]){statementAsts.push(conditionToStatementAst(["binary","&&",["name","isFractional"],["binary",">",["name","n"],["num",1]]],this.ruleByValue["x.x"]))}if(this.ruleByValue["0.x"]){statementAsts.push(conditionToStatementAst(["binary","&&",["binary",">",["name","n"],["num",0]],["binary","<",["name","n"],["num",1]]],this.ruleByValue["0.x"]))}Object.keys(this.ruleByValue).filter(function(value){return/^\d+$/.test(value)}).map(function(value){return parseInt(value,10)}).sort(function(a,b){return b-a}).forEach(function(numericalValue){statementAsts.push(conditionToStatementAst(["binary",">=",["name","n"],["num",numericalValue]],this.ruleByValue[numericalValue]))},this);return{functionAst:["function",null,["n"],statementAsts],dependencies:Object.keys(isSeenByRuleSetType)}}};module.exports=CldrRbnfRuleSet},{underscore:35}],12:[function(require,module,exports){var process=require("__browserify_process"),__dirname="/../../node_modules/cldr/lib";var Path=require("path"),fs=require("fs"),_=require("underscore"),passError=require("passerror"),memoizeAsync=require("./memoizeAsync"),libxmljs=require("libxmljs"),seq=require("seq"),normalizeLocaleId=require("./normalizeLocaleId"),convertObjectsWithIntegerKeysToArrays=require("./convertObjectsWithIntegerKeysToArrays"),CldrPluralRuleSet=require("./CldrPluralRuleSet"),CldrRbnfRuleSet=require("./CldrRbnfRuleSet"),uglifyJs=require("uglify-js");function normalizeXPathQuery(xpathQuery){var xpathQueryFragments=xpathQuery.split("/");for(var i=0;i<xpathQueryFragments.length;i+=1){if(i>0&&xpathQueryFragments[i]===".."&&xpathQueryFragments[i-1]!==".."){xpathQueryFragments.splice(i-1,2);i-=2}}return xpathQueryFragments.join("/")}function expandLocaleIdToPrioritizedList(localeId){if(!localeId){return[]}var localeIds=[localeId];while(/_[^_]+$/.test(localeId)){localeId=localeId.replace(/_[^_]+$/,"");localeIds.push(localeId)}return localeIds}function camelCase(str){return str.replace(/-([a-z])/g,function($0,ch){return ch.toUpperCase()})}function Cldr(cldrPath){if(!(this instanceof Cldr)){return new Cldr(cldrPath)}this.cldrPath=cldrPath;this.documentByFileName={};this.memoizerByFileName={}}Cldr.prototype={get fileNamesByTypeAndNormalizedLocaleId(){if(!this._fileNamesByTypeAndNormalizedLocaleId){this._fileNamesByTypeAndNormalizedLocaleId={};["main","rbnf"].forEach(function(type){this._fileNamesByTypeAndNormalizedLocaleId[type]={};var fileNames;try{fileNames=fs.readdirSync(Path.resolve(this.cldrPath,"common",type))}catch(e){if(e.code==="ENOENT"){return}}fileNames.forEach(function(fileName){var matchFileName=fileName.match(/^(.*)\.xml$/);if(matchFileName){this._fileNamesByTypeAndNormalizedLocaleId[type][normalizeLocaleId(matchFileName[1])]=Path.resolve(this.cldrPath,"common",type,fileName)
}},this)},this)}return this._fileNamesByTypeAndNormalizedLocaleId},get localeIds(){if(!this._localeIds){this._localeIds=Object.keys(this.fileNamesByTypeAndNormalizedLocaleId.main)}return this._localeIds},get calendarIds(){if(!this._calendarIds){this._calendarIds=[];this.getDocument(Path.resolve(this.cldrPath,"common","bcp47","calendar.xml")).find('/ldmlBCP47/keyword/key[@name="ca"]/type').forEach(function(keyNode){var calendarId=keyNode.attr("name").value();if(calendarId==="gregory"){calendarId="gregorian"}this._calendarIds.push(calendarId)},this)}return this._calendarIds},get numberSystemIds(){if(!this._numberSystemIds){this._numberSystemIds=[];this.getDocument(Path.resolve(this.cldrPath,"common","bcp47","number.xml")).find('/ldmlBCP47/keyword/key[@name="nu"]/type').forEach(function(keyNode){this._numberSystemIds.push(keyNode.attr("name").value())},this)}return this._numberSystemIds},getDocument:function(fileName,cb){var that=this;if(that.documentByFileName[fileName]){if(cb){process.nextTick(function(){cb(null,that.documentByFileName[fileName])})}else{return that.documentByFileName[fileName]}}else{if(cb){that.memoizerByFileName[fileName]=that.memoizerByFileName[fileName]||memoizeAsync(function(cb){fs.readFile(fileName,"utf-8",passError(cb,function(xmlString){var document=libxmljs.parseXmlString(xmlString);that.documentByFileName[fileName]=document;cb(null,document)}))});that.memoizerByFileName[fileName](cb)}else{return that.documentByFileName[fileName]=libxmljs.parseXmlString(fs.readFileSync(fileName,"utf-8"))}}},getPrioritizedDocumentsForLocale:function(localeId,type){var that=this;return expandLocaleIdToPrioritizedList(localeId).concat("root").map(function(subLocaleId){return that.fileNamesByTypeAndNormalizedLocaleId[type][normalizeLocaleId(subLocaleId)]}).filter(function(fileName){return!!fileName}).map(function(fileName){return that.getDocument(fileName)})},preload:function(localeIds,cb){var that=this;if(typeof localeIds==="function"){cb=localeIds;localeIds=that.localeIds}localeIds=(Array.isArray(localeIds)?localeIds:[localeIds]).map(normalizeLocaleId);var neededLocaleById={root:true};localeIds.forEach(function(localeId){expandLocaleIdToPrioritizedList(localeId).forEach(function(subLocaleId){neededLocaleById[subLocaleId]=true})});var fileNames=[Path.resolve(that.cldrPath,"common","supplemental","plurals.xml"),Path.resolve(that.cldrPath,"common","supplemental","numberingSystems.xml")];Object.keys(neededLocaleById).forEach(function(localeId){["main","rbnf"].forEach(function(type){var fileName=that.fileNamesByTypeAndNormalizedLocaleId[type][localeId];if(fileName){fileNames.push(fileName)}})});seq(fileNames).parEach(20,function(fileName){that.getDocument(fileName,this)}).seq(function(){cb()}).catch(cb)},createFinder:function(prioritizedDocuments){return function finder(xpathQuery){var prioritizedResults=[];prioritizedDocuments.forEach(function(document,i){var resultsForLocaleDocument=document.find(xpathQuery);if(resultsForLocaleDocument.length===0&&i===prioritizedDocuments.length-1){var queryFragments=xpathQuery.split("/"),poppedQueryFragments=[];while(queryFragments.length>1){var aliasNodes=document.find(queryFragments.join("/")+"/alias");if(aliasNodes.length>0){var aliasSpecifiedQuery=normalizeXPathQuery(queryFragments.join("/")+"/"+aliasNodes[0].attr("path").value()+"/"+poppedQueryFragments.join("/"));Array.prototype.push.apply(prioritizedResults,finder(aliasSpecifiedQuery));break}poppedQueryFragments.unshift(queryFragments.pop())}}else{Array.prototype.push.apply(prioritizedResults,resultsForLocaleDocument)}});return prioritizedResults}},extractLanguageDisplayNames:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),languageDisplayNames={};finder("/ldml/localeDisplayNames/languages/language").forEach(function(node){var id=normalizeLocaleId(node.attr("type").value());languageDisplayNames[id]=languageDisplayNames[id]||node.text()});return languageDisplayNames},extractTimeZoneDisplayNames:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),timeZoneDisplayNames={};finder("/ldml/dates/timeZoneNames/zone").forEach(function(zoneNode){var timeZoneId=zoneNode.attr("type").value(),exemplarCityNodes=zoneNode.find("exemplarCity"),tzNameLocale;if(exemplarCityNodes.length>0){tzNameLocale=exemplarCityNodes[0].text()}else{var genericDisplayNameNodes=zoneNode.find("long/generic");if(genericDisplayNameNodes.length>0){tzNameLocale=genericDisplayNameNodes[0].text()}else{var longDisplayNameNodes=zoneNode.find("long/standard");if(longDisplayNameNodes.length>0){tzNameLocale=longDisplayNameNodes[0].text()}}}if(tzNameLocale){timeZoneDisplayNames[timeZoneId]=timeZoneDisplayNames[timeZoneId]||tzNameLocale}});return timeZoneDisplayNames},extractTimeZoneFormats:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),timeZoneFormats={};["hourFormat","gmtFormat","gmtZeroFormat","regionFormat","fallbackFormat","fallbackRegionFormat"].forEach(function(tagName){finder("/ldml/dates/timeZoneNames/"+tagName).forEach(function(node){var formatName=node.name().replace(/Format$/,""),value=node.text();if(formatName==="hour"){value=value.split(";")}timeZoneFormats[formatName]=timeZoneFormats[formatName]||value})});return timeZoneFormats},extractTerritoryDisplayNames:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),territoryDisplayNames={};finder("/ldml/localeDisplayNames/territories/territory").forEach(function(territoryNode){var territoryId=territoryNode.attr("type").value();territoryDisplayNames[territoryId]=territoryDisplayNames[territoryId]||territoryNode.text()});return territoryDisplayNames},extractCurrencyInfoById:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),currencyDisplayNameByCurrencyId={},currencyDisplayNameByCurrencyIdAndCount={},currencySymbolByCurrencyId={};finder("/ldml/numbers/currencies/currency/displayName").forEach(function(displayNameNode){var currencyId=displayNameNode.parent().attr("type").value(),countAttribute=displayNameNode.attr("count");if(countAttribute){currencyDisplayNameByCurrencyIdAndCount[currencyId]=currencyDisplayNameByCurrencyIdAndCount[currencyId]||{};currencyDisplayNameByCurrencyIdAndCount[currencyId][countAttribute.value()]=displayNameNode.text()}else{currencyDisplayNameByCurrencyId[currencyId]=currencyDisplayNameByCurrencyId[currencyId]||displayNameNode.text()}});finder("/ldml/numbers/currencies/currency/symbol").forEach(function(symbolNode){var currencyId=symbolNode.parent().attr("type").value();currencySymbolByCurrencyId[currencyId]=currencySymbolByCurrencyId[currencyId]||symbolNode.text()});var currencyInfoById={};Object.keys(currencyDisplayNameByCurrencyId).forEach(function(currencyId){currencyInfoById[currencyId]=_.extend({displayName:currencyDisplayNameByCurrencyId[currencyId],symbol:currencySymbolByCurrencyId[currencyId]},currencyDisplayNameByCurrencyIdAndCount[currencyId])});return currencyInfoById},extractScriptDisplayNames:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),scriptDisplayNames={};finder("/ldml/localeDisplayNames/scripts/script").forEach(function(scriptNode){var id=scriptNode.attr("type").value();scriptDisplayNames[id]=scriptDisplayNames[id]||scriptNode.text()});return scriptDisplayNames},extractEraNames:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),eraNames;["eraNames","eraAbbr"].forEach(function(eraType){var typeInOutput={eraNames:"wide",eraAbbr:"abbreviated"}[eraType];finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/eras/"+eraType+"/era").forEach(function(eraNode){var type=parseInt(eraNode.attr("type").value(),10);eraNames=eraNames||{};eraNames[typeInOutput]=eraNames[typeInOutput]||{};eraNames[typeInOutput][type]=eraNames[typeInOutput][type]||eraNode.text()})});return convertObjectsWithIntegerKeysToArrays(eraNames)},extractQuarterNames:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),quarterNames;["format","stand-alone"].forEach(function(quarterContext){var quarterContextCamelCase=camelCase(quarterContext);["abbreviated","narrow","wide"].forEach(function(quarterWidth){finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/quarters/quarterContext[@type='"+quarterContext+"']/quarterWidth[@type='"+quarterWidth+"']/quarter").forEach(function(quarterNode){var quarterNo=parseInt(quarterNode.attr("type").value(),10)-1;quarterNames=quarterNames||{};quarterNames[quarterContextCamelCase]=quarterNames[quarterContextCamelCase]||{};quarterNames[quarterContextCamelCase][quarterWidth]=quarterNames[quarterContextCamelCase][quarterWidth]||{};quarterNames[quarterContextCamelCase][quarterWidth][quarterNo]=quarterNames[quarterContextCamelCase][quarterWidth][quarterNo]||quarterNode.text()})})});return convertObjectsWithIntegerKeysToArrays(quarterNames)},extractDayPeriods:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),dayPeriods;["format","stand-alone"].forEach(function(dayPeriodContext){var dayPeriodContextCamelCase=dayPeriodContext.replace(/-([a-z])/g,function($0,ch){return ch.toUpperCase()});["abbreviated","narrow","wide","short"].forEach(function(dayPeriodWidth){finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/dayPeriods/dayPeriodContext[@type='"+dayPeriodContext+"']/dayPeriodWidth[@type='"+dayPeriodWidth+"']/dayPeriod").forEach(function(dayPeriodNode){var type=dayPeriodNode.attr("type").value();dayPeriods=dayPeriods||{};dayPeriods[dayPeriodContextCamelCase]=dayPeriods[dayPeriodContextCamelCase]||{};dayPeriods[dayPeriodContextCamelCase][dayPeriodWidth]=dayPeriods[dayPeriodContextCamelCase][dayPeriodWidth]||{};dayPeriods[dayPeriodContextCamelCase][dayPeriodWidth][type]=dayPeriods[dayPeriodContextCamelCase][dayPeriodWidth][type]||dayPeriodNode.text()})})});return dayPeriods},extractCyclicNames:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),cyclicNames;["dayParts","days","months","years","zodiacs"].forEach(function(cyclicNameSet){["format"].forEach(function(cyclicNameContext){["abbreviated","narrow","wide"].forEach(function(cyclicNameWidth){finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/cyclicNameSets/cyclicNameSet[@type='"+cyclicNameSet+"']/cyclicNameContext[@type='"+cyclicNameContext+"']/cyclicNameWidth[@type='"+cyclicNameWidth+"']/cyclicName").forEach(function(cyclicNameNode){var type=cyclicNameNode.attr("type").value();cyclicNames=cyclicNames||{};cyclicNames[cyclicNameSet]=cyclicNames[cyclicNameSet]||{};cyclicNames[cyclicNameSet][cyclicNameContext]=cyclicNames[cyclicNameSet][cyclicNameContext]||{};cyclicNames[cyclicNameSet][cyclicNameContext][cyclicNameWidth]=cyclicNames[cyclicNameSet][cyclicNameContext][cyclicNameWidth]||{};cyclicNames[cyclicNameSet][cyclicNameContext][cyclicNameWidth][type]=cyclicNames[cyclicNameSet][cyclicNameContext][cyclicNameWidth][type]||cyclicNameNode.text()})})})});return convertObjectsWithIntegerKeysToArrays(cyclicNames)},extractMonthNames:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),monthNames;["format","stand-alone"].forEach(function(monthContext){var monthContextCamelCase=monthContext.replace(/-([a-z])/g,function($0,ch){return ch.toUpperCase()});["abbreviated","narrow","wide"].forEach(function(monthWidth){finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/months/monthContext[@type='"+monthContext+"']/monthWidth[@type='"+monthWidth+"']/month").forEach(function(monthNode){var monthNo=parseInt(monthNode.attr("type").value(),10)-1;monthNames=monthNames||{};monthNames[monthContextCamelCase]=monthNames[monthContextCamelCase]||{};monthNames[monthContextCamelCase][monthWidth]=monthNames[monthContextCamelCase][monthWidth]||{};monthNames[monthContextCamelCase][monthWidth][monthNo]=monthNames[monthContextCamelCase][monthWidth][monthNo]||monthNode.text()})})});return convertObjectsWithIntegerKeysToArrays(monthNames)},extractMonthPatterns:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),monthPatterns;["format","numeric","stand-alone"].forEach(function(monthPatternContext){var monthPatternContextCamelCase=monthPatternContext.replace(/-([a-z])/g,function($0,ch){return ch.toUpperCase()});["abbreviated","narrow","wide","all"].forEach(function(monthPatternWidth){finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/monthPatterns/monthPatternContext[@type='"+monthPatternContext+"']/monthPatternWidth[@type='"+monthPatternWidth+"']/monthPattern").forEach(function(monthPatternNode){var type=monthPatternNode.attr("type").value();monthPatterns=monthPatterns||{};monthPatterns[monthPatternContextCamelCase]=monthPatterns[monthPatternContextCamelCase]||{};monthPatterns[monthPatternContextCamelCase][monthPatternWidth]=monthPatterns[monthPatternContextCamelCase][monthPatternWidth]||{};monthPatterns[monthPatternContextCamelCase][monthPatternWidth][type]=monthPatterns[monthPatternContextCamelCase][monthPatternWidth][type]||monthPatternNode.text()})})});return monthPatterns},extractDayNames:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),dayNoByCldrId={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},dayNames;["format","numeric","stand-alone"].forEach(function(dayContext){var dayContextCamelCase=dayContext.replace(/-([a-z])/g,function($0,ch){return ch.toUpperCase()});["abbreviated","narrow","wide","short"].forEach(function(dayWidth){finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/days/dayContext[@type='"+dayContext+"']/dayWidth[@type='"+dayWidth+"']/day").forEach(function(dayNode){var dayNo=dayNoByCldrId[dayNode.attr("type").value()];dayNames=dayNames||{};dayNames[dayContextCamelCase]=dayNames[dayContextCamelCase]||{};dayNames[dayContextCamelCase][dayWidth]=dayNames[dayContextCamelCase][dayWidth]||{};dayNames[dayContextCamelCase][dayWidth][dayNo]=dayNames[dayContextCamelCase][dayWidth][dayNo]||dayNode.text()})})});return convertObjectsWithIntegerKeysToArrays(dayNames)},extractFields:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),fields;finder("/ldml/dates/fields/field/displayName").forEach(function(fieldDisplayNameNode){var fieldName=fieldDisplayNameNode.parent().attr("type").value();fields=fields||{};fields[fieldName]=fields[fieldName]||{};fields[fieldName].displayName=fields[fieldName].displayName||fieldDisplayNameNode.text()});finder("/ldml/dates/fields/field/relative").forEach(function(fieldRelativeNode){var fieldName=fieldRelativeNode.parent().attr("type").value(),type=fieldRelativeNode.attr("type").value();fields=fields||{};fields[fieldName]=fields[fieldName]||{};fields[fieldName].relative=fields[fieldName].relative||{};fields[fieldName].relative[type]=fields[fieldName].relative[type]||fieldRelativeNode.text()});finder("/ldml/dates/fields/field/relativeTime/relativeTimePattern").forEach(function(relativeTimePatternNode){var relativeTimeNode=relativeTimePatternNode.parent(),fieldName=relativeTimeNode.parent().attr("type").value(),type=relativeTimeNode.attr("type").value(),count=relativeTimePatternNode.attr("count").value();fields=fields||{};fields[fieldName]=fields[fieldName]||{};fields[fieldName].relativeTime=fields[fieldName].relativeTime||{};fields[fieldName].relativeTime[type]=fields[fieldName].relativeTime[type]||{};fields[fieldName].relativeTime[type][count]=fields[fieldName].relativeTime[type][count]||relativeTimePatternNode.text()});return fields},extractDateTimePatterns:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),dateTimePatterns;finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/dateTimeFormats/dateTimeFormatLength/dateTimeFormat").forEach(function(dateTimeFormatNode){var dateTimeFormatLengthType=dateTimeFormatNode.parent().attr("type").value(),patternNodes=dateTimeFormatNode.find("pattern");if(patternNodes.length!==1){throw new Error("Expected exactly one pattern in dateTimeFormatNode")}dateTimePatterns=dateTimePatterns||{};dateTimePatterns[dateTimeFormatLengthType]=dateTimePatterns[dateTimeFormatLengthType]||patternNodes[0].text()});return dateTimePatterns},extractDateOrTimeFormats:function(localeId,calendarId,dateOrTime){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),formats;finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/"+dateOrTime+"Formats/"+dateOrTime+"FormatLength/"+dateOrTime+"Format/*").forEach(function(patternNode){var type=patternNode.parent().parent().attr("type").value();formats=formats||{};formats[type]=formats[type]||patternNode.text()});return formats},extractDateFormats:function(localeId,calendarId){return this.extractDateOrTimeFormats(localeId,calendarId,"date")},extractTimeFormats:function(localeId,calendarId){return this.extractDateOrTimeFormats(localeId,calendarId,"time")},extractDateFormatItems:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),dateFormatItems;finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/dateTimeFormats/availableFormats/dateFormatItem").forEach(function(dateFormatItemNode){var id=dateFormatItemNode.attr("id").value();dateFormatItems=dateFormatItems||{};dateFormatItems[id]=dateFormatItems[id]||dateFormatItemNode.text()});return dateFormatItems},extractDateIntervalFormats:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),dateIntervalFormats;finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/dateTimeFormats/intervalFormats/intervalFormatItem").forEach(function(intervalFormatItemNode){var dateIntervalFormat={};intervalFormatItemNode.childNodes().forEach(function(greatestDifferenceNode){var greatestDifferenceIdAttribute=greatestDifferenceNode.attr("id");if(!greatestDifferenceIdAttribute){return}var greatestDifferenceId=greatestDifferenceIdAttribute.value();dateIntervalFormat[greatestDifferenceId]=dateIntervalFormat[greatestDifferenceId]||greatestDifferenceNode.text()});var id=intervalFormatItemNode.attr("id").value();dateIntervalFormats=dateIntervalFormats||{};dateIntervalFormats[id]=dateIntervalFormats[id]||dateIntervalFormat});return dateIntervalFormats},extractDateIntervalFallbackFormat:function(localeId,calendarId){calendarId=calendarId||"gregorian";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),dateIntervalFallbackFormat;finder("/ldml/dates/calendars/calendar[@type='"+calendarId+"']/dateTimeFormats/intervalFormats/intervalFormatFallback").forEach(function(intervalFormatFallbackNode){dateIntervalFallbackFormat=dateIntervalFallbackFormat||intervalFormatFallbackNode.text()});return dateIntervalFallbackFormat},extractNumberSymbols:function(localeId,numberSystemId){numberSystemId=numberSystemId||"latn";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),numberSymbols;finder("/ldml/numbers/symbols[@numberSystem = '"+numberSystemId+"']/*[name() != 'alias']").concat(finder("/ldml/numbers/symbols/*[name() != 'alias']")).forEach(function(numberSymbolNode){var symbolId=numberSymbolNode.name();numberSymbols=numberSymbols||{};numberSymbols[symbolId]=numberSymbols[symbolId]||numberSymbolNode.text()});return numberSymbols},extractNumberFormats:function(localeId,numberSystemId){numberSystemId=numberSystemId||"latn";var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),numberFormats;["scientific","decimal","currency","percent"].forEach(function(formatType){["full","long","medium","short"].forEach(function(length){finder("/ldml/numbers/"+formatType+"Formats[@numberSystem = '"+numberSystemId+"']/"+formatType+"FormatLength[@type='"+length+"']/"+formatType+"Format/pattern").forEach(function(patternNode){var type=patternNode.attr("type").value(),count=patternNode.attr("count").value();numberFormats=numberFormats||{};numberFormats[formatType]=numberFormats[formatType]||{};numberFormats[formatType][length]=numberFormats[formatType][length]||{};numberFormats[formatType][length][type]=numberFormats[formatType][length][type]||{};numberFormats[formatType][length][type][count]=numberFormats[formatType][length][type][count]||patternNode.text()})});finder("/ldml/numbers/"+formatType+"Formats[@numberSystem = '"+numberSystemId+"']/"+formatType+"FormatLength[not(@type)]/"+formatType+"Format/pattern").forEach(function(patternNode){numberFormats=numberFormats||{};numberFormats[formatType]=numberFormats[formatType]||{};numberFormats[formatType].default=numberFormats[formatType].default||patternNode.text()});finder("/ldml/numbers/"+formatType+"Formats[@numberSystem = '"+numberSystemId+"']/unitPattern").forEach(function(unitPatternNode){var count=unitPatternNode.attr("count").value();numberFormats=numberFormats||{};numberFormats[formatType]=numberFormats[formatType]||{};numberFormats[formatType][count]=numberFormats[formatType][count]||unitPatternNode.text()})});return numberFormats},extractDefaultNumberSystemId:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),defaultNumberSystemId;finder("/ldml/numbers/defaultNumberingSystem").forEach(function(defaultNumberingSystemNode){defaultNumberSystemId=defaultNumberSystemId||defaultNumberingSystemNode.text()});return defaultNumberSystemId},extractUnitPatterns:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),unitPatterns={};finder("/ldml/units/unitLength/unit/unitPattern").forEach(function(unitPatternNode){var unitNode=unitPatternNode.parent(),unitLength=unitNode.parent().attr("type").value(),unitId=unitNode.attr("type").value().replace(/-([a-z])/g,function($0,ch){return ch.toUpperCase()});unitPatterns[unitLength]=unitPatterns[unitLength]||{};unitPatterns[unitLength].unit=unitPatterns[unitLength].unit||{};unitPatterns[unitLength].unit[unitId]=unitPatterns[unitLength].unit[unitId]||{};var count=unitPatternNode.attr("count").value();unitPatterns[unitLength].unit[unitId][count]=unitPatterns[unitLength].unit[unitId][count]||unitPatternNode.text()});finder("/ldml/units/unitLength/compoundUnit/compoundUnitPattern").forEach(function(compoundUnitPatternNode){var compoundUnitNode=compoundUnitPatternNode.parent(),unitLength=compoundUnitNode.parent().attr("type").value(),compoundUnitId=compoundUnitNode.attr("type").value();unitPatterns[unitLength].compoundUnit=unitPatterns[unitLength].compoundUnit||{};unitPatterns[unitLength].compoundUnit[compoundUnitId]=compoundUnitPatternNode.text()});return unitPatterns},extractDelimiters:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),delimiters={};finder("/ldml/delimiters/*").forEach(function(delimiterNode){var type=delimiterNode.name();delimiters[type]=delimiters[type]||delimiterNode.text()});return delimiters},extractListPatterns:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),listPatterns={};finder("/ldml/listPatterns/listPattern/listPatternPart").forEach(function(listPatternPartNode){var listPatternTypeAttribute=listPatternPartNode.parent().attr("type"),type=listPatternTypeAttribute?camelCase(listPatternTypeAttribute.value()):"default",part=listPatternPartNode.attr("type").value();listPatterns[type]=listPatterns[type]||{};listPatterns[type][part]=listPatterns[type][part]||listPatternPartNode.text()});return listPatterns},extractCharacters:function(localeId){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"main")),characters={exemplar:{},ellipsis:{}};finder("/ldml/characters/exemplarCharacters").forEach(function(exemplarCharactersNode){var typeAttr=exemplarCharactersNode.attr("type"),type=typeAttr&&typeAttr.value()||"default";characters.exemplar[type]=characters.exemplar[type]||exemplarCharactersNode.text().replace(/^\[|\]$/g,"").split(" ")});finder("/ldml/characters/ellipsis").forEach(function(ellipsisNode){var type=ellipsisNode.attr("type").value();characters.ellipsis[type]=characters.ellipsis[type]||ellipsisNode.text()});finder("/ldml/characters/moreInformation").forEach(function(moreInformationNode){characters.moreInformation=characters.moreInformation||moreInformationNode.text()});return characters},extractPluralRuleFunction:function(localeId){var that=this,document=that.getDocument(Path.resolve(that.cldrPath,"common","supplemental","plurals.xml")),subLocaleIds=expandLocaleIdToPrioritizedList(localeId),statementAsts=[];for(var i=0;i<subLocaleIds.length;i+=1){var subLocaleId=subLocaleIds[i],matchLocalesXPathExpr="@locales = '"+subLocaleId+"' or "+"starts-with(@locales, '"+subLocaleId+"') or "+"contains(@locales, ' "+subLocaleId+" ') or "+"(contains(@locales, ' "+subLocaleId+"') and substring-after(@locales, ' "+subLocaleId+"') = '')",pluralRulesNodes=document.find("/supplementalData/plurals/pluralRules["+matchLocalesXPathExpr+"]"),cldrPluralRuleSet=new CldrPluralRuleSet;if(pluralRulesNodes.length>0){pluralRulesNodes[0].find("pluralRule").forEach(function(pluralRuleNode){cldrPluralRuleSet.addRule(pluralRuleNode.text(),pluralRuleNode.attr("count").value())});statementAsts=cldrPluralRuleSet.toJavaScriptFunctionBodyAst();break}}return new Function("n",uglifyJs.uglify.gen_code(["toplevel",statementAsts]))},extractRbnfFunctionByType:function(localeId,types){var finder=this.createFinder(this.getPrioritizedDocumentsForLocale(localeId,"rbnf")),cldrRbnfRuleSetByType={};finder("/ldml/rbnf/rulesetGrouping/ruleset/rbnfrule").forEach(function(rbnfRuleNode){var type=CldrRbnfRuleSet.getSafeRendererName(rbnfRuleNode.parent().attr("type").value()),value=rbnfRuleNode.attr("value").value();cldrRbnfRuleSetByType[type]=cldrRbnfRuleSetByType[type]||new CldrRbnfRuleSet({type:type});if(!cldrRbnfRuleSetByType[type].ruleByValue[value]){var radixAttribute=rbnfRuleNode.attr("radix");cldrRbnfRuleSetByType[type].ruleByValue[value]={value:value,rbnf:rbnfRuleNode.text().replace(/;$/,"").replace(/←/g,"<").replace(/→/g,">"),radix:radixAttribute&&radixAttribute.value()}}});var isAddedByType={},typesToAdd=types?[].concat(types):Object.keys(cldrRbnfRuleSetByType),rbnfFunctionByType={};while(typesToAdd.length>0){var type=typesToAdd.shift();if(!(type in isAddedByType)){isAddedByType[type]=true;var cldrRbnfRuleSet=cldrRbnfRuleSetByType[type];if(cldrRbnfRuleSet){var result=cldrRbnfRuleSet.toFunctionAst();rbnfFunctionByType[type]=new Function("n",uglifyJs.uglify.gen_code(["toplevel",result.functionAst[3]]));Array.prototype.push.apply(typesToAdd,result.dependencies)}}}return rbnfFunctionByType},extractDigitsByNumberSystemId:function(){var document=this.getDocument(Path.resolve(this.cldrPath,"common","supplemental","numberingSystems.xml")),digitsByNumberSystemId={};document.find("/supplementalData/numberingSystems/numberingSystem").forEach(function(numberingSystemNode){var numberSystemId=numberingSystemNode.attr("id").value();if(numberingSystemNode.attr("type").value()==="numeric"){digitsByNumberSystemId[numberSystemId]=numberingSystemNode.attr("digits").value().split(/(?:)/)}else{var rulesAttributeFragments=numberingSystemNode.attr("rules").value().split("/"),sourceLocaleId=rulesAttributeFragments.length===3?normalizeLocaleId(rulesAttributeFragments[0]):"root",ruleType=CldrRbnfRuleSet.getSafeRendererName(rulesAttributeFragments[rulesAttributeFragments.length-1]);digitsByNumberSystemId[numberSystemId]=ruleType}},this);return digitsByNumberSystemId}};module.exports=new Cldr(Path.resolve(__dirname,"../3rdparty/cldr/"));module.exports.load=function(cldrPath){return new Cldr(cldrPath)}},{"./CldrPluralRuleSet":10,"./CldrRbnfRuleSet":11,"./convertObjectsWithIntegerKeysToArrays":13,"./memoizeAsync":14,"./normalizeLocaleId":15,__browserify_process:5,fs:2,libxmljs:16,passerror:23,path:6,seq:25,"uglify-js":34,underscore:35}],13:[function(require,module,exports){module.exports=function convertObjectsWithIntegerKeysToArrays(obj){if(Array.isArray(obj)){return obj.map(convertObjectsWithIntegerKeysToArrays)}else if(typeof obj==="object"&&obj!==null){var keys=Object.keys(obj);if(0 in obj||1 in obj){var firstNumericKeyNumber=0 in obj?0:1,nextNumericKeyNumber=firstNumericKeyNumber+1;while(nextNumericKeyNumber in obj){nextNumericKeyNumber+=1}if(keys.length>0&&nextNumericKeyNumber===keys.length+firstNumericKeyNumber){var array=[],i;for(i=0;i<firstNumericKeyNumber;i+=1){array.push(undefined)}for(i=firstNumericKeyNumber;i<keys.length;i+=1){array.push(convertObjectsWithIntegerKeysToArrays(obj[i]))}return array}}var resultObj={};keys.forEach(function(key){if(typeof obj[key]!=="undefined"){resultObj[key]=convertObjectsWithIntegerKeysToArrays(obj[key])}});return resultObj}else{return obj}}},{}],14:[function(require,module,exports){var process=require("__browserify_process");module.exports=function memoizeAsync(fn){var resultArguments,waitingCallbacks;return function(cb){var that=this;if(resultArguments){process.nextTick(function(){cb.apply(this,resultArguments)})}else{if(waitingCallbacks){waitingCallbacks.push(cb)}else{waitingCallbacks=[cb];fn(function(){var resultArguments=arguments;waitingCallbacks.forEach(function(waitingCallback){waitingCallback.apply(this,resultArguments)});waitingCallbacks=null})}}}}},{__browserify_process:5}],15:[function(require,module,exports){module.exports=function normalizeLocaleId(localeId){return localeId&&localeId.replace(/-/g,"_").toLowerCase()}},{}],16:[function(require,module,exports){var bindings=require("./lib/bindings");var Document=require("./lib/document");module.exports.parseXml=Document.fromXml;module.exports.parseHtml=Document.fromHtml;module.exports.version=require("./package.json").version;module.exports.libxml_version=bindings.libxml_version;module.exports.libxml_parser_version=bindings.libxml_parser_version;module.exports.libxml_debug_enabled=bindings.libxml_debug_enabled;module.exports.Document=Document;module.exports.Element=require("./lib/element");Document.fromXmlString=Document.fromXml;Document.fromHtmlString=Document.fromHtmlString;module.exports.parseXmlString=module.exports.parseXml;module.exports.parseHtmlString=module.exports.parseHtml;var sax_parser=require("./lib/sax_parser");module.exports.SaxParser=sax_parser.SaxParser;module.exports.SaxPushParser=sax_parser.SaxPushParser},{"./lib/bindings":17,"./lib/document":18,"./lib/element":19,"./lib/sax_parser":20,"./package.json":22}],17:[function(require,module,exports){module.exports=require("bindings")("xmljs")},{bindings:21}],18:[function(require,module,exports){var bindings=require("./bindings");var Element=require("./element");var Document=function(version,encoding){version=version||"1.0";var doc=new bindings.Document(version);doc.encoding(encoding||"utf8");return doc};Document.prototype=bindings.Document.prototype;Document.prototype.root=function(elem){return this._root(elem)};Document.prototype.node=function(name,content){return this.root(Element(this,name,content))};Document.prototype.find=function(xpath,ns_uri){return this.root().find(xpath,ns_uri)};Document.prototype.get=function(xpath,ns_uri){return this.root().get(xpath,ns_uri)};Document.prototype.child=function(id){if(id===undefined||typeof id!=="number"){throw new Error("id argument required for #child")
}return this.root().child(id)};Document.prototype.childNodes=function(){return this.root().childNodes()};Document.prototype.toString=function(formatted){return this._toString(formatted!==undefined?formatted:true)};Document.prototype.version=function(){return this._version()};Document.prototype.encoding=function(encoding){return this._encoding(encoding)};Document.prototype.validate=function(xsd){return this._validate(xsd)};Document.prototype.setDtd=function(name,ext,sys){if(!name){throw new Error("Must pass in a DTD name")}else if(typeof name!=="string"){throw new Error("Must pass in a valid DTD name")}var params=[name];if(typeof ext!=="undefined"){params.push(ext)}if(ext&&typeof sys!=="undefined"){params.push(sys)}return this._setDtd.apply(this,params)};Document.prototype.namespaces=function(){return this.root().namespaces()};module.exports=Document;module.exports.fromHtml=function(string,opts){opts=opts||{};if(typeof opts!=="object"){throw new Error("fromHtml options must be an object")}return bindings.fromHtml(string,opts)};module.exports.fromXml=function(string){return bindings.fromXml(string)}},{"./bindings":17,"./element":19}],19:[function(require,module,exports){var bindings=require("./bindings");var Document=require("./document");var Element=function(doc,name,content){if(!doc){throw new Error("document argument required")}else if(!(doc instanceof bindings.Document)){throw new Error("document argument must be an "+"instance of Document")}else if(!name){throw new Error("name argument required")}var elem=new bindings.Element(doc,name,content);return elem};Element.prototype=bindings.Element.prototype;Element.prototype.attr=function(){if(arguments.length===1){var arg=arguments[0];if(typeof arg==="object"){for(var k in arg){this._attr(k,arg[k])}return this}else if(typeof arg==="string"){return this._attr(arg)}}else if(arguments.length===2){var name=arguments[0];var value=arguments[1];this._attr(name,value);return this}};Element.prototype.node=function(name,content){var elem=Element(this.doc(),name,content);this.addChild(elem);return elem};Element.prototype.cdata=function(content){this.addCData(content);return this};Element.prototype.get=function(){var res=this.find.apply(this,arguments);if(res instanceof Array){return res[0]}else{return res}};Element.prototype.defineNamespace=function(prefix,href){if(!href){href=prefix;prefix=null}return new bindings.Namespace(this,prefix,href)};module.exports=Element},{"./bindings":17,"./document":18}],20:[function(require,module,exports){var events=require("events");var util=require("util");var bindings=require("./bindings");var SaxParser=function(callbacks){var parser=new bindings.SaxParser;for(var callback in callbacks){parser.on(callback,callbacks[callback])}return parser};var parseString=bindings.SaxParser.prototype.parseString;util.inherits(bindings.SaxParser,events.EventEmitter);bindings.SaxParser.prototype.parseString=parseString;var SaxPushParser=function(callbacks){var parser=new bindings.SaxPushParser;for(var callback in callbacks){parser.on(callback,callbacks[callback])}return parser};var push=bindings.SaxPushParser.prototype.push;util.inherits(bindings.SaxPushParser,events.EventEmitter);bindings.SaxPushParser.prototype.push=push;module.exports.SaxParser=SaxParser;module.exports.SaxPushParser=SaxPushParser},{"./bindings":17,events:3,util:8}],21:[function(require,module,exports){var process=require("__browserify_process"),__filename="/../../node_modules/cldr/node_modules/libxmljs/node_modules/bindings/bindings.js";var fs=require("fs"),path=require("path"),join=path.join,dirname=path.dirname,exists=fs.existsSync||path.existsSync,defaults={arrow:process.env.NODE_BINDINGS_ARROW||" → ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,version:process.versions.node,bindings:"bindings.node","try":[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};function bindings(opts){if(typeof opts=="string"){opts={bindings:opts}}else if(!opts){opts={}}opts.__proto__=defaults;if(!opts.module_root){opts.module_root=exports.getRoot(exports.getFileName())}if(path.extname(opts.bindings)!=".node"){opts.bindings+=".node"}var tries=[],i=0,l=opts.try.length,n;for(;i<l;i++){n=join.apply(null,opts.try[i].map(function(p){return opts[p]||p}));tries.push(n);try{var b=require(n);b.path=n;return b}catch(e){if(!/not find/i.test(e.message)){throw e}}}var err=new Error("Could not load the bindings file. Tried:\n"+tries.map(function(a){return opts.arrow+a}).join("\n"));err.tries=tries;throw err}module.exports=exports=bindings;exports.getFileName=function getFileName(){var origPST=Error.prepareStackTrace,dummy={},fileName;Error.prepareStackTrace=function(e,st){for(var i=0,l=st.length;i<l;i++){fileName=st[i].getFileName();if(fileName!==__filename){return}}};Error.captureStackTrace(dummy);dummy.stack;Error.prepareStackTrace=origPST;return fileName};exports.getRoot=function getRoot(file){var dir=dirname(file),prev;while(true){if(dir==="."){dir=process.cwd()}if(exists(join(dir,"package.json"))||exists(join(dir,"node_modules"))){return dir}if(prev===dir){throw new Error('Could not find module root given file: "'+file+'". Do you have a `package.json` file? ')}prev=dir;dir=join(dir,"..")}}},{__browserify_process:5,fs:2,path:6}],22:[function(require,module,exports){module.exports={name:"libxmljs",author:{name:"Marco Rogers - http://github.com/polotek"},contributors:[{name:"Jeff Smick"}],description:"libxml bindings for v8 javascript engine",version:"0.7.1",scripts:{test:"node --expose_gc ./node_modules/nodeunit/bin/nodeunit test",install:"node-gyp rebuild"},repository:{type:"git",url:"http://github.com/polotek/libxmljs.git"},bugs:{url:"http://github.com/polotek/libxmljs/issues"},main:"./index",engines:{node:">=0.4.7"},dependencies:{bindings:"1.0.0"},devDependencies:{nodeunit:"*"},gypfile:true,readme:"# Libxmljs\n[![Build Status](https://secure.travis-ci.org/polotek/libxmljs.png?branch=master)](http://travis-ci.org/polotek/libxmljs)\n\nLibXML bindings for [node.js](http://nodejs.org/)\n\n```javascript\nvar libxmljs = require(\"libxmljs\");\nvar xml =  '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n           '<root>' +\n               '<child foo=\"bar\">' +\n                   '<grandchild baz=\"fizbuzz\">grandchild content</grandchild>' +\n               '</child>' +\n               '<sibling>with content!</sibling>' +\n           '</root>';\n\nvar xmlDoc = libxmljs.parseXml(xml);\n\n// xpath queries\nvar gchild = xmlDoc.get('//grandchild');\n\nconsole.log(gchild.text());  // prints \"grandchild content\"\n\nvar children = xmlDoc.root().childNodes();\nvar child = children[0];\n\nconsole.log(child.attr('foo').value()); // prints \"bar\"\n```\n\n## Basics\n\n* Docs - [http://github.com/polotek/libxmljs/wiki](http://github.com/polotek/libxmljs/wiki)\n* Mailing list - [http://groups.google.com/group/libxmljs](http://groups.google.com/group/libxmljs)\n\n## API and Examples\n\nCheck out the wiki [http://github.com/polotek/libxmljs/wiki](http://github.com/polotek/libxmljs/wiki).\n\nSee the [examples](https://github.com/polotek/libxmljs/tree/master/examples) folder.\n\n## Requirements\n\n* [libxml2](http://www.xmlsoft.org/)\n\nYou will need have the libxml2 library installed and also the libxml2-devel (libxml2-dev on debian systems)\npackage. This comes with the `xml2-config` utility that is needed for\ncompiling.  **This command must be in your path.**\n\n## Installation\n\n**npm**\n\n```shell\nnpm install libxmljs\n```\n\n**source**\n\nTo build with node-gyp:\n\n```shell\nnode-gyp configure\nnode-gyp build\n```\n\nAlternatively, run `make`.\n\n**tests**\n\n```shell\nnpm test\n```\n",readmeFilename:"README.md",homepage:"https://github.com/polotek/libxmljs",_id:"libxmljs@0.7.1",_from:"libxmljs@0.7.1"}},{}],23:[function(require,module,exports){module.exports=function passError(errorCallback,successCallback){return function(err){if(err){errorCallback(err)}else if(successCallback){successCallback.apply(this,[].slice.call(arguments,1))}}}},{}],24:[function(require,module,exports){var PEG=function(undefined){var PEG={VERSION:"0.7.0",buildParser:function(grammar,options){return PEG.compiler.compile(PEG.parser.parse(grammar),options)}};PEG.GrammarError=function(message){this.name="PEG.GrammarError";this.message=message};PEG.GrammarError.prototype=Error.prototype;function range(start,stop){if(stop===undefined){stop=start;start=0}var result=new Array(Math.max(0,stop-start));for(var i=0,j=start;j<stop;i++,j++){result[i]=j}return result}function find(array,callback){var length=array.length;for(var i=0;i<length;i++){if(callback(array[i])){return array[i]}}}function contains(array,value){var length=array.length;for(var i=0;i<length;i++){if(array[i]===value){return true}}return false}function each(array,callback){var length=array.length;for(var i=0;i<length;i++){callback(array[i],i)}}function map(array,callback){var result=[];var length=array.length;for(var i=0;i<length;i++){result[i]=callback(array[i],i)}return result}function pluck(array,key){return map(array,function(e){return e[key]})}function keys(object){var result=[];for(var key in object){result.push(key)}return result}function values(object){var result=[];for(var key in object){result.push(object[key])}return result}function padLeft(input,padding,length){var result=input;var padLength=length-input.length;for(var i=0;i<padLength;i++){result=padding+result}return result}function escape(ch){var charCode=ch.charCodeAt(0);var escapeChar;var length;if(charCode<=255){escapeChar="x";length=2}else{escapeChar="u";length=4}return"\\"+escapeChar+padLeft(charCode.toString(16).toUpperCase(),"0",length)}function quote(s){return'"'+s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}function quoteForRegexpClass(s){return s.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x01-\x08\x0E-\x1F\x80-\uFFFF]/g,escape)}function buildNodeVisitor(functions){return function(node){return functions[node.type].apply(null,arguments)}}function findRuleByName(ast,name){return find(ast.rules,function(r){return r.name===name})}PEG.parser=function(){function quote(s){return'"'+s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var result={parse:function(input,startRule){var parseFunctions={grammar:parse_grammar,initializer:parse_initializer,rule:parse_rule,choice:parse_choice,sequence:parse_sequence,labeled:parse_labeled,prefixed:parse_prefixed,suffixed:parse_suffixed,primary:parse_primary,action:parse_action,braced:parse_braced,nonBraceCharacters:parse_nonBraceCharacters,nonBraceCharacter:parse_nonBraceCharacter,equals:parse_equals,colon:parse_colon,semicolon:parse_semicolon,slash:parse_slash,and:parse_and,not:parse_not,question:parse_question,star:parse_star,plus:parse_plus,lparen:parse_lparen,rparen:parse_rparen,dot:parse_dot,identifier:parse_identifier,literal:parse_literal,string:parse_string,doubleQuotedString:parse_doubleQuotedString,doubleQuotedCharacter:parse_doubleQuotedCharacter,simpleDoubleQuotedCharacter:parse_simpleDoubleQuotedCharacter,singleQuotedString:parse_singleQuotedString,singleQuotedCharacter:parse_singleQuotedCharacter,simpleSingleQuotedCharacter:parse_simpleSingleQuotedCharacter,"class":parse_class,classCharacterRange:parse_classCharacterRange,classCharacter:parse_classCharacter,bracketDelimitedCharacter:parse_bracketDelimitedCharacter,simpleBracketDelimitedCharacter:parse_simpleBracketDelimitedCharacter,simpleEscapeSequence:parse_simpleEscapeSequence,zeroEscapeSequence:parse_zeroEscapeSequence,hexEscapeSequence:parse_hexEscapeSequence,unicodeEscapeSequence:parse_unicodeEscapeSequence,eolEscapeSequence:parse_eolEscapeSequence,digit:parse_digit,hexDigit:parse_hexDigit,letter:parse_letter,lowerCaseLetter:parse_lowerCaseLetter,upperCaseLetter:parse_upperCaseLetter,__:parse___,comment:parse_comment,singleLineComment:parse_singleLineComment,multiLineComment:parse_multiLineComment,eol:parse_eol,eolChar:parse_eolChar,whitespace:parse_whitespace};if(startRule!==undefined){if(parseFunctions[startRule]===undefined){throw new Error("Invalid rule name: "+quote(startRule)+".")}}else{startRule="grammar"}var pos=0;var reportFailures=0;var rightmostFailuresPos=0;var rightmostFailuresExpected=[];function padLeft(input,padding,length){var result=input;var padLength=length-input.length;for(var i=0;i<padLength;i++){result=padding+result}return result}function escape(ch){var charCode=ch.charCodeAt(0);var escapeChar;var length;if(charCode<=255){escapeChar="x";length=2}else{escapeChar="u";length=4}return"\\"+escapeChar+padLeft(charCode.toString(16).toUpperCase(),"0",length)}function matchFailed(failure){if(pos<rightmostFailuresPos){return}if(pos>rightmostFailuresPos){rightmostFailuresPos=pos;rightmostFailuresExpected=[]}rightmostFailuresExpected.push(failure)}function parse_grammar(){var result0,result1,result2,result3;var pos0,pos1;pos0=pos;pos1=pos;result0=parse___();if(result0!==null){result1=parse_initializer();result1=result1!==null?result1:"";if(result1!==null){result3=parse_rule();if(result3!==null){result2=[];while(result3!==null){result2.push(result3);result3=parse_rule()}}else{result2=null}if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,initializer,rules){return{type:"grammar",initializer:initializer!==""?initializer:null,rules:rules,startRule:rules[0].name}}(pos0,result0[1],result0[2])}if(result0===null){pos=pos0}return result0}function parse_initializer(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_action();if(result0!==null){result1=parse_semicolon();result1=result1!==null?result1:"";if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,code){return{type:"initializer",code:code}}(pos0,result0[0])}if(result0===null){pos=pos0}return result0}function parse_rule(){var result0,result1,result2,result3,result4;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_identifier();if(result0!==null){result1=parse_string();result1=result1!==null?result1:"";if(result1!==null){result2=parse_equals();if(result2!==null){result3=parse_choice();if(result3!==null){result4=parse_semicolon();result4=result4!==null?result4:"";if(result4!==null){result0=[result0,result1,result2,result3,result4]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,name,displayName,expression){return{type:"rule",name:name,displayName:displayName!==""?displayName:null,expression:expression}}(pos0,result0[0],result0[1],result0[3])}if(result0===null){pos=pos0}return result0}function parse_choice(){var result0,result1,result2,result3;var pos0,pos1,pos2;pos0=pos;pos1=pos;result0=parse_sequence();if(result0!==null){result1=[];pos2=pos;result2=parse_slash();if(result2!==null){result3=parse_sequence();if(result3!==null){result2=[result2,result3]}else{result2=null;pos=pos2}}else{result2=null;pos=pos2}while(result2!==null){result1.push(result2);pos2=pos;result2=parse_slash();if(result2!==null){result3=parse_sequence();if(result3!==null){result2=[result2,result3]}else{result2=null;pos=pos2}}else{result2=null;pos=pos2}}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,head,tail){if(tail.length>0){var alternatives=[head].concat(map(tail,function(element){return element[1]}));return{type:"choice",alternatives:alternatives}}else{return head}}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}return result0}function parse_sequence(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;result0=[];result1=parse_labeled();while(result1!==null){result0.push(result1);result1=parse_labeled()}if(result0!==null){result1=parse_action();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,elements,code){var expression=elements.length!==1?{type:"sequence",elements:elements}:elements[0];return{type:"action",expression:expression,code:code}}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;result0=[];result1=parse_labeled();while(result1!==null){result0.push(result1);result1=parse_labeled()}if(result0!==null){result0=function(offset,elements){return elements.length!==1?{type:"sequence",elements:elements}:elements[0]}(pos0,result0)}if(result0===null){pos=pos0}}return result0}function parse_labeled(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_identifier();if(result0!==null){result1=parse_colon();if(result1!==null){result2=parse_prefixed();if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,label,expression){return{type:"labeled",label:label,expression:expression}}(pos0,result0[0],result0[2])}if(result0===null){pos=pos0}if(result0===null){result0=parse_prefixed()}return result0}function parse_prefixed(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_and();if(result0!==null){result1=parse_action();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,code){return{type:"semantic_and",code:code}}(pos0,result0[1])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;result0=parse_and();if(result0!==null){result1=parse_suffixed();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,expression){return{type:"simple_and",expression:expression}}(pos0,result0[1])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;result0=parse_not();if(result0!==null){result1=parse_action();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,code){return{type:"semantic_not",code:code}}(pos0,result0[1])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;result0=parse_not();if(result0!==null){result1=parse_suffixed();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,expression){return{type:"simple_not",expression:expression}}(pos0,result0[1])}if(result0===null){pos=pos0}if(result0===null){result0=parse_suffixed()}}}}return result0}function parse_suffixed(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_primary();if(result0!==null){result1=parse_question();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,expression){return{type:"optional",expression:expression}}(pos0,result0[0])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;result0=parse_primary();if(result0!==null){result1=parse_star();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,expression){return{type:"zero_or_more",expression:expression}}(pos0,result0[0])}if(result0===null){pos=pos0}if(result0===null){pos0=pos;pos1=pos;result0=parse_primary();if(result0!==null){result1=parse_plus();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,expression){return{type:"one_or_more",expression:expression}}(pos0,result0[0])}if(result0===null){pos=pos0}if(result0===null){result0=parse_primary()}}}return result0}function parse_primary(){var result0,result1,result2;var pos0,pos1,pos2,pos3;pos0=pos;pos1=pos;result0=parse_identifier();if(result0!==null){pos2=pos;reportFailures++;pos3=pos;result1=parse_string();result1=result1!==null?result1:"";if(result1!==null){result2=parse_equals();if(result2!==null){result1=[result1,result2]}else{result1=null;pos=pos3}}else{result1=null;pos=pos3}reportFailures--;if(result1===null){result1=""}else{result1=null;pos=pos2}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,name){return{type:"rule_ref",name:name}}(pos0,result0[0])}if(result0===null){pos=pos0}if(result0===null){result0=parse_literal();if(result0===null){pos0=pos;result0=parse_dot();if(result0!==null){result0=function(offset){return{type:"any"}}(pos0)}if(result0===null){pos=pos0}if(result0===null){result0=parse_class();if(result0===null){pos0=pos;pos1=pos;result0=parse_lparen();if(result0!==null){result1=parse_choice();if(result1!==null){result2=parse_rparen();if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,expression){return expression}(pos0,result0[1])}if(result0===null){pos=pos0}}}}}return result0}function parse_action(){var result0,result1;var pos0,pos1;reportFailures++;pos0=pos;pos1=pos;result0=parse_braced();if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,braced){return braced.substr(1,braced.length-2)}(pos0,result0[0])}if(result0===null){pos=pos0}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("action")}return result0}function parse_braced(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===123){result0="{";pos++}else{result0=null;if(reportFailures===0){matchFailed('"{"')}}if(result0!==null){result1=[];result2=parse_braced();if(result2===null){result2=parse_nonBraceCharacter()}while(result2!==null){result1.push(result2);result2=parse_braced();if(result2===null){result2=parse_nonBraceCharacter()}}if(result1!==null){if(input.charCodeAt(pos)===125){result2="}";pos++}else{result2=null;if(reportFailures===0){matchFailed('"}"')}}if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,parts){return"{"+parts.join("")+"}"}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_nonBraceCharacters(){var result0,result1;var pos0;pos0=pos;result1=parse_nonBraceCharacter();if(result1!==null){result0=[];while(result1!==null){result0.push(result1);result1=parse_nonBraceCharacter()}}else{result0=null}if(result0!==null){result0=function(offset,chars){return chars.join("")}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_nonBraceCharacter(){var result0;if(/^[^{}]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[^{}]")}}return result0}function parse_equals(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===61){result0="=";pos++}else{result0=null;if(reportFailures===0){matchFailed('"="')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"="}(pos0)}if(result0===null){pos=pos0}return result0}function parse_colon(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===58){result0=":";pos++}else{result0=null;if(reportFailures===0){matchFailed('":"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return":"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_semicolon(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===59){result0=";";pos++}else{result0=null;if(reportFailures===0){matchFailed('";"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return";"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_slash(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===47){result0="/";pos++}else{result0=null;if(reportFailures===0){matchFailed('"/"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"/"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_and(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===38){result0="&";pos++}else{result0=null;if(reportFailures===0){matchFailed('"&"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"&"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_not(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===33){result0="!";pos++}else{result0=null;if(reportFailures===0){matchFailed('"!"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"!"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_question(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===63){result0="?";pos++}else{result0=null;if(reportFailures===0){matchFailed('"?"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"?"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_star(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===42){result0="*";pos++}else{result0=null;if(reportFailures===0){matchFailed('"*"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"*"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_plus(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===43){result0="+";pos++}else{result0=null;if(reportFailures===0){matchFailed('"+"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"+"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_lparen(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===40){result0="(";pos++}else{result0=null;if(reportFailures===0){matchFailed('"("')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"("}(pos0)}if(result0===null){pos=pos0}return result0}function parse_rparen(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===41){result0=")";pos++}else{result0=null;if(reportFailures===0){matchFailed('")"')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return")"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_dot(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===46){result0=".";pos++}else{result0=null;if(reportFailures===0){matchFailed('"."')}}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"."}(pos0)}if(result0===null){pos=pos0}return result0}function parse_identifier(){var result0,result1,result2;var pos0,pos1;reportFailures++;pos0=pos;pos1=pos;result0=parse_letter();if(result0===null){if(input.charCodeAt(pos)===95){result0="_";pos++}else{result0=null;if(reportFailures===0){matchFailed('"_"')}}if(result0===null){if(input.charCodeAt(pos)===36){result0="$";pos++}else{result0=null;if(reportFailures===0){matchFailed('"$"')}}}}if(result0!==null){result1=[];result2=parse_letter();if(result2===null){result2=parse_digit();if(result2===null){if(input.charCodeAt(pos)===95){result2="_";pos++}else{result2=null;if(reportFailures===0){matchFailed('"_"')}}if(result2===null){if(input.charCodeAt(pos)===36){result2="$";pos++}else{result2=null;if(reportFailures===0){matchFailed('"$"')}}}}}while(result2!==null){result1.push(result2);result2=parse_letter();if(result2===null){result2=parse_digit();if(result2===null){if(input.charCodeAt(pos)===95){result2="_";pos++}else{result2=null;if(reportFailures===0){matchFailed('"_"')}}if(result2===null){if(input.charCodeAt(pos)===36){result2="$";pos++}else{result2=null;if(reportFailures===0){matchFailed('"$"')}}}}}}if(result1!==null){result2=parse___();if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,head,tail){return head+tail.join("")}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("identifier")}return result0}function parse_literal(){var result0,result1,result2;var pos0,pos1;reportFailures++;pos0=pos;pos1=pos;result0=parse_doubleQuotedString();if(result0===null){result0=parse_singleQuotedString()}if(result0!==null){if(input.charCodeAt(pos)===105){result1="i";pos++}else{result1=null;if(reportFailures===0){matchFailed('"i"')}}result1=result1!==null?result1:"";if(result1!==null){result2=parse___();if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,value,flags){return{type:"literal",value:value,ignoreCase:flags==="i"}}(pos0,result0[0],result0[1])}if(result0===null){pos=pos0}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("literal")}return result0}function parse_string(){var result0,result1;var pos0,pos1;reportFailures++;pos0=pos;pos1=pos;result0=parse_doubleQuotedString();if(result0===null){result0=parse_singleQuotedString()}if(result0!==null){result1=parse___();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,string){return string}(pos0,result0[0])}if(result0===null){pos=pos0}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("string")}return result0}function parse_doubleQuotedString(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===34){result0='"';pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\""')}}if(result0!==null){result1=[];result2=parse_doubleQuotedCharacter();
while(result2!==null){result1.push(result2);result2=parse_doubleQuotedCharacter()}if(result1!==null){if(input.charCodeAt(pos)===34){result2='"';pos++}else{result2=null;if(reportFailures===0){matchFailed('"\\""')}}if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,chars){return chars.join("")}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_doubleQuotedCharacter(){var result0;result0=parse_simpleDoubleQuotedCharacter();if(result0===null){result0=parse_simpleEscapeSequence();if(result0===null){result0=parse_zeroEscapeSequence();if(result0===null){result0=parse_hexEscapeSequence();if(result0===null){result0=parse_unicodeEscapeSequence();if(result0===null){result0=parse_eolEscapeSequence()}}}}}return result0}function parse_simpleDoubleQuotedCharacter(){var result0,result1;var pos0,pos1,pos2;pos0=pos;pos1=pos;pos2=pos;reportFailures++;if(input.charCodeAt(pos)===34){result0='"';pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\""')}}if(result0===null){if(input.charCodeAt(pos)===92){result0="\\";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\\\"')}}if(result0===null){result0=parse_eolChar()}}reportFailures--;if(result0===null){result0=""}else{result0=null;pos=pos2}if(result0!==null){if(input.length>pos){result1=input.charAt(pos);pos++}else{result1=null;if(reportFailures===0){matchFailed("any character")}}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,char_){return char_}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_singleQuotedString(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===39){result0="'";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\'"')}}if(result0!==null){result1=[];result2=parse_singleQuotedCharacter();while(result2!==null){result1.push(result2);result2=parse_singleQuotedCharacter()}if(result1!==null){if(input.charCodeAt(pos)===39){result2="'";pos++}else{result2=null;if(reportFailures===0){matchFailed('"\'"')}}if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,chars){return chars.join("")}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_singleQuotedCharacter(){var result0;result0=parse_simpleSingleQuotedCharacter();if(result0===null){result0=parse_simpleEscapeSequence();if(result0===null){result0=parse_zeroEscapeSequence();if(result0===null){result0=parse_hexEscapeSequence();if(result0===null){result0=parse_unicodeEscapeSequence();if(result0===null){result0=parse_eolEscapeSequence()}}}}}return result0}function parse_simpleSingleQuotedCharacter(){var result0,result1;var pos0,pos1,pos2;pos0=pos;pos1=pos;pos2=pos;reportFailures++;if(input.charCodeAt(pos)===39){result0="'";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\'"')}}if(result0===null){if(input.charCodeAt(pos)===92){result0="\\";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\\\"')}}if(result0===null){result0=parse_eolChar()}}reportFailures--;if(result0===null){result0=""}else{result0=null;pos=pos2}if(result0!==null){if(input.length>pos){result1=input.charAt(pos);pos++}else{result1=null;if(reportFailures===0){matchFailed("any character")}}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,char_){return char_}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_class(){var result0,result1,result2,result3,result4,result5;var pos0,pos1;reportFailures++;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===91){result0="[";pos++}else{result0=null;if(reportFailures===0){matchFailed('"["')}}if(result0!==null){if(input.charCodeAt(pos)===94){result1="^";pos++}else{result1=null;if(reportFailures===0){matchFailed('"^"')}}result1=result1!==null?result1:"";if(result1!==null){result2=[];result3=parse_classCharacterRange();if(result3===null){result3=parse_classCharacter()}while(result3!==null){result2.push(result3);result3=parse_classCharacterRange();if(result3===null){result3=parse_classCharacter()}}if(result2!==null){if(input.charCodeAt(pos)===93){result3="]";pos++}else{result3=null;if(reportFailures===0){matchFailed('"]"')}}if(result3!==null){if(input.charCodeAt(pos)===105){result4="i";pos++}else{result4=null;if(reportFailures===0){matchFailed('"i"')}}result4=result4!==null?result4:"";if(result4!==null){result5=parse___();if(result5!==null){result0=[result0,result1,result2,result3,result4,result5]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,inverted,parts,flags){var partsConverted=map(parts,function(part){return part.data});var rawText="["+inverted+map(parts,function(part){return part.rawText}).join("")+"]"+flags;return{type:"class",inverted:inverted==="^",ignoreCase:flags==="i",parts:partsConverted,rawText:rawText}}(pos0,result0[1],result0[2],result0[4])}if(result0===null){pos=pos0}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("character class")}return result0}function parse_classCharacterRange(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;result0=parse_classCharacter();if(result0!==null){if(input.charCodeAt(pos)===45){result1="-";pos++}else{result1=null;if(reportFailures===0){matchFailed('"-"')}}if(result1!==null){result2=parse_classCharacter();if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,begin,end){if(begin.data.charCodeAt(0)>end.data.charCodeAt(0)){throw new this.SyntaxError("Invalid character range: "+begin.rawText+"-"+end.rawText+".")}return{data:[begin.data,end.data],rawText:begin.rawText+"-"+end.rawText}}(pos0,result0[0],result0[2])}if(result0===null){pos=pos0}return result0}function parse_classCharacter(){var result0;var pos0;pos0=pos;result0=parse_bracketDelimitedCharacter();if(result0!==null){result0=function(offset,char_){return{data:char_,rawText:quoteForRegexpClass(char_)}}(pos0,result0)}if(result0===null){pos=pos0}return result0}function parse_bracketDelimitedCharacter(){var result0;result0=parse_simpleBracketDelimitedCharacter();if(result0===null){result0=parse_simpleEscapeSequence();if(result0===null){result0=parse_zeroEscapeSequence();if(result0===null){result0=parse_hexEscapeSequence();if(result0===null){result0=parse_unicodeEscapeSequence();if(result0===null){result0=parse_eolEscapeSequence()}}}}}return result0}function parse_simpleBracketDelimitedCharacter(){var result0,result1;var pos0,pos1,pos2;pos0=pos;pos1=pos;pos2=pos;reportFailures++;if(input.charCodeAt(pos)===93){result0="]";pos++}else{result0=null;if(reportFailures===0){matchFailed('"]"')}}if(result0===null){if(input.charCodeAt(pos)===92){result0="\\";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\\\"')}}if(result0===null){result0=parse_eolChar()}}reportFailures--;if(result0===null){result0=""}else{result0=null;pos=pos2}if(result0!==null){if(input.length>pos){result1=input.charAt(pos);pos++}else{result1=null;if(reportFailures===0){matchFailed("any character")}}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,char_){return char_}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_simpleEscapeSequence(){var result0,result1,result2;var pos0,pos1,pos2;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===92){result0="\\";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\\\"')}}if(result0!==null){pos2=pos;reportFailures++;result1=parse_digit();if(result1===null){if(input.charCodeAt(pos)===120){result1="x";pos++}else{result1=null;if(reportFailures===0){matchFailed('"x"')}}if(result1===null){if(input.charCodeAt(pos)===117){result1="u";pos++}else{result1=null;if(reportFailures===0){matchFailed('"u"')}}if(result1===null){result1=parse_eolChar()}}}reportFailures--;if(result1===null){result1=""}else{result1=null;pos=pos2}if(result1!==null){if(input.length>pos){result2=input.charAt(pos);pos++}else{result2=null;if(reportFailures===0){matchFailed("any character")}}if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,char_){return char_.replace("b","\b").replace("f","\f").replace("n","\n").replace("r","\r").replace("t","	").replace("v","")}(pos0,result0[2])}if(result0===null){pos=pos0}return result0}function parse_zeroEscapeSequence(){var result0,result1;var pos0,pos1,pos2;pos0=pos;pos1=pos;if(input.substr(pos,2)==="\\0"){result0="\\0";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"\\\\0"')}}if(result0!==null){pos2=pos;reportFailures++;result1=parse_digit();reportFailures--;if(result1===null){result1=""}else{result1=null;pos=pos2}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset){return"\x00"}(pos0)}if(result0===null){pos=pos0}return result0}function parse_hexEscapeSequence(){var result0,result1,result2;var pos0,pos1;pos0=pos;pos1=pos;if(input.substr(pos,2)==="\\x"){result0="\\x";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"\\\\x"')}}if(result0!==null){result1=parse_hexDigit();if(result1!==null){result2=parse_hexDigit();if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,h1,h2){return String.fromCharCode(parseInt(h1+h2,16))}(pos0,result0[1],result0[2])}if(result0===null){pos=pos0}return result0}function parse_unicodeEscapeSequence(){var result0,result1,result2,result3,result4;var pos0,pos1;pos0=pos;pos1=pos;if(input.substr(pos,2)==="\\u"){result0="\\u";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"\\\\u"')}}if(result0!==null){result1=parse_hexDigit();if(result1!==null){result2=parse_hexDigit();if(result2!==null){result3=parse_hexDigit();if(result3!==null){result4=parse_hexDigit();if(result4!==null){result0=[result0,result1,result2,result3,result4]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,h1,h2,h3,h4){return String.fromCharCode(parseInt(h1+h2+h3+h4,16))}(pos0,result0[1],result0[2],result0[3],result0[4])}if(result0===null){pos=pos0}return result0}function parse_eolEscapeSequence(){var result0,result1;var pos0,pos1;pos0=pos;pos1=pos;if(input.charCodeAt(pos)===92){result0="\\";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\\\"')}}if(result0!==null){result1=parse_eol();if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos1}}else{result0=null;pos=pos1}if(result0!==null){result0=function(offset,eol){return eol}(pos0,result0[1])}if(result0===null){pos=pos0}return result0}function parse_digit(){var result0;if(/^[0-9]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[0-9]")}}return result0}function parse_hexDigit(){var result0;if(/^[0-9a-fA-F]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[0-9a-fA-F]")}}return result0}function parse_letter(){var result0;result0=parse_lowerCaseLetter();if(result0===null){result0=parse_upperCaseLetter()}return result0}function parse_lowerCaseLetter(){var result0;if(/^[a-z]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[a-z]")}}return result0}function parse_upperCaseLetter(){var result0;if(/^[A-Z]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[A-Z]")}}return result0}function parse___(){var result0,result1;result0=[];result1=parse_whitespace();if(result1===null){result1=parse_eol();if(result1===null){result1=parse_comment()}}while(result1!==null){result0.push(result1);result1=parse_whitespace();if(result1===null){result1=parse_eol();if(result1===null){result1=parse_comment()}}}return result0}function parse_comment(){var result0;reportFailures++;result0=parse_singleLineComment();if(result0===null){result0=parse_multiLineComment()}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("comment")}return result0}function parse_singleLineComment(){var result0,result1,result2,result3;var pos0,pos1,pos2;pos0=pos;if(input.substr(pos,2)==="//"){result0="//";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"//"')}}if(result0!==null){result1=[];pos1=pos;pos2=pos;reportFailures++;result2=parse_eolChar();reportFailures--;if(result2===null){result2=""}else{result2=null;pos=pos2}if(result2!==null){if(input.length>pos){result3=input.charAt(pos);pos++}else{result3=null;if(reportFailures===0){matchFailed("any character")}}if(result3!==null){result2=[result2,result3]}else{result2=null;pos=pos1}}else{result2=null;pos=pos1}while(result2!==null){result1.push(result2);pos1=pos;pos2=pos;reportFailures++;result2=parse_eolChar();reportFailures--;if(result2===null){result2=""}else{result2=null;pos=pos2}if(result2!==null){if(input.length>pos){result3=input.charAt(pos);pos++}else{result3=null;if(reportFailures===0){matchFailed("any character")}}if(result3!==null){result2=[result2,result3]}else{result2=null;pos=pos1}}else{result2=null;pos=pos1}}if(result1!==null){result0=[result0,result1]}else{result0=null;pos=pos0}}else{result0=null;pos=pos0}return result0}function parse_multiLineComment(){var result0,result1,result2,result3;var pos0,pos1,pos2;pos0=pos;if(input.substr(pos,2)==="/*"){result0="/*";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"/*"')}}if(result0!==null){result1=[];pos1=pos;pos2=pos;reportFailures++;if(input.substr(pos,2)==="*/"){result2="*/";pos+=2}else{result2=null;if(reportFailures===0){matchFailed('"*/"')}}reportFailures--;if(result2===null){result2=""}else{result2=null;pos=pos2}if(result2!==null){if(input.length>pos){result3=input.charAt(pos);pos++}else{result3=null;if(reportFailures===0){matchFailed("any character")}}if(result3!==null){result2=[result2,result3]}else{result2=null;pos=pos1}}else{result2=null;pos=pos1}while(result2!==null){result1.push(result2);pos1=pos;pos2=pos;reportFailures++;if(input.substr(pos,2)==="*/"){result2="*/";pos+=2}else{result2=null;if(reportFailures===0){matchFailed('"*/"')}}reportFailures--;if(result2===null){result2=""}else{result2=null;pos=pos2}if(result2!==null){if(input.length>pos){result3=input.charAt(pos);pos++}else{result3=null;if(reportFailures===0){matchFailed("any character")}}if(result3!==null){result2=[result2,result3]}else{result2=null;pos=pos1}}else{result2=null;pos=pos1}}if(result1!==null){if(input.substr(pos,2)==="*/"){result2="*/";pos+=2}else{result2=null;if(reportFailures===0){matchFailed('"*/"')}}if(result2!==null){result0=[result0,result1,result2]}else{result0=null;pos=pos0}}else{result0=null;pos=pos0}}else{result0=null;pos=pos0}return result0}function parse_eol(){var result0;reportFailures++;if(input.charCodeAt(pos)===10){result0="\n";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\n"')}}if(result0===null){if(input.substr(pos,2)==="\r\n"){result0="\r\n";pos+=2}else{result0=null;if(reportFailures===0){matchFailed('"\\r\\n"')}}if(result0===null){if(input.charCodeAt(pos)===13){result0="\r";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\r"')}}if(result0===null){if(input.charCodeAt(pos)===8232){result0="\u2028";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\u2028"')}}if(result0===null){if(input.charCodeAt(pos)===8233){result0="\u2029";pos++}else{result0=null;if(reportFailures===0){matchFailed('"\\u2029"')}}}}}}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("end of line")}return result0}function parse_eolChar(){var result0;if(/^[\n\r\u2028\u2029]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[\\n\\r\\u2028\\u2029]")}}return result0}function parse_whitespace(){var result0;reportFailures++;if(/^[ \t\x0B\f\xA0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]/.test(input.charAt(pos))){result0=input.charAt(pos);pos++}else{result0=null;if(reportFailures===0){matchFailed("[ \\t\\x0B\\f\\xA0\\uFEFF\\u1680\\u180E\\u2000-\\u200A\\u202F\\u205F\\u3000]")}}reportFailures--;if(reportFailures===0&&result0===null){matchFailed("whitespace")}return result0}function cleanupExpected(expected){expected.sort();var lastExpected=null;var cleanExpected=[];for(var i=0;i<expected.length;i++){if(expected[i]!==lastExpected){cleanExpected.push(expected[i]);lastExpected=expected[i]}}return cleanExpected}function computeErrorPosition(){var line=1;var column=1;var seenCR=false;for(var i=0;i<Math.max(pos,rightmostFailuresPos);i++){var ch=input.charAt(i);if(ch==="\n"){if(!seenCR){line++}column=1;seenCR=false}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){line++;column=1;seenCR=true}else{column++;seenCR=false}}return{line:line,column:column}}var result=parseFunctions[startRule]();if(result===null||pos!==input.length){var offset=Math.max(pos,rightmostFailuresPos);var found=offset<input.length?input.charAt(offset):null;var errorPosition=computeErrorPosition();throw new this.SyntaxError(cleanupExpected(rightmostFailuresExpected),found,offset,errorPosition.line,errorPosition.column)}return result},toSource:function(){return this._source}};result.SyntaxError=function(expected,found,offset,line,column){function buildMessage(expected,found){var expectedHumanized,foundHumanized;switch(expected.length){case 0:expectedHumanized="end of input";break;case 1:expectedHumanized=expected[0];break;default:expectedHumanized=expected.slice(0,expected.length-1).join(", ")+" or "+expected[expected.length-1]}foundHumanized=found?quote(found):"end of input";return"Expected "+expectedHumanized+" but "+foundHumanized+" found."}this.name="SyntaxError";this.expected=expected;this.found=found;this.message=buildMessage(expected,found);this.offset=offset;this.line=line;this.column=column};result.SyntaxError.prototype=Error.prototype;return result}();PEG.compiler={appliedPassNames:["reportMissingRules","reportLeftRecursion","removeProxyRules","computeVarNames","computeParams"],compile:function(ast,options){var that=this;each(this.appliedPassNames,function(passName){that.passes[passName](ast)});var source=this.emitter(ast,options);var result=eval(source);result._source=source;return result}};PEG.compiler.passes={reportMissingRules:function(ast){function nop(){}function checkExpression(node){check(node.expression)}function checkSubnodes(propertyName){return function(node){each(node[propertyName],check)}}var check=buildNodeVisitor({grammar:checkSubnodes("rules"),rule:checkExpression,choice:checkSubnodes("alternatives"),sequence:checkSubnodes("elements"),labeled:checkExpression,simple_and:checkExpression,simple_not:checkExpression,semantic_and:nop,semantic_not:nop,optional:checkExpression,zero_or_more:checkExpression,one_or_more:checkExpression,action:checkExpression,rule_ref:function(node){if(!findRuleByName(ast,node.name)){throw new PEG.GrammarError('Referenced rule "'+node.name+'" does not exist.')}},literal:nop,any:nop,"class":nop});check(ast)},reportLeftRecursion:function(ast){function nop(){}function checkExpression(node,appliedRules){check(node.expression,appliedRules)}function checkSubnodes(propertyName){return function(node,appliedRules){each(node[propertyName],function(subnode){check(subnode,appliedRules)})}}var check=buildNodeVisitor({grammar:checkSubnodes("rules"),rule:function(node,appliedRules){check(node.expression,appliedRules.concat(node.name))},choice:checkSubnodes("alternatives"),sequence:function(node,appliedRules){if(node.elements.length>0){check(node.elements[0],appliedRules)}},labeled:checkExpression,simple_and:checkExpression,simple_not:checkExpression,semantic_and:nop,semantic_not:nop,optional:checkExpression,zero_or_more:checkExpression,one_or_more:checkExpression,action:checkExpression,rule_ref:function(node,appliedRules){if(contains(appliedRules,node.name)){throw new PEG.GrammarError('Left recursion detected for rule "'+node.name+'".')}check(findRuleByName(ast,node.name),appliedRules)},literal:nop,any:nop,"class":nop});check(ast,[])},removeProxyRules:function(ast){function isProxyRule(node){return node.type==="rule"&&node.expression.type==="rule_ref"}function replaceRuleRefs(ast,from,to){function nop(){}function replaceInExpression(node,from,to){replace(node.expression,from,to)}function replaceInSubnodes(propertyName){return function(node,from,to){each(node[propertyName],function(subnode){replace(subnode,from,to)})}}var replace=buildNodeVisitor({grammar:replaceInSubnodes("rules"),rule:replaceInExpression,choice:replaceInSubnodes("alternatives"),sequence:replaceInSubnodes("elements"),labeled:replaceInExpression,simple_and:replaceInExpression,simple_not:replaceInExpression,semantic_and:nop,semantic_not:nop,optional:replaceInExpression,zero_or_more:replaceInExpression,one_or_more:replaceInExpression,action:replaceInExpression,rule_ref:function(node,from,to){if(node.name===from){node.name=to}},literal:nop,any:nop,"class":nop});replace(ast,from,to)}var indices=[];each(ast.rules,function(rule,i){if(isProxyRule(rule)){replaceRuleRefs(ast,rule.name,rule.expression.name);if(rule.name===ast.startRule){ast.startRule=rule.expression.name}indices.push(i)}});indices.reverse();each(indices,function(index){ast.rules.splice(index,1)})},computeVarNames:function(ast){function resultVar(index){return"result"+index}function posVar(index){return"pos"+index}function computeLeaf(node,index){node.resultVar=resultVar(index.result);return{result:0,pos:0}}function computeFromExpression(delta){return function(node,index){var depth=compute(node.expression,{result:index.result+delta.result,pos:index.pos+delta.pos});node.resultVar=resultVar(index.result);if(delta.pos!==0){node.posVar=posVar(index.pos)}return{result:depth.result+delta.result,pos:depth.pos+delta.pos}}}var compute=buildNodeVisitor({grammar:function(node,index){each(node.rules,function(node){compute(node,index)})},rule:function(node,index){var depth=compute(node.expression,index);node.resultVar=resultVar(index.result);node.resultVars=map(range(depth.result+1),resultVar);node.posVars=map(range(depth.pos),posVar)},choice:function(node,index){var depths=map(node.alternatives,function(alternative){return compute(alternative,index)});node.resultVar=resultVar(index.result);return{result:Math.max.apply(null,pluck(depths,"result")),pos:Math.max.apply(null,pluck(depths,"pos"))}},sequence:function(node,index){var depths=map(node.elements,function(element,i){return compute(element,{result:index.result+i,pos:index.pos+1})});node.resultVar=resultVar(index.result);node.posVar=posVar(index.pos);return{result:node.elements.length>0?Math.max.apply(null,map(depths,function(d,i){return i+d.result})):0,pos:node.elements.length>0?1+Math.max.apply(null,pluck(depths,"pos")):1}},labeled:computeFromExpression({result:0,pos:0}),simple_and:computeFromExpression({result:0,pos:1}),simple_not:computeFromExpression({result:0,pos:1}),semantic_and:computeLeaf,semantic_not:computeLeaf,optional:computeFromExpression({result:0,pos:0}),zero_or_more:computeFromExpression({result:1,pos:0}),one_or_more:computeFromExpression({result:1,pos:0}),action:computeFromExpression({result:0,pos:1}),rule_ref:computeLeaf,literal:computeLeaf,any:computeLeaf,"class":computeLeaf});compute(ast,{result:0,pos:0})},computeParams:function(ast){var envs=[];function scoped(f){envs.push({});f();envs.pop()}function nop(){}function computeForScopedExpression(node){scoped(function(){compute(node.expression)})}function computeParams(node){var env=envs[envs.length-1],params={},name;for(name in env){params[name]=env[name]}node.params=params}var compute=buildNodeVisitor({grammar:function(node){each(node.rules,compute)},rule:computeForScopedExpression,choice:function(node){scoped(function(){each(node.alternatives,compute)})},sequence:function(node){var env=envs[envs.length-1],name;function fixup(name){each(pluck(node.elements,"resultVar"),function(resultVar,i){if(new RegExp("^"+resultVar+"(\\[\\d+\\])*$").test(env[name])){env[name]=node.resultVar+"["+i+"]"+env[name].substr(resultVar.length)}})}each(node.elements,compute);for(name in env){fixup(name)}},labeled:function(node){envs[envs.length-1][node.label]=node.resultVar;scoped(function(){compute(node.expression)})},simple_and:computeForScopedExpression,simple_not:computeForScopedExpression,semantic_and:computeParams,semantic_not:computeParams,optional:computeForScopedExpression,zero_or_more:computeForScopedExpression,one_or_more:computeForScopedExpression,action:function(node){scoped(function(){compute(node.expression);computeParams(node)})},rule_ref:nop,literal:nop,any:nop,"class":nop});compute(ast)}};PEG.compiler.emitter=function(ast,options){options=options||{};if(options.cache===undefined){options.cache=false}if(options.trackLineAndColumn===undefined){options.trackLineAndColumn=false}var Codie=function(undefined){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0180-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1080-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}function push(s){return"__p.push("+s+");"}function pushRaw(template,length,state){function unindent(code,level,unindentFirst){return code.replace(new RegExp("^.{"+level+"}","gm"),function(str,offset){if(offset===0){return unindentFirst?"":str}else{return""}})}var escaped=stringEscape(unindent(template.substring(0,length),state.indentLevel(),state.atBOL));return escaped.length>0?push('"'+escaped+'"'):""}var Codie={VERSION:"1.1.0",indentStep:2,commands:{"if":{params:/^(.*)$/,compile:function(state,prefix,params){return["if("+params[0]+"){",[]]},stackOp:"push"},"else":{params:/^$/,compile:function(state){var stack=state.commandStack,insideElse=stack[stack.length-1]==="else",insideIf=stack[stack.length-1]==="if";if(insideElse){throw new Error("Multiple #elses.")}if(!insideIf){throw new Error("Using #else outside of #if.")}return["}else{",[]]},stackOp:"replace"},"for":{params:/^([a-zA-Z_][a-zA-Z0-9_]*)[ \t]+in[ \t]+(.*)$/,init:function(state){state.forCurrLevel=0;state.forMaxLevel=0},compile:function(state,prefix,params){var c="__c"+state.forCurrLevel,l="__l"+state.forCurrLevel,i="__i"+state.forCurrLevel;state.forCurrLevel++;if(state.forMaxLevel<state.forCurrLevel){state.forMaxLevel=state.forCurrLevel}return[c+"="+params[1]+";"+l+"="+c+".length;"+"for("+i+"=0;"+i+"<"+l+";"+i+"++){"+params[0]+"="+c+"["+i+"];",[params[0],c,l,i]]},exit:function(state){state.forCurrLevel--},stackOp:"push"},end:{params:/^$/,compile:function(state){var stack=state.commandStack,exit;if(stack.length===0){throw new Error("Too many #ends.")}exit=Codie.commands[stack[stack.length-1]].exit;if(exit){exit(state)}return["}",[]]},stackOp:"pop"},block:{params:/^(.*)$/,compile:function(state,prefix,params){var x="__x",n="__n",l="__l",i="__i";return[x+'="'+stringEscape(prefix.substring(state.indentLevel()))+'";'+n+"=("+params[0]+').toString().split("\\n");'+l+"="+n+".length;"+"for("+i+"=0;"+i+"<"+l+";"+i+"++){"+n+"["+i+"]="+x+"+"+n+"["+i+']+"\\n";'+"}"+push(n+'.join("")'),[x,n,l,i]]},stackOp:"nop"}},template:function(template){var stackOps={push:function(stack,name){stack.push(name)},replace:function(stack,name){stack[stack.length-1]=name},pop:function(stack){stack.pop()},nop:function(){}};function compileExpr(state,expr){state.atBOL=false;return[push(expr),[]]}function compileCommand(state,prefix,name,params){var command,match,result;command=Codie.commands[name];if(!command){throw new Error("Unknown command: #"+name+".")}match=command.params.exec(params);if(match===null){throw new Error("Invalid params for command #"+name+": "+params+".")}result=command.compile(state,prefix,match.slice(1));stackOps[command.stackOp](state.commandStack,name);state.atBOL=true;return result}var state={commandStack:[],atBOL:true,indentLevel:function(){return Codie.indentStep*this.commandStack.length}},code="",vars=["__p=[]"],name,match,result,i;for(name in Codie.commands){if(Codie.commands[name].init){Codie.commands[name].init(state)}}while((match=/^([ \t]*)#([a-zA-Z_][a-zA-Z0-9_]*)(?:[ \t]+([^ \t\n][^\n]*))?[ \t]*(?:\n|$)|#\{([^}]*)\}/m.exec(template))!==null){code+=pushRaw(template,match.index,state);result=match[2]!==undefined&&match[2]!==""?compileCommand(state,match[1],match[2],match[3]||""):compileExpr(state,match[4]);code+=result[0];vars=vars.concat(result[1]);template=template.substring(match.index+match[0].length)}code+=pushRaw(template,template.length,state);if(state.commandStack.length>0){throw new Error("Missing #end.")}vars.sort();for(i=0;i<vars.length;i++){if(vars[i]===vars[i-1]){vars.splice(i--,1)}}return new Function("__v",["__v=__v||{};","var "+vars.join(",")+";","with(__v){",code,'return __p.join("").replace(/^\\n+|\\n+$/g,"");};'].join(""))}};return Codie}();var templates=function(){var name,templates={},sources={grammar:["(function(){","  /*","   * Generated by PEG.js 0.7.0.","   *","   * http://pegjs.majda.cz/","   */","  ","  function quote(s) {","    /*","     * ECMA-262, 5th ed., 7.8.4: All characters may appear literally in a","     * string literal except for the closing quote character, backslash,","     * carriage return, line separator, paragraph separator, and line feed.","     * Any character may appear in the form of an escape sequence.","     *","     * For portability, we also escape escape all control and non-ASCII",'     * characters. Note that "\\0" and "\\v" escape sequences are not used',"     * because JSHint does not like the first and IE the second.","     */","     return '\"' + s","      .replace(/\\\\/g, '\\\\\\\\')  // backslash","      .replace(/\"/g, '\\\\\"')    // closing quote character","      .replace(/\\x08/g, '\\\\b') // backspace","      .replace(/\\t/g, '\\\\t')   // horizontal tab","      .replace(/\\n/g, '\\\\n')   // line feed","      .replace(/\\f/g, '\\\\f')   // form feed","      .replace(/\\r/g, '\\\\r')   // carriage return","      .replace(/[\\x00-\\x07\\x0B\\x0E-\\x1F\\x80-\\uFFFF]/g, escape)","      + '\"';","  }","  ","  var result = {","    /*","     * Parses the input with a generated parser. If the parsing is successfull,","     * returns a value explicitly or implicitly specified by the grammar from","     * which the parser was generated (see |PEG.buildParser|). If the parsing is","     * unsuccessful, throws |PEG.parser.SyntaxError| describing the error.","     */","    parse: function(input, startRule) {","      var parseFunctions = {","        #for rule in node.rules",'          #{string(rule.name) + ": parse_" + rule.name + (rule !== node.rules[node.rules.length - 1] ? "," : "")}',"        #end","      };","      ","      if (startRule !== undefined) {","        if (parseFunctions[startRule] === undefined) {",'          throw new Error("Invalid rule name: " + quote(startRule) + ".");',"        }","      } else {","        startRule = #{string(node.startRule)};","      }","      ",'      #{posInit("pos")};',"      var reportFailures = 0;",'      #{posInit("rightmostFailuresPos")};',"      var rightmostFailuresExpected = [];","      #if options.cache","        var cache = {};","      #end","      ","      function padLeft(input, padding, length) {","        var result = input;","        ","        var padLength = length - input.length;","        for (var i = 0; i < padLength; i++) {","          result = padding + result;","        }","        ","        return result;","      }","      ","      function escape(ch) {","        var charCode = ch.charCodeAt(0);","        var escapeChar;","        var length;","        ","        if (charCode <= 0xFF) {","          escapeChar = 'x';","          length = 2;","        } else {","          escapeChar = 'u';","          length = 4;","        }","        ","        return '\\\\' + escapeChar + padLeft(charCode.toString(16).toUpperCase(), '0', length);","      }","      ","      #if options.trackLineAndColumn","        function clone(object) {","          var result = {};","          for (var key in object) {","            result[key] = object[key];","          }","          return result;","        }","        ","        function advance(pos, n) {","          var endOffset = pos.offset + n;","          ","          for (var offset = pos.offset; offset < endOffset; offset++) {","            var ch = input.charAt(offset);",'            if (ch === "\\n") {',"              if (!pos.seenCR) { pos.line++; }","              pos.column = 1;","              pos.seenCR = false;",'            } else if (ch === "\\r" || ch === "\\u2028" || ch === "\\u2029") {',"              pos.line++;","              pos.column = 1;","              pos.seenCR = true;","            } else {","              pos.column++;","              pos.seenCR = false;","            }","          }","          ","          pos.offset += n;","        }","        ","      #end","      function matchFailed(failure) {",'        if (#{posOffset("pos")} < #{posOffset("rightmostFailuresPos")}) {',"          return;","        }","        ",'        if (#{posOffset("pos")} > #{posOffset("rightmostFailuresPos")}) {','          rightmostFailuresPos = #{posClone("pos")};',"          rightmostFailuresExpected = [];","        }","        ","        rightmostFailuresExpected.push(failure);","      }","      ","      #for rule in node.rules","        #block emit(rule)","        ","      #end","      ","      function cleanupExpected(expected) {","        expected.sort();","        ","        var lastExpected = null;","        var cleanExpected = [];","        for (var i = 0; i < expected.length; i++) {","          if (expected[i] !== lastExpected) {","            cleanExpected.push(expected[i]);","            lastExpected = expected[i];","          }","        }","        return cleanExpected;","      }","      ","      #if !options.trackLineAndColumn","        function computeErrorPosition() {","          /*","           * The first idea was to use |String.split| to break the input up to the","           * error position along newlines and derive the line and column from","           * there. However IE's |split| implementation is so broken that it was","           * enough to prevent it.","           */","          ","          var line = 1;","          var column = 1;","          var seenCR = false;","          ","          for (var i = 0; i < Math.max(pos, rightmostFailuresPos); i++) {","            var ch = input.charAt(i);",'            if (ch === "\\n") {',"              if (!seenCR) { line++; }","              column = 1;","              seenCR = false;",'            } else if (ch === "\\r" || ch === "\\u2028" || ch === "\\u2029") {',"              line++;","              column = 1;","              seenCR = true;","            } else {","              column++;","              seenCR = false;","            }","          }","          ","          return { line: line, column: column };","        }","      #end","      ","      #if node.initializer","        #block emit(node.initializer)","      #end","      ","      var result = parseFunctions[startRule]();","      ","      /*","       * The parser is now in one of the following three states:","       *","       * 1. The parser successfully parsed the whole input.","       *","       *    - |result !== null|",'       *    - |#{posOffset("pos")} === input.length|',"       *    - |rightmostFailuresExpected| may or may not contain something","       *","       * 2. The parser successfully parsed only a part of the input.","       *","       *    - |result !== null|",'       *    - |#{posOffset("pos")} < input.length|',"       *    - |rightmostFailuresExpected| may or may not contain something","       *","       * 3. The parser did not successfully parse any part of the input.","       *","       *   - |result === null|",'       *   - |#{posOffset("pos")} === 0|',"       *   - |rightmostFailuresExpected| contains at least one failure","       *","       * All code following this comment (including called functions) must","       * handle these states.","       */",'      if (result === null || #{posOffset("pos")} !== input.length) {','        var offset = Math.max(#{posOffset("pos")}, #{posOffset("rightmostFailuresPos")});',"        var found = offset < input.length ? input.charAt(offset) : null;","        #if options.trackLineAndColumn",'          var errorPosition = #{posOffset("pos")} > #{posOffset("rightmostFailuresPos")} ? pos : rightmostFailuresPos;',"        #else","          var errorPosition = computeErrorPosition();","        #end","        ","        throw new this.SyntaxError(","          cleanupExpected(rightmostFailuresExpected),","          found,","          offset,","          errorPosition.line,","          errorPosition.column","        );","      }","      ","      return result;","    },","    ","    /* Returns the parser source code. */","    toSource: function() { return this._source; }","  };","  ","  /* Thrown when a parser encounters a syntax error. */","  ","  result.SyntaxError = function(expected, found, offset, line, column) {","    function buildMessage(expected, found) {","      var expectedHumanized, foundHumanized;","      ","      switch (expected.length) {","        case 0:",'          expectedHumanized = "end of input";',"          break;","        case 1:","          expectedHumanized = expected[0];","          break;","        default:",'          expectedHumanized = expected.slice(0, expected.length - 1).join(", ")','            + " or "',"            + expected[expected.length - 1];","      }","      ",'      foundHumanized = found ? quote(found) : "end of input";',"      ",'      return "Expected " + expectedHumanized + " but " + foundHumanized + " found.";',"    }","    ",'    this.name = "SyntaxError";',"    this.expected = expected;","    this.found = found;","    this.message = buildMessage(expected, found);","    this.offset = offset;","    this.line = line;","    this.column = column;","  };","  ","  result.SyntaxError.prototype = Error.prototype;","  ","  return result;","})()"],rule:["function parse_#{node.name}() {","  #if options.cache",'    var cacheKey = "#{node.name}@" + #{posOffset("pos")};',"    var cachedResult = cache[cacheKey];","    if (cachedResult) {",'      pos = #{posClone("cachedResult.nextPos")};',"      return cachedResult.result;","    }","    ","  #end","  #if node.resultVars.length > 0",'    var #{node.resultVars.join(", ")};',"  #end","  #if node.posVars.length > 0",'    var #{node.posVars.join(", ")};',"  #end","  ","  #if node.displayName !== null","    reportFailures++;","  #end","  #block emit(node.expression)","  #if node.displayName !== null","    reportFailures--;","    if (reportFailures === 0 && #{node.resultVar} === null) {","      matchFailed(#{string(node.displayName)});","    }","  #end","  #if options.cache","    ","    cache[cacheKey] = {",'      nextPos: #{posClone("pos")},',"      result:  #{node.resultVar}","    };","  #end","  return #{node.resultVar};","}"],choice:["#block emit(alternative)","#block nextAlternativesCode"],"choice.next":["if (#{node.resultVar} === null) {","  #block code","}"],sequence:["#{posSave(node)};","#block code"],"sequence.iteration":["#block emit(element)","if (#{element.resultVar} !== null) {","  #block code","} else {","  #{node.resultVar} = null;","  #{posRestore(node)};","}"],"sequence.inner":['#{node.resultVar} = [#{pluck(node.elements, "resultVar").join(", ")}];'],simple_and:["#{posSave(node)};","reportFailures++;","#block emit(node.expression)","reportFailures--;","if (#{node.resultVar} !== null) {",'  #{node.resultVar} = "";',"  #{posRestore(node)};","} else {","  #{node.resultVar} = null;","}"],simple_not:["#{posSave(node)};","reportFailures++;","#block emit(node.expression)","reportFailures--;","if (#{node.resultVar} === null) {",'  #{node.resultVar} = "";',"} else {","  #{node.resultVar} = null;","  #{posRestore(node)};","}"],semantic_and:['#{node.resultVar} = (function(#{(options.trackLineAndColumn ? ["offset", "line", "column"] : ["offset"]).concat(keys(node.params)).join(", ")}) {#{node.code}})(#{(options.trackLineAndColumn ? ["pos.offset", "pos.line", "pos.column"] : ["pos"]).concat(values(node.params)).join(", ")}) ? "" : null;'],semantic_not:['#{node.resultVar} = (function(#{(options.trackLineAndColumn ? ["offset", "line", "column"] : ["offset"]).concat(keys(node.params)).join(", ")}) {#{node.code}})(#{(options.trackLineAndColumn ? ["pos.offset", "pos.line", "pos.column"] : ["pos"]).concat(values(node.params)).join(", ")}) ? null : "";'],optional:["#block emit(node.expression)",'#{node.resultVar} = #{node.resultVar} !== null ? #{node.resultVar} : "";'],zero_or_more:["#{node.resultVar} = [];","#block emit(node.expression)","while (#{node.expression.resultVar} !== null) {","  #{node.resultVar}.push(#{node.expression.resultVar});","  #block emit(node.expression)","}"],one_or_more:["#block emit(node.expression)","if (#{node.expression.resultVar} !== null) {","  #{node.resultVar} = [];","  while (#{node.expression.resultVar} !== null) {","    #{node.resultVar}.push(#{node.expression.resultVar});","    #block emit(node.expression)","  }","} else {","  #{node.resultVar} = null;","}"],action:["#{posSave(node)};","#block emit(node.expression)","if (#{node.resultVar} !== null) {",'  #{node.resultVar} = (function(#{(options.trackLineAndColumn ? ["offset", "line", "column"] : ["offset"]).concat(keys(node.params)).join(", ")}) {#{node.code}})(#{(options.trackLineAndColumn ? [node.posVar + ".offset", node.posVar + ".line", node.posVar + ".column"] : [node.posVar]).concat(values(node.params)).join(", ")});',"}","if (#{node.resultVar} === null) {","  #{posRestore(node)};","}"],rule_ref:["#{node.resultVar} = parse_#{node.name}();"],literal:["#if node.value.length === 0",'  #{node.resultVar} = "";',"#else","  #if !node.ignoreCase","    #if node.value.length === 1",'      if (input.charCodeAt(#{posOffset("pos")}) === #{node.value.charCodeAt(0)}) {',"    #else",'      if (input.substr(#{posOffset("pos")}, #{node.value.length}) === #{string(node.value)}) {',"    #end","  #else",'    if (input.substr(#{posOffset("pos")}, #{node.value.length}).toLowerCase() === #{string(node.value.toLowerCase())}) {',"  #end","    #if !node.ignoreCase","      #{node.resultVar} = #{string(node.value)};","    #else",'      #{node.resultVar} = input.substr(#{posOffset("pos")}, #{node.value.length});',"    #end","    #{posAdvance(node.value.length)};","  } else {","    #{node.resultVar} = null;","    if (reportFailures === 0) {","      matchFailed(#{string(string(node.value))});","    }","  }","#end"],any:['if (input.length > #{posOffset("pos")}) {','  #{node.resultVar} = input.charAt(#{posOffset("pos")});',"  #{posAdvance(1)};","} else {","  #{node.resultVar} = null;","  if (reportFailures === 0) {",'    matchFailed("any character");',"  }","}"],"class":['if (#{regexp}.test(input.charAt(#{posOffset("pos")}))) {','  #{node.resultVar} = input.charAt(#{posOffset("pos")});',"  #{posAdvance(1)};","} else {","  #{node.resultVar} = null;","  if (reportFailures === 0) {","    matchFailed(#{string(node.rawText)});","  }","}"]};
for(name in sources){templates[name]=Codie.template(sources[name].join("\n"))}return templates}();function fill(name,vars){vars.string=quote;vars.pluck=pluck;vars.keys=keys;vars.values=values;vars.emit=emit;vars.options=options;if(options.trackLineAndColumn){vars.posInit=function(name){return"var "+name+" = "+"{ offset: 0, line: 1, column: 1, seenCR: false }"};vars.posClone=function(name){return"clone("+name+")"};vars.posOffset=function(name){return name+".offset"};vars.posAdvance=function(n){return"advance(pos, "+n+")"}}else{vars.posInit=function(name){return"var "+name+" = 0"};vars.posClone=function(name){return name};vars.posOffset=function(name){return name};vars.posAdvance=function(n){return n===1?"pos++":"pos += "+n}}vars.posSave=function(node){return node.posVar+" = "+vars.posClone("pos")};vars.posRestore=function(node){return"pos"+" = "+vars.posClone(node.posVar)};return templates[name](vars)}function emitSimple(name){return function(node){return fill(name,{node:node})}}var emit=buildNodeVisitor({grammar:emitSimple("grammar"),initializer:function(node){return node.code},rule:emitSimple("rule"),choice:function(node){var code,nextAlternativesCode;for(var i=node.alternatives.length-1;i>=0;i--){nextAlternativesCode=i!==node.alternatives.length-1?fill("choice.next",{node:node,code:code}):"";code=fill("choice",{alternative:node.alternatives[i],nextAlternativesCode:nextAlternativesCode})}return code},sequence:function(node){var code=fill("sequence.inner",{node:node});for(var i=node.elements.length-1;i>=0;i--){code=fill("sequence.iteration",{node:node,element:node.elements[i],code:code})}return fill("sequence",{node:node,code:code})},labeled:function(node){return emit(node.expression)},simple_and:emitSimple("simple_and"),simple_not:emitSimple("simple_not"),semantic_and:emitSimple("semantic_and"),semantic_not:emitSimple("semantic_not"),optional:emitSimple("optional"),zero_or_more:emitSimple("zero_or_more"),one_or_more:emitSimple("one_or_more"),action:emitSimple("action"),rule_ref:emitSimple("rule_ref"),literal:emitSimple("literal"),any:emitSimple("any"),"class":function(node){var regexp;if(node.parts.length>0){regexp="/^["+(node.inverted?"^":"")+map(node.parts,function(part){return part instanceof Array?quoteForRegexpClass(part[0])+"-"+quoteForRegexpClass(part[1]):quoteForRegexpClass(part)}).join("")+"]/"+(node.ignoreCase?"i":"")}else{regexp=node.inverted?"/^[\\S\\s]/":"/^(?!)/"}return fill("class",{node:node,regexp:regexp})}});return emit(ast)};return PEG}();if(typeof module!=="undefined"){module.exports=PEG}},{}],25:[function(require,module,exports){var process=require("__browserify_process");var EventEmitter=require("events").EventEmitter;var Hash=require("hashish");var Chainsaw=require("chainsaw");module.exports=Seq;function Seq(xs){if(xs&&!Array.isArray(xs)||arguments.length>1){throw new Error("Optional argument to Seq() is exactly one Array")}var ch=Chainsaw(function(saw){builder.call(this,saw,xs||[])});process.nextTick(function(){ch["catch"](function(err){console.error(err.stack?err.stack:err)})});return ch}Seq.ap=Seq;function builder(saw,xs){var context={vars:{},args:{},stack:xs,error:null};context.stack_=context.stack;function action(step,key,f,g){var cb=function(err){var args=[].slice.call(arguments,1);if(err){context.error={message:err,key:key};saw.jump(lastPar);saw.down("catch");g()}else{if(typeof key=="number"){context.stack_[key]=args[0];context.args[key]=args}else{context.stack_.push.apply(context.stack_,args);if(key!==undefined){context.vars[key]=args[0];context.args[key]=args}}if(g)g(args,key)}};Hash(context).forEach(function(v,k){cb[k]=v});cb.into=function(k){key=k;return cb};cb.next=function(err,xs){context.stack_.push.apply(context.stack_,xs);cb.apply(cb,[err].concat(context.stack))};cb.pass=function(err){cb.apply(cb,[err].concat(context.stack))};cb.ok=cb.bind(cb,null);f.apply(cb,context.stack)}var running=0;var errors=0;this.seq=function(key,cb){var bound=[].slice.call(arguments,2);if(typeof key==="function"){if(arguments.length>1)bound.unshift(cb);cb=key;key=undefined}if(context.error)saw.next();else if(running===0){action(saw.step,key,function(){context.stack_=[];var args=[].slice.call(arguments);args.unshift.apply(args,bound.map(function(arg){return arg===Seq?this:arg},this));cb.apply(this,args)},function(){context.stack=context.stack_;saw.next()})}};var lastPar=null;this.par=function(key,cb){lastPar=saw.step;if(running==0){context.stack_=[]}var bound=[].slice.call(arguments,2);if(typeof key==="function"){if(arguments.length>1)bound.unshift(cb);cb=key;key=context.stack_.length;context.stack_.push(null)}var cb_=function(){var args=[].slice.call(arguments);args.unshift.apply(args,bound.map(function(arg){return arg===Seq?this:arg},this));cb.apply(this,args)};running++;var step=saw.step;process.nextTick(function(){action(step,key,cb_,function(args){if(!args)errors++;running--;if(running==0){context.stack=context.stack_.slice();saw.step=lastPar;if(errors>0)saw.down("catch");errors=0;saw.next()}})});saw.next()};["seq","par"].forEach(function(name){this[name+"_"]=function(key){var args=[].slice.call(arguments);var cb=typeof key==="function"?args[0]:args[1];var fn=function(){var argv=[].slice.call(arguments);argv.unshift(this);cb.apply(this,argv)};if(typeof key==="function"){args[0]=fn}else{args[1]=fn}this[name].apply(this,args)}},this);this["catch"]=function(cb){if(context.error){cb.call(context,context.error.message,context.error.key);context.error=null}saw.next()};this.forEach=function(cb){this.seq(function(){context.stack_=context.stack.slice();var end=context.stack.length;if(end===0)this(null);else context.stack.forEach(function(x,i){action(saw.step,i,function(){cb.call(this,x,i);if(i==end-1)saw.next()})})})};this.seqEach=function(cb){this.seq(function(){context.stack_=context.stack.slice();var xs=context.stack.slice();if(xs.length===0)this(null);else(function next(i){action(saw.step,i,function(){cb.call(this,xs[i],i)},function(args){if(!args||i===xs.length-1)saw.next();else next(i+1)})}).bind(this)(0)})};this.parEach=function(limit,cb){var xs=context.stack.slice();if(cb===undefined){cb=limit;limit=xs.length}context.stack_=[];var active=0;var finished=0;var queue=[];if(xs.length===0)saw.next();else xs.forEach(function call(x,i){if(active>=limit){queue.push(call.bind(this,x,i))}else{active++;action(saw.step,i,function(){cb.call(this,x,i)},function(){active--;finished++;if(queue.length>0)queue.shift()();else if(finished===xs.length){saw.next()}})}})};this.parMap=function(limit,cb){var res=[];var len=context.stack.length;if(cb===undefined){cb=limit;limit=len}var res=[];Seq().extend(context.stack).parEach(limit,function(x,i){var self=this;var next=function(){res[i]=arguments[1];self.apply(self,arguments)};next.stack=self.stack;next.stack_=self.stack_;next.vars=self.vars;next.args=self.args;next.error=self.error;next.into=function(key){return function(){res[key]=arguments[1];self.apply(self,arguments)}};next.ok=function(){var args=[].slice.call(arguments);args.unshift(null);return next.apply(next,args)};cb.apply(next,arguments)}).seq(function(){context.stack=res;saw.next()})};this.seqMap=function(cb){var res=[];var lastIdx=context.stack.length-1;this.seqEach(function(x,i){var self=this;var next=function(){res[i]=arguments[1];if(i===lastIdx)context.stack=res;self.apply(self,arguments)};next.stack=self.stack;next.stack_=self.stack_;next.vars=self.vars;next.args=self.args;next.error=self.error;next.into=function(key){return function(){res[key]=arguments[1];if(i===lastIdx)context.stack=res;self.apply(self,arguments)}};next.ok=function(){var args=[].slice.call(arguments);args.unshift(null);return next.apply(next,args)};cb.apply(next,arguments)})};this.parFilter=function(limit,cb){var res=[];var len=context.stack.length;if(cb===undefined){cb=limit;limit=len}var res=[];Seq().extend(context.stack).parEach(limit,function(x,i){var self=this;var next=function(err,ok){if(!err&&ok)res.push([i,x]);arguments[0]=null;self.apply(self,arguments)};next.stack=self.stack;next.stack_=self.stack_;next.vars=self.vars;next.args=self.args;next.error=self.error;next.into=function(key){return function(err,ok){if(!err&&ok)res.push([key,x]);arguments[0]=null;self.apply(self,arguments)}};next.ok=function(){var args=[].slice.call(arguments);args.unshift(null);return next.apply(next,args)};cb.apply(next,arguments)}).seq(function(){context.stack=res.sort().map(function(pair){return pair[1]});saw.next()})};this.seqFilter=function(cb){var res=[];var lastIdx=context.stack.length-1;this.seqEach(function(x,i){var self=this;var next=function(err,ok){if(!err&&ok)res.push([i,x]);if(i===lastIdx)context.stack=res.sort().map(function(pair){return pair[1]});arguments[0]=null;self.apply(self,arguments)};next.stack=self.stack;next.stack_=self.stack_;next.vars=self.vars;next.args=self.args;next.error=self.error;next.into=function(key){return function(err,ok){if(!err&&ok)res.push([key,x]);if(i===lastIdx)context.stack=res.sort().map(function(pair){return pair[1]});arguments[0]=null;self.apply(self,arguments)}};next.ok=function(){var args=[].slice.call(arguments);args.unshift(null);return next.apply(next,args)};cb.apply(next,arguments)})};["forEach","seqEach","parEach","seqMap","parMap","seqFilter","parFilter"].forEach(function(name){this[name+"_"]=function(cb){this[name].call(this,function(){var args=[].slice.call(arguments);args.unshift(this);cb.apply(this,args)})}},this);["push","pop","shift","unshift","splice","reverse"].forEach(function(name){this[name]=function(){context.stack[name].apply(context.stack,[].slice.call(arguments));saw.next();return this}},this);["map","filter","reduce"].forEach(function(name){this[name]=function(){var res=context.stack[name].apply(context.stack,[].slice.call(arguments));context.stack=Array.isArray(res)?res:[res];saw.next();return this}},this);this.extend=function(xs){if(!Array.isArray(xs)){throw new Error("argument to .extend() is not an Array")}context.stack.push.apply(context.stack,xs);saw.next()};this.flatten=function(pancake){var xs=[];if(pancake===undefined){pancake=true}context.stack.forEach(function f(x){if(Array.isArray(x)&&pancake)x.forEach(f);else if(Array.isArray(x))xs=xs.concat(x);else xs.push(x)});context.stack=xs;saw.next()};this.unflatten=function(){context.stack=[context.stack];saw.next()};this.empty=function(){context.stack=[];saw.next()};this.set=function(stack){context.stack=stack;saw.next()};this["do"]=function(cb){saw.nest(cb,context)}}},{__browserify_process:5,chainsaw:26,events:3,hashish:28}],26:[function(require,module,exports){var process=require("__browserify_process");var Traverse=require("traverse");var EventEmitter=require("events").EventEmitter;module.exports=Chainsaw;function Chainsaw(builder){var saw=Chainsaw.saw(builder,{});var r=builder.call(saw.handlers,saw);if(r!==undefined)saw.handlers=r;return saw.chain()}Chainsaw.saw=function(builder,handlers){var saw=new EventEmitter;saw.handlers=handlers;saw.actions=[];saw.step=0;saw.chain=function(){var ch=Traverse(saw.handlers).map(function(node){if(this.isRoot)return node;var ps=this.path;if(typeof node==="function"){this.update(function(){saw.actions.push({path:ps,args:[].slice.call(arguments)});return ch})}});process.nextTick(function(){saw.emit("begin");saw.next()});return ch};saw.next=function(){var action=saw.actions[saw.step];saw.step++;if(!action){saw.emit("end")}else if(!action.trap){var node=saw.handlers;action.path.forEach(function(key){node=node[key]});node.apply(saw.handlers,action.args)}};saw.nest=function(cb){var args=[].slice.call(arguments,1);var autonext=true;if(typeof cb==="boolean"){var autonext=cb;cb=args.shift()}var s=Chainsaw.saw(builder,{});var r=builder.call(s.handlers,s);if(r!==undefined)s.handlers=r;cb.apply(s.chain(),args);if(autonext!==false)s.on("end",saw.next)};saw.trap=function(name,cb){var ps=Array.isArray(name)?name:[name];saw.actions.push({path:ps,step:saw.step,cb:cb,trap:true})};saw.down=function(name){var ps=(Array.isArray(name)?name:[name]).join("/");var i=saw.actions.slice(saw.step).map(function(x){if(x.trap&&x.step<=saw.step)return false;return x.path.join("/")==ps}).indexOf(true);if(i>=0)saw.step+=i;else saw.step=saw.actions.length;var act=saw.actions[saw.step-1];if(act&&act.trap){saw.step=act.step;act.cb()}else saw.next()};saw.jump=function(step){saw.step=step;saw.next()};return saw}},{__browserify_process:5,events:3,traverse:27}],27:[function(require,module,exports){module.exports=Traverse;function Traverse(obj){if(!(this instanceof Traverse))return new Traverse(obj);this.value=obj}Traverse.prototype.get=function(ps){var node=this.value;for(var i=0;i<ps.length;i++){var key=ps[i];if(!Object.hasOwnProperty.call(node,key)){node=undefined;break}node=node[key]}return node};Traverse.prototype.set=function(ps,value){var node=this.value;for(var i=0;i<ps.length-1;i++){var key=ps[i];if(!Object.hasOwnProperty.call(node,key))node[key]={};node=node[key]}node[ps[i]]=value;return value};Traverse.prototype.map=function(cb){return walk(this.value,cb,true)};Traverse.prototype.forEach=function(cb){this.value=walk(this.value,cb,false);return this.value};Traverse.prototype.reduce=function(cb,init){var skip=arguments.length===1;var acc=skip?this.value:init;this.forEach(function(x){if(!this.isRoot||!skip){acc=cb.call(this,acc,x)}});return acc};Traverse.prototype.deepEqual=function(obj){if(arguments.length!==1){throw new Error("deepEqual requires exactly one object to compare against")}var equal=true;var node=obj;this.forEach(function(y){var notEqual=function(){equal=false;return undefined}.bind(this);if(!this.isRoot){if(typeof node!=="object")return notEqual();node=node[this.key]}var x=node;this.post(function(){node=x});var toS=function(o){return Object.prototype.toString.call(o)};if(this.circular){if(Traverse(obj).get(this.circular.path)!==x)notEqual()}else if(typeof x!==typeof y){notEqual()}else if(x===null||y===null||x===undefined||y===undefined){if(x!==y)notEqual()}else if(x.__proto__!==y.__proto__){notEqual()}else if(x===y){}else if(typeof x==="function"){if(x instanceof RegExp){if(x.toString()!=y.toString())notEqual()}else if(x!==y)notEqual()}else if(typeof x==="object"){if(toS(y)==="[object Arguments]"||toS(x)==="[object Arguments]"){if(toS(x)!==toS(y)){notEqual()}}else if(x instanceof Date||y instanceof Date){if(!(x instanceof Date)||!(y instanceof Date)||x.getTime()!==y.getTime()){notEqual()}}else{var kx=Object.keys(x);var ky=Object.keys(y);if(kx.length!==ky.length)return notEqual();for(var i=0;i<kx.length;i++){var k=kx[i];if(!Object.hasOwnProperty.call(y,k)){notEqual()}}}}});return equal};Traverse.prototype.paths=function(){var acc=[];this.forEach(function(x){acc.push(this.path)});return acc};Traverse.prototype.nodes=function(){var acc=[];this.forEach(function(x){acc.push(this.node)});return acc};Traverse.prototype.clone=function(){var parents=[],nodes=[];return function clone(src){for(var i=0;i<parents.length;i++){if(parents[i]===src){return nodes[i]}}if(typeof src==="object"&&src!==null){var dst=copy(src);parents.push(src);nodes.push(dst);Object.keys(src).forEach(function(key){dst[key]=clone(src[key])});parents.pop();nodes.pop();return dst}else{return src}}(this.value)};function walk(root,cb,immutable){var path=[];var parents=[];var alive=true;return function walker(node_){var node=immutable?copy(node_):node_;var modifiers={};var state={node:node,node_:node_,path:[].concat(path),parent:parents.slice(-1)[0],key:path.slice(-1)[0],isRoot:path.length===0,level:path.length,circular:null,update:function(x){if(!state.isRoot){state.parent.node[state.key]=x}state.node=x},"delete":function(){delete state.parent.node[state.key]},remove:function(){if(Array.isArray(state.parent.node)){state.parent.node.splice(state.key,1)}else{delete state.parent.node[state.key]}},before:function(f){modifiers.before=f},after:function(f){modifiers.after=f},pre:function(f){modifiers.pre=f},post:function(f){modifiers.post=f},stop:function(){alive=false}};if(!alive)return state;if(typeof node==="object"&&node!==null){state.isLeaf=Object.keys(node).length==0;for(var i=0;i<parents.length;i++){if(parents[i].node_===node_){state.circular=parents[i];break}}}else{state.isLeaf=true}state.notLeaf=!state.isLeaf;state.notRoot=!state.isRoot;var ret=cb.call(state,state.node);if(ret!==undefined&&state.update)state.update(ret);if(modifiers.before)modifiers.before.call(state,state.node);if(typeof state.node=="object"&&state.node!==null&&!state.circular){parents.push(state);var keys=Object.keys(state.node);keys.forEach(function(key,i){path.push(key);if(modifiers.pre)modifiers.pre.call(state,state.node[key],key);var child=walker(state.node[key]);if(immutable&&Object.hasOwnProperty.call(state.node,key)){state.node[key]=child.node}child.isLast=i==keys.length-1;child.isFirst=i==0;if(modifiers.post)modifiers.post.call(state,child);path.pop()});parents.pop()}if(modifiers.after)modifiers.after.call(state,state.node);return state}(root).node}Object.keys(Traverse.prototype).forEach(function(key){Traverse[key]=function(obj){var args=[].slice.call(arguments,1);var t=Traverse(obj);return t[key].apply(t,args)}});function copy(src){if(typeof src==="object"&&src!==null){var dst;if(Array.isArray(src)){dst=[]}else if(src instanceof Date){dst=new Date(src)}else if(src instanceof Boolean){dst=new Boolean(src)}else if(src instanceof Number){dst=new Number(src)}else if(src instanceof String){dst=new String(src)}else{dst=Object.create(Object.getPrototypeOf(src))}Object.keys(src).forEach(function(key){dst[key]=src[key]});return dst}else return src}},{}],28:[function(require,module,exports){module.exports=Hash;var Traverse=require("traverse");function Hash(hash,xs){if(Array.isArray(hash)&&Array.isArray(xs)){var to=Math.min(hash.length,xs.length);var acc={};for(var i=0;i<to;i++){acc[hash[i]]=xs[i]}return Hash(acc)}if(hash===undefined)return Hash({});var self={map:function(f){var acc={__proto__:hash.__proto__};Object.keys(hash).forEach(function(key){acc[key]=f.call(self,hash[key],key)});return Hash(acc)},forEach:function(f){Object.keys(hash).forEach(function(key){f.call(self,hash[key],key)});return self},filter:function(f){var acc={__proto__:hash.__proto__};Object.keys(hash).forEach(function(key){if(f.call(self,hash[key],key)){acc[key]=hash[key]}});return Hash(acc)},detect:function(f){for(var key in hash){if(f.call(self,hash[key],key)){return hash[key]}}return undefined},reduce:function(f,acc){var keys=Object.keys(hash);if(acc===undefined)acc=keys.shift();keys.forEach(function(key){acc=f.call(self,acc,hash[key],key)});return acc},some:function(f){for(var key in hash){if(f.call(self,hash[key],key))return true}return false},update:function(obj){if(arguments.length>1){self.updateAll([].slice.call(arguments))}else{Object.keys(obj).forEach(function(key){hash[key]=obj[key]})}return self},updateAll:function(xs){xs.filter(Boolean).forEach(function(x){self.update(x)});return self},merge:function(obj){if(arguments.length>1){return self.copy.updateAll([].slice.call(arguments))}else{return self.copy.update(obj)}},mergeAll:function(xs){return self.copy.updateAll(xs)},has:function(key){return Array.isArray(key)?key.every(function(k){return self.has(k)}):self.keys.indexOf(key.toString())>=0},valuesAt:function(keys){return Array.isArray(keys)?keys.map(function(key){return hash[key]}):hash[keys]},tap:function(f){f.call(self,hash);return self},extract:function(keys){var acc={};keys.forEach(function(key){acc[key]=hash[key]});return Hash(acc)},exclude:function(keys){return self.filter(function(_,key){return keys.indexOf(key)<0})},end:hash,items:hash};var props={keys:function(){return Object.keys(hash)},values:function(){return Object.keys(hash).map(function(key){return hash[key]})},compact:function(){return self.filter(function(x){return x!==undefined})},clone:function(){return Hash(Hash.clone(hash))},copy:function(){return Hash(Hash.copy(hash))},length:function(){return Object.keys(hash).length},size:function(){return self.length}};if(Object.defineProperty){try{for(var key in props){Object.defineProperty(self,key,{get:props[key]})}}catch(err){for(var key in props){if(key!=="clone"&&key!=="copy"&&key!=="compact"){self[key]=props[key]()}}}}else if(self.__defineGetter__){for(var key in props){self.__defineGetter__(key,props[key])}}else{for(var key in props){self[key]=props[key]()}}return self}Hash.clone=function(ref){return Traverse.clone(ref)};Hash.copy=function(ref){var hash={__proto__:ref.__proto__};Object.keys(ref).forEach(function(key){hash[key]=ref[key]});return hash};Hash.map=function(ref,f){return Hash(ref).map(f).items};Hash.forEach=function(ref,f){Hash(ref).forEach(f)};Hash.filter=function(ref,f){return Hash(ref).filter(f).items};Hash.detect=function(ref,f){return Hash(ref).detect(f)};Hash.reduce=function(ref,f,acc){return Hash(ref).reduce(f,acc)};Hash.some=function(ref,f){return Hash(ref).some(f)};Hash.update=function(a){var args=Array.prototype.slice.call(arguments,1);var hash=Hash(a);return hash.update.apply(hash,args).items};Hash.merge=function(a){var args=Array.prototype.slice.call(arguments,1);var hash=Hash(a);return hash.merge.apply(hash,args).items};Hash.has=function(ref,key){return Hash(ref).has(key)};Hash.valuesAt=function(ref,keys){return Hash(ref).valuesAt(keys)};Hash.tap=function(ref,f){return Hash(ref).tap(f).items};Hash.extract=function(ref,keys){return Hash(ref).extract(keys).items};Hash.exclude=function(ref,keys){return Hash(ref).exclude(keys).items};Hash.concat=function(xs){var hash=Hash({});xs.forEach(function(x){hash.update(x)});return hash.items};Hash.zip=function(xs,ys){return Hash(xs,ys).items};Hash.size=function(ref){return Hash(ref).size};Hash.compact=function(ref){return Hash(ref).compact.items}},{traverse:29}],29:[function(require,module,exports){var traverse=module.exports=function(obj){return new Traverse(obj)};function Traverse(obj){this.value=obj}Traverse.prototype.get=function(ps){var node=this.value;for(var i=0;i<ps.length;i++){var key=ps[i];if(!node||!hasOwnProperty.call(node,key)){node=undefined;break}node=node[key]}return node};Traverse.prototype.has=function(ps){var node=this.value;for(var i=0;i<ps.length;i++){var key=ps[i];if(!node||!hasOwnProperty.call(node,key)){return false}node=node[key]}return true};Traverse.prototype.set=function(ps,value){var node=this.value;for(var i=0;i<ps.length-1;i++){var key=ps[i];if(!hasOwnProperty.call(node,key))node[key]={};node=node[key]}node[ps[i]]=value;return value};Traverse.prototype.map=function(cb){return walk(this.value,cb,true)};Traverse.prototype.forEach=function(cb){this.value=walk(this.value,cb,false);return this.value};Traverse.prototype.reduce=function(cb,init){var skip=arguments.length===1;var acc=skip?this.value:init;this.forEach(function(x){if(!this.isRoot||!skip){acc=cb.call(this,acc,x)}});return acc};Traverse.prototype.paths=function(){var acc=[];this.forEach(function(x){acc.push(this.path)});return acc};Traverse.prototype.nodes=function(){var acc=[];this.forEach(function(x){acc.push(this.node)});return acc};Traverse.prototype.clone=function(){var parents=[],nodes=[];return function clone(src){for(var i=0;i<parents.length;i++){if(parents[i]===src){return nodes[i]}}if(typeof src==="object"&&src!==null){var dst=copy(src);parents.push(src);nodes.push(dst);forEach(objectKeys(src),function(key){dst[key]=clone(src[key])});parents.pop();nodes.pop();return dst}else{return src}}(this.value)};function walk(root,cb,immutable){var path=[];var parents=[];var alive=true;return function walker(node_){var node=immutable?copy(node_):node_;var modifiers={};var keepGoing=true;var state={node:node,node_:node_,path:[].concat(path),parent:parents[parents.length-1],parents:parents,key:path.slice(-1)[0],isRoot:path.length===0,level:path.length,circular:null,update:function(x,stopHere){if(!state.isRoot){state.parent.node[state.key]=x}state.node=x;if(stopHere)keepGoing=false},"delete":function(stopHere){delete state.parent.node[state.key];if(stopHere)keepGoing=false},remove:function(stopHere){if(isArray(state.parent.node)){state.parent.node.splice(state.key,1)}else{delete state.parent.node[state.key]}if(stopHere)keepGoing=false},keys:null,before:function(f){modifiers.before=f},after:function(f){modifiers.after=f},pre:function(f){modifiers.pre=f},post:function(f){modifiers.post=f},stop:function(){alive=false},block:function(){keepGoing=false}};if(!alive)return state;function updateState(){if(typeof state.node==="object"&&state.node!==null){if(!state.keys||state.node_!==state.node){state.keys=objectKeys(state.node)}state.isLeaf=state.keys.length==0;for(var i=0;i<parents.length;i++){if(parents[i].node_===node_){state.circular=parents[i];break}}}else{state.isLeaf=true;state.keys=null}state.notLeaf=!state.isLeaf;state.notRoot=!state.isRoot}updateState();var ret=cb.call(state,state.node);if(ret!==undefined&&state.update)state.update(ret);if(modifiers.before)modifiers.before.call(state,state.node);if(!keepGoing)return state;if(typeof state.node=="object"&&state.node!==null&&!state.circular){parents.push(state);updateState();forEach(state.keys,function(key,i){path.push(key);if(modifiers.pre)modifiers.pre.call(state,state.node[key],key);var child=walker(state.node[key]);if(immutable&&hasOwnProperty.call(state.node,key)){state.node[key]=child.node}child.isLast=i==state.keys.length-1;child.isFirst=i==0;if(modifiers.post)modifiers.post.call(state,child);path.pop()});parents.pop()}if(modifiers.after)modifiers.after.call(state,state.node);return state}(root).node}function copy(src){if(typeof src==="object"&&src!==null){var dst;if(isArray(src)){dst=[]}else if(isDate(src)){dst=new Date(src.getTime?src.getTime():src)}else if(isRegExp(src)){dst=new RegExp(src)}else if(isError(src)){dst={message:src.message}}else if(isBoolean(src)){dst=new Boolean(src)}else if(isNumber(src)){dst=new Number(src)}else if(isString(src)){dst=new String(src)}else if(Object.create&&Object.getPrototypeOf){dst=Object.create(Object.getPrototypeOf(src))}else if(src.constructor===Object){dst={}}else{var proto=src.constructor&&src.constructor.prototype||src.__proto__||{};var T=function(){};T.prototype=proto;dst=new T}forEach(objectKeys(src),function(key){dst[key]=src[key]});return dst}else return src}var objectKeys=Object.keys||function keys(obj){var res=[];for(var key in obj)res.push(key);return res};function toS(obj){return Object.prototype.toString.call(obj)}function isDate(obj){return toS(obj)==="[object Date]"}function isRegExp(obj){return toS(obj)==="[object RegExp]"}function isError(obj){return toS(obj)==="[object Error]"}function isBoolean(obj){return toS(obj)==="[object Boolean]"}function isNumber(obj){return toS(obj)==="[object Number]"}function isString(obj){return toS(obj)==="[object String]"}var isArray=Array.isArray||function isArray(xs){return Object.prototype.toString.call(xs)==="[object Array]"};var forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);else for(var i=0;i<xs.length;i++){fn(xs[i],i,xs)}};forEach(objectKeys(Traverse.prototype),function(key){traverse[key]=function(obj){var args=[].slice.call(arguments,1);var t=new Traverse(obj);return t[key].apply(t,args)}});var hasOwnProperty=Object.hasOwnProperty||function(obj,key){return key in obj}},{}],30:[function(require,module,exports){exports["ast_consolidate"]=function(oAbstractSyntaxTree){"use strict";var _,TSourceElementsData=function(){this.nCategory=ESourceElementCategories.N_OTHER;this.aCount=[];this.aCount[EPrimaryExpressionCategories.N_IDENTIFIER_NAMES]={};this.aCount[EPrimaryExpressionCategories.N_STRING_LITERALS]={};this.aCount[EPrimaryExpressionCategories.N_NULL_AND_BOOLEAN_LITERALS]={};this.aIdentifiers=[];this.aPrimitiveValues=[]},TPrimitiveValue=function(){this.nSaving=0;this.sName=""},TSolution=function(){this.oPrimitiveValues={};this.nSavings=0},oProcessor=require("./process"),oWeights={N_PROPERTY_ACCESSOR:1,N_VARIABLE_DECLARATION:2,N_VARIABLE_STATEMENT_AFFIXATION:4,N_CLOSURE:17},EPrimaryExpressionCategories={N_IDENTIFIER_NAMES:0,N_STRING_LITERALS:1,N_NULL_AND_BOOLEAN_LITERALS:2},EValuePrefixes={S_STRING:"#S",S_SYMBOLIC:"#O"},ESourceElementCategories={N_WITH:0,N_EVAL:1,N_EXCLUDABLE:2,N_OTHER:3},A_OTHER_SUBSTITUTABLE_LITERALS=["null","false","true"];(function fExamineSyntacticCodeUnit(oSyntacticCodeUnit){var _,bIsGlobal="toplevel"===oSyntacticCodeUnit[0],bIsWhollyExaminable=!bIsGlobal,oSourceElements,oSourceElementData,oScope,oWalker,oWalkers={oSurveySourceElement:{defun:function(sIdentifier,aFormalParameterList,oFunctionBody){fClassifyAsExcludable();fAddIdentifier(sIdentifier);aFormalParameterList.forEach(fAddIdentifier)},dot:function(oExpression,sIdentifierName){fCountPrimaryExpression(EPrimaryExpressionCategories.N_IDENTIFIER_NAMES,EValuePrefixes.S_STRING+sIdentifierName);return["dot",oWalker.walk(oExpression),sIdentifierName]},"function":function(sIdentifier,aFormalParameterList,oFunctionBody){if("string"===typeof sIdentifier){fAddIdentifier(sIdentifier)}aFormalParameterList.forEach(fAddIdentifier)},name:function(sIdentifier){if(-1!==A_OTHER_SUBSTITUTABLE_LITERALS.indexOf(sIdentifier)){fCountPrimaryExpression(EPrimaryExpressionCategories.N_NULL_AND_BOOLEAN_LITERALS,EValuePrefixes.S_SYMBOLIC+sIdentifier)}else{if("eval"===sIdentifier){oSourceElementData.nCategory=ESourceElementCategories.N_EVAL}fAddIdentifier(sIdentifier)}},"return":function(oExpression){fClassifyAsExcludable()},string:function(sStringValue){if(sStringValue.length>0){fCountPrimaryExpression(EPrimaryExpressionCategories.N_STRING_LITERALS,EValuePrefixes.S_STRING+sStringValue)}},"try":function(oTry,aCatch,oFinally){if(Array.isArray(aCatch)){fAddIdentifier(aCatch[0])}},"var":function(aVariableDeclarationList){fClassifyAsExcludable();aVariableDeclarationList.forEach(fAddVariable)},"with":function(oExpression,oStatement){oSourceElementData.nCategory=ESourceElementCategories.N_WITH;return[]}},oExamineFunctions:{defun:function(){fExamineSyntacticCodeUnit(this);return[]},"function":function(){fExamineSyntacticCodeUnit(this);return[]}}},aSourceElementsData=[],nAfterDirectivePrologue=0,nPosition,nTo,cContext=function(oWalker,oSourceElement){var fLambda=function(){return oWalker.walk(oSourceElement)};return fLambda},fClassifyAsExcludable=function(){if(oSourceElementData.nCategory===ESourceElementCategories.N_OTHER){oSourceElementData.nCategory=ESourceElementCategories.N_EXCLUDABLE}},fAddIdentifier=function(sIdentifier){if(-1===oSourceElementData.aIdentifiers.indexOf(sIdentifier)){oSourceElementData.aIdentifiers.push(sIdentifier)}},fAddVariable=function(aVariableDeclaration){fAddIdentifier(aVariableDeclaration[0])},fCountPrimaryExpression=function(nCategory,sName){if(!oSourceElementData.aCount[nCategory].hasOwnProperty(sName)){oSourceElementData.aCount[nCategory][sName]=0;if(-1===oSourceElementData.aPrimitiveValues.indexOf(sName)){oSourceElementData.aPrimitiveValues.push(sName)}}oSourceElementData.aCount[nCategory][sName]+=1},fExamineSourceElements=function(nFrom,nTo,bEnclose){var _,nIndex=oScope.cname,nPosition,oWalkersTransformers={dot:function(oExpression,sIdentifierName){var sPrefixed=EValuePrefixes.S_STRING+sIdentifierName;return oSolutionBest.oPrimitiveValues.hasOwnProperty(sPrefixed)&&oSolutionBest.oPrimitiveValues[sPrefixed].nSaving>0?["sub",oWalker.walk(oExpression),["name",oSolutionBest.oPrimitiveValues[sPrefixed].sName]]:["dot",oWalker.walk(oExpression),sIdentifierName]},name:function(sIdentifier){var sPrefixed=EValuePrefixes.S_SYMBOLIC+sIdentifier;return["name",oSolutionBest.oPrimitiveValues.hasOwnProperty(sPrefixed)&&oSolutionBest.oPrimitiveValues[sPrefixed].nSaving>0?oSolutionBest.oPrimitiveValues[sPrefixed].sName:sIdentifier]},string:function(sStringValue){var sPrefixed=EValuePrefixes.S_STRING+sStringValue;return oSolutionBest.oPrimitiveValues.hasOwnProperty(sPrefixed)&&oSolutionBest.oPrimitiveValues[sPrefixed].nSaving>0?["name",oSolutionBest.oPrimitiveValues[sPrefixed].sName]:["string",sStringValue]}},oSolutionBest=new TSolution,oSolutionCandidate=new TSolution,oSourceElementsData=new TSourceElementsData,aVariableDeclarations=[],cAugmentList=function(aList){var fLambda=function(sPrefixed){if(-1===aList.indexOf(sPrefixed)){aList.push(sPrefixed)
}};return fLambda},cAddOccurrences=function(nPosition,nCategory){var fLambda=function(sPrefixed){if(!oSourceElementsData.aCount[nCategory].hasOwnProperty(sPrefixed)){oSourceElementsData.aCount[nCategory][sPrefixed]=0}oSourceElementsData.aCount[nCategory][sPrefixed]+=aSourceElementsData[nPosition].aCount[nCategory][sPrefixed]};return fLambda},cAddOccurrencesInCategory=function(nPosition){var fLambda=function(nCategory){Object.keys(aSourceElementsData[nPosition].aCount[nCategory]).forEach(cAddOccurrences(nPosition,nCategory))};return fLambda},fAddOccurrences=function(nPosition){Object.keys(aSourceElementsData[nPosition].aCount).forEach(cAddOccurrencesInCategory(nPosition))},cAugmentVariableDeclarations=function(sPrefixed){if(oSolutionBest.oPrimitiveValues[sPrefixed].nSaving>0){aVariableDeclarations.push([oSolutionBest.oPrimitiveValues[sPrefixed].sName,[0===sPrefixed.indexOf(EValuePrefixes.S_SYMBOLIC)?"name":"string",sPrefixed.substring(EValuePrefixes.S_SYMBOLIC.length)]])}},cSortPrimitiveValues=function(sPrefixed0,sPrefixed1){var nDifference=oSolutionCandidate.oPrimitiveValues[sPrefixed0].nSaving-oSolutionCandidate.oPrimitiveValues[sPrefixed1].nSaving;return nDifference>0?-1:nDifference<0?1:0},fEvaluatePrimitiveValue=function(sPrefixed){var _,nIndex,sName=sPrefixed.substring(EValuePrefixes.S_SYMBOLIC.length),nLengthOriginal=sName.length,nLengthSubstitution,nLengthString=oProcessor.make_string(sName).length;oSolutionCandidate.oPrimitiveValues[sPrefixed]=new TPrimitiveValue;do{nIndex=oScope.cname;oSolutionCandidate.oPrimitiveValues[sPrefixed].sName=oScope.next_mangled()}while(-1!==oSourceElementsData.aIdentifiers.indexOf(oSolutionCandidate.oPrimitiveValues[sPrefixed].sName));nLengthSubstitution=oSolutionCandidate.oPrimitiveValues[sPrefixed].sName.length;if(0===sPrefixed.indexOf(EValuePrefixes.S_SYMBOLIC)){oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving-=nLengthSubstitution+nLengthOriginal+oWeights.N_VARIABLE_DECLARATION;oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving+=oSourceElementsData.aCount[EPrimaryExpressionCategories.N_NULL_AND_BOOLEAN_LITERALS][sPrefixed]*(nLengthOriginal-nLengthSubstitution)}else{oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving-=nLengthSubstitution+nLengthString+oWeights.N_VARIABLE_DECLARATION;if(oSourceElementsData.aCount[EPrimaryExpressionCategories.N_IDENTIFIER_NAMES].hasOwnProperty(sPrefixed)){oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving+=oSourceElementsData.aCount[EPrimaryExpressionCategories.N_IDENTIFIER_NAMES][sPrefixed]*(nLengthOriginal-nLengthSubstitution-oWeights.N_PROPERTY_ACCESSOR)}if(oSourceElementsData.aCount[EPrimaryExpressionCategories.N_STRING_LITERALS].hasOwnProperty(sPrefixed)){oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving+=oSourceElementsData.aCount[EPrimaryExpressionCategories.N_STRING_LITERALS][sPrefixed]*(nLengthString-nLengthSubstitution)}}if(oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving>0){oSolutionCandidate.nSavings+=oSolutionCandidate.oPrimitiveValues[sPrefixed].nSaving}else{oScope.cname=nIndex}},cAddVariableDeclaration=function(aVariableDeclaration){oSourceElements[nFrom][1].unshift(aVariableDeclaration)};if(nFrom>nTo){return}if(nFrom===nTo&&"stat"===oSourceElements[nFrom][0]&&"call"===oSourceElements[nFrom][1][0]&&"function"===oSourceElements[nFrom][1][1][0]){fExamineSyntacticCodeUnit(oSourceElements[nFrom][1][1]);return}for(nPosition=nFrom;nPosition<=nTo;nPosition+=1){aSourceElementsData[nPosition].aPrimitiveValues.forEach(cAugmentList(oSourceElementsData.aPrimitiveValues))}if(0===oSourceElementsData.aPrimitiveValues.length){return}for(nPosition=nFrom;nPosition<=nTo;nPosition+=1){fAddOccurrences(nPosition);aSourceElementsData[nPosition].aIdentifiers.forEach(cAugmentList(oSourceElementsData.aIdentifiers))}do{oSolutionBest=oSolutionCandidate;if(Object.keys(oSolutionCandidate.oPrimitiveValues).length>0){oSourceElementsData.aPrimitiveValues.sort(cSortPrimitiveValues)}oSolutionCandidate=new TSolution;oSourceElementsData.aPrimitiveValues.forEach(fEvaluatePrimitiveValue);oScope.cname=nIndex}while(oSolutionCandidate.nSavings>oSolutionBest.nSavings);if("var"!==oSourceElements[nFrom][0]){oSolutionBest.nSavings-=oWeights.N_VARIABLE_STATEMENT_AFFIXATION}if(bEnclose){oSolutionBest.nSavings-=oWeights.N_CLOSURE}if(oSolutionBest.nSavings>0){Object.keys(oSolutionBest.oPrimitiveValues).forEach(cAugmentVariableDeclarations);for(nPosition=nFrom;nPosition<=nTo;nPosition+=1){oWalker=oProcessor.ast_walker();oSourceElements[nPosition]=oWalker.with_walkers(oWalkersTransformers,cContext(oWalker,oSourceElements[nPosition]))}if("var"===oSourceElements[nFrom][0]){aVariableDeclarations.reverse().forEach(cAddVariableDeclaration)}else{Array.prototype.splice.call(oSourceElements,nFrom,0,["var",aVariableDeclarations]);nTo+=1}if(bEnclose){Array.prototype.splice.call(oSourceElements,nFrom,0,["stat",["call",["function",null,[],[]],[]]]);for(nPosition=nTo+1;nPosition>nFrom;nPosition-=1){Array.prototype.unshift.call(oSourceElements[nFrom][1][1][3],oSourceElements[nPosition])}Array.prototype.splice.call(oSourceElements,nFrom+1,nTo-nFrom+1)}}if(bEnclose){oScope.cname=nIndex}};oSourceElements=oSyntacticCodeUnit[bIsGlobal?1:3];if(0===oSourceElements.length){return}oScope=bIsGlobal?oSyntacticCodeUnit.scope:oSourceElements.scope;while(nAfterDirectivePrologue<oSourceElements.length&&"directive"===oSourceElements[nAfterDirectivePrologue][0]){nAfterDirectivePrologue+=1;aSourceElementsData.push(null)}if(oSourceElements.length===nAfterDirectivePrologue){return}for(nPosition=nAfterDirectivePrologue;nPosition<oSourceElements.length;nPosition+=1){oSourceElementData=new TSourceElementsData;oWalker=oProcessor.ast_walker();oWalker.with_walkers(oWalkers.oSurveySourceElement,cContext(oWalker,oSourceElements[nPosition]));bIsWhollyExaminable=bIsWhollyExaminable&&ESourceElementCategories.N_WITH!==oSourceElementData.nCategory&&ESourceElementCategories.N_EVAL!==oSourceElementData.nCategory;aSourceElementsData.push(oSourceElementData)}if(bIsWhollyExaminable){fExamineSourceElements(nAfterDirectivePrologue,oSourceElements.length-1,false)}else{for(nPosition=oSourceElements.length-1;nPosition>=nAfterDirectivePrologue;nPosition-=1){oSourceElementData=aSourceElementsData[nPosition];if(ESourceElementCategories.N_OTHER===oSourceElementData.nCategory){if("undefined"===typeof nTo){nTo=nPosition}if(nPosition===nAfterDirectivePrologue){fExamineSourceElements(nPosition,nTo,true)}}else{if("undefined"!==typeof nTo){fExamineSourceElements(nPosition+1,nTo,true);nTo=void 0}oWalker=oProcessor.ast_walker();oWalker.with_walkers(oWalkers.oExamineFunctions,cContext(oWalker,oSourceElements[nPosition]))}}}})(oAbstractSyntaxTree=oProcessor.ast_add_scope(oAbstractSyntaxTree));return oAbstractSyntaxTree}},{"./process":32}],31:[function(require,module,exports){var KEYWORDS=array_to_hash(["break","case","catch","const","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","throw","try","typeof","var","void","while","with"]);var RESERVED_WORDS=array_to_hash(["abstract","boolean","byte","char","class","double","enum","export","extends","final","float","goto","implements","import","int","interface","long","native","package","private","protected","public","short","static","super","synchronized","throws","transient","volatile"]);var KEYWORDS_BEFORE_EXPRESSION=array_to_hash(["return","new","delete","throw","else","case"]);var KEYWORDS_ATOM=array_to_hash(["false","null","true","undefined"]);var OPERATOR_CHARS=array_to_hash(characters("+-*&%=<>!?|~^"));var RE_HEX_NUMBER=/^0x[0-9a-f]+$/i;var RE_OCT_NUMBER=/^0[0-7]+$/;var RE_DEC_NUMBER=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i;var OPERATORS=array_to_hash(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]);var WHITESPACE_CHARS=array_to_hash(characters("  \n\r	\f​᠎             　"));var PUNC_BEFORE_EXPRESSION=array_to_hash(characters("[{(,.;:"));var PUNC_CHARS=array_to_hash(characters("[]{}(),;:"));var REGEXP_MODIFIERS=array_to_hash(characters("gmsiy"));var UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F0\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),combining_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C01-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C82\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D02\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]")};function is_letter(ch){return UNICODE.letter.test(ch)}function is_digit(ch){ch=ch.charCodeAt(0);return ch>=48&&ch<=57}function is_unicode_digit(ch){return UNICODE.digit.test(ch)}function is_alphanumeric_char(ch){return is_digit(ch)||is_letter(ch)}function is_unicode_combining_mark(ch){return UNICODE.combining_mark.test(ch)}function is_unicode_connector_punctuation(ch){return UNICODE.connector_punctuation.test(ch)}function is_identifier_start(ch){return ch=="$"||ch=="_"||is_letter(ch)}function is_identifier_char(ch){return is_identifier_start(ch)||is_unicode_combining_mark(ch)||is_unicode_digit(ch)||is_unicode_connector_punctuation(ch)||ch=="‌"||ch=="‍"}function parse_js_number(num){if(RE_HEX_NUMBER.test(num)){return parseInt(num.substr(2),16)}else if(RE_OCT_NUMBER.test(num)){return parseInt(num.substr(1),8)}else if(RE_DEC_NUMBER.test(num)){return parseFloat(num)}}function JS_Parse_Error(message,line,col,pos){this.message=message;this.line=line+1;this.col=col+1;this.pos=pos+1;this.stack=(new Error).stack}JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")"+"\n\n"+this.stack};function js_error(message,line,col,pos){throw new JS_Parse_Error(message,line,col,pos)}function is_token(token,type,val){return token.type==type&&(val==null||token.value==val)}var EX_EOF={};function tokenizer($TEXT){var S={text:$TEXT.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,""),pos:0,tokpos:0,line:0,tokline:0,col:0,tokcol:0,newline_before:false,regex_allowed:false,comments_before:[]};function peek(){return S.text.charAt(S.pos)}function next(signal_eof,in_string){var ch=S.text.charAt(S.pos++);if(signal_eof&&!ch)throw EX_EOF;if(ch=="\n"){S.newline_before=S.newline_before||!in_string;++S.line;S.col=0}else{++S.col}return ch}function eof(){return!S.peek()}function find(what,signal_eof){var pos=S.text.indexOf(what,S.pos);if(signal_eof&&pos==-1)throw EX_EOF;return pos}function start_token(){S.tokline=S.line;S.tokcol=S.col;S.tokpos=S.pos}function token(type,value,is_comment){S.regex_allowed=type=="operator"&&!HOP(UNARY_POSTFIX,value)||type=="keyword"&&HOP(KEYWORDS_BEFORE_EXPRESSION,value)||type=="punc"&&HOP(PUNC_BEFORE_EXPRESSION,value);var ret={type:type,value:value,line:S.tokline,col:S.tokcol,pos:S.tokpos,endpos:S.pos,nlb:S.newline_before};if(!is_comment){ret.comments_before=S.comments_before;S.comments_before=[];for(var i=0,len=ret.comments_before.length;i<len;i++){ret.nlb=ret.nlb||ret.comments_before[i].nlb}}S.newline_before=false;return ret}function skip_whitespace(){while(HOP(WHITESPACE_CHARS,peek()))next()}function read_while(pred){var ret="",ch=peek(),i=0;while(ch&&pred(ch,i++)){ret+=next();ch=peek()}return ret}function parse_error(err){js_error(err,S.tokline,S.tokcol,S.tokpos)}function read_num(prefix){var has_e=false,after_e=false,has_x=false,has_dot=prefix==".";var num=read_while(function(ch,i){if(ch=="x"||ch=="X"){if(has_x)return false;return has_x=true}if(!has_x&&(ch=="E"||ch=="e")){if(has_e)return false;return has_e=after_e=true}if(ch=="-"){if(after_e||i==0&&!prefix)return true;return false}if(ch=="+")return after_e;after_e=false;if(ch=="."){if(!has_dot&&!has_x&&!has_e)return has_dot=true;return false}return is_alphanumeric_char(ch)});if(prefix)num=prefix+num;var valid=parse_js_number(num);if(!isNaN(valid)){return token("num",valid)}else{parse_error("Invalid syntax: "+num)}}function read_escaped_char(in_string){var ch=next(true,in_string);switch(ch){case"n":return"\n";case"r":return"\r";case"t":return"	";case"b":return"\b";case"v":return"";case"f":return"\f";case"0":return"\x00";case"x":return String.fromCharCode(hex_bytes(2));case"u":return String.fromCharCode(hex_bytes(4));case"\n":return"";default:return ch}}function hex_bytes(n){var num=0;for(;n>0;--n){var digit=parseInt(next(true),16);if(isNaN(digit))parse_error("Invalid hex-character pattern in string");num=num<<4|digit}return num}function read_string(){return with_eof_error("Unterminated string constant",function(){var quote=next(),ret="";for(;;){var ch=next(true);if(ch=="\\"){var octal_len=0,first=null;ch=read_while(function(ch){if(ch>="0"&&ch<="7"){if(!first){first=ch;return++octal_len}else if(first<="3"&&octal_len<=2)return++octal_len;else if(first>="4"&&octal_len<=1)return++octal_len}return false});if(octal_len>0)ch=String.fromCharCode(parseInt(ch,8));else ch=read_escaped_char(true)}else if(ch==quote)break;ret+=ch}return token("string",ret)})}function read_line_comment(){next();var i=find("\n"),ret;if(i==-1){ret=S.text.substr(S.pos);S.pos=S.text.length}else{ret=S.text.substring(S.pos,i);S.pos=i}return token("comment1",ret,true)}function read_multiline_comment(){next();return with_eof_error("Unterminated multiline comment",function(){var i=find("*/",true),text=S.text.substring(S.pos,i);S.pos=i+2;S.line+=text.split("\n").length-1;S.newline_before=S.newline_before||text.indexOf("\n")>=0;if(/^@cc_on/i.test(text)){warn("WARNING: at line "+S.line);warn('*** Found "conditional comment": '+text);warn("*** UglifyJS DISCARDS ALL COMMENTS.  This means your code might no longer work properly in Internet Explorer.")}return token("comment2",text,true)})}function read_name(){var backslash=false,name="",ch,escaped=false,hex;while((ch=peek())!=null){if(!backslash){if(ch=="\\")escaped=backslash=true,next();else if(is_identifier_char(ch))name+=next();else break}else{if(ch!="u")parse_error("Expecting UnicodeEscapeSequence -- uXXXX");ch=read_escaped_char();if(!is_identifier_char(ch))parse_error("Unicode char: "+ch.charCodeAt(0)+" is not valid in identifier");name+=ch;backslash=false}}if(HOP(KEYWORDS,name)&&escaped){hex=name.charCodeAt(0).toString(16).toUpperCase();name="\\u"+"0000".substr(hex.length)+hex+name.slice(1)}return name}function read_regexp(regexp){return with_eof_error("Unterminated regular expression",function(){var prev_backslash=false,ch,in_class=false;while(ch=next(true))if(prev_backslash){regexp+="\\"+ch;prev_backslash=false}else if(ch=="["){in_class=true;regexp+=ch}else if(ch=="]"&&in_class){in_class=false;regexp+=ch}else if(ch=="/"&&!in_class){break}else if(ch=="\\"){prev_backslash=true}else{regexp+=ch}var mods=read_name();return token("regexp",[regexp,mods])})}function read_operator(prefix){function grow(op){if(!peek())return op;var bigger=op+peek();if(HOP(OPERATORS,bigger)){next();return grow(bigger)}else{return op}}return token("operator",grow(prefix||next()))}function handle_slash(){next();var regex_allowed=S.regex_allowed;switch(peek()){case"/":S.comments_before.push(read_line_comment());S.regex_allowed=regex_allowed;return next_token();case"*":S.comments_before.push(read_multiline_comment());S.regex_allowed=regex_allowed;return next_token()}return S.regex_allowed?read_regexp(""):read_operator("/")}function handle_dot(){next();return is_digit(peek())?read_num("."):token("punc",".")}function read_word(){var word=read_name();return!HOP(KEYWORDS,word)?token("name",word):HOP(OPERATORS,word)?token("operator",word):HOP(KEYWORDS_ATOM,word)?token("atom",word):token("keyword",word)}function with_eof_error(eof_error,cont){try{return cont()}catch(ex){if(ex===EX_EOF)parse_error(eof_error);else throw ex}}function next_token(force_regexp){if(force_regexp!=null)return read_regexp(force_regexp);skip_whitespace();start_token();var ch=peek();if(!ch)return token("eof");if(is_digit(ch))return read_num();if(ch=='"'||ch=="'")return read_string();if(HOP(PUNC_CHARS,ch))return token("punc",next());if(ch==".")return handle_dot();if(ch=="/")return handle_slash();if(HOP(OPERATOR_CHARS,ch))return read_operator();if(ch=="\\"||is_identifier_start(ch))return read_word();parse_error("Unexpected character '"+ch+"'")}next_token.context=function(nc){if(nc)S=nc;return S};return next_token}var UNARY_PREFIX=array_to_hash(["typeof","void","delete","--","++","!","~","-","+"]);var UNARY_POSTFIX=array_to_hash(["--","++"]);var ASSIGNMENT=function(a,ret,i){while(i<a.length){ret[a[i]]=a[i].substr(0,a[i].length-1);i++}return ret}(["+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="],{"=":true},0);var PRECEDENCE=function(a,ret){for(var i=0,n=1;i<a.length;++i,++n){var b=a[i];for(var j=0;j<b.length;++j){ret[b[j]]=n}}return ret}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{});var STATEMENTS_WITH_LABELS=array_to_hash(["for","do","while","switch"]);var ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]);function NodeWithToken(str,start,end){this.name=str;this.start=start;this.end=end}NodeWithToken.prototype.toString=function(){return this.name};function parse($TEXT,exigent_mode,embed_tokens){var S={input:typeof $TEXT=="string"?tokenizer($TEXT,true):$TEXT,token:null,prev:null,peeked:null,in_function:0,in_directives:true,in_loop:0,labels:[]};S.token=next();function is(type,value){return is_token(S.token,type,value)}function peek(){return S.peeked||(S.peeked=S.input())}function next(){S.prev=S.token;if(S.peeked){S.token=S.peeked;S.peeked=null}else{S.token=S.input()}S.in_directives=S.in_directives&&(S.token.type=="string"||is("punc",";"));return S.token}function prev(){return S.prev}function croak(msg,line,col,pos){var ctx=S.input.context();js_error(msg,line!=null?line:ctx.tokline,col!=null?col:ctx.tokcol,pos!=null?pos:ctx.tokpos)}function token_error(token,msg){croak(msg,token.line,token.col)}function unexpected(token){if(token==null)token=S.token;token_error(token,"Unexpected token: "+token.type+" ("+token.value+")")}function expect_token(type,val){if(is(type,val)){return next()}token_error(S.token,"Unexpected token "+S.token.type+", expected "+type)}function expect(punc){return expect_token("punc",punc)}function can_insert_semicolon(){return!exigent_mode&&(S.token.nlb||is("eof")||is("punc","}"))}function semicolon(){if(is("punc",";"))next();else if(!can_insert_semicolon())unexpected()}function as(){return slice(arguments)}function parenthesised(){expect("(");var ex=expression();expect(")");return ex}function add_tokens(str,start,end){return str instanceof NodeWithToken?str:new NodeWithToken(str,start,end)}function maybe_embed_tokens(parser){if(embed_tokens)return function(){var start=S.token;var ast=parser.apply(this,arguments);ast[0]=add_tokens(ast[0],start,prev());return ast};else return parser}var statement=maybe_embed_tokens(function(){if(is("operator","/")||is("operator","/=")){S.peeked=null;S.token=S.input(S.token.value.substr(1))}switch(S.token.type){case"string":var dir=S.in_directives,stat=simple_statement();if(dir&&stat[1][0]=="string"&&!is("punc",","))return as("directive",stat[1][1]);return stat;case"num":case"regexp":case"operator":case"atom":return simple_statement();case"name":return is_token(peek(),"punc",":")?labeled_statement(prog1(S.token.value,next,next)):simple_statement();case"punc":switch(S.token.value){case"{":return as("block",block_());case"[":case"(":return simple_statement();case";":next();return as("block");default:unexpected()}case"keyword":switch(prog1(S.token.value,next)){case"break":return break_cont("break");case"continue":return break_cont("continue");case"debugger":semicolon();return as("debugger");case"do":return function(body){expect_token("keyword","while");return as("do",prog1(parenthesised,semicolon),body)}(in_loop(statement));case"for":return for_();case"function":return function_(true);case"if":return if_();case"return":if(S.in_function==0)croak("'return' outside of function");return as("return",is("punc",";")?(next(),null):can_insert_semicolon()?null:prog1(expression,semicolon));case"switch":return as("switch",parenthesised(),switch_block_());case"throw":if(S.token.nlb)croak("Illegal newline after 'throw'");return as("throw",prog1(expression,semicolon));case"try":return try_();case"var":return prog1(var_,semicolon);case"const":return prog1(const_,semicolon);case"while":return as("while",parenthesised(),in_loop(statement));case"with":return as("with",parenthesised(),statement());default:unexpected()}}});function labeled_statement(label){S.labels.push(label);var start=S.token,stat=statement();if(exigent_mode&&!HOP(STATEMENTS_WITH_LABELS,stat[0]))unexpected(start);S.labels.pop();return as("label",label,stat)}function simple_statement(){return as("stat",prog1(expression,semicolon))}function break_cont(type){var name;if(!can_insert_semicolon()){name=is("name")?S.token.value:null}if(name!=null){next();if(!member(name,S.labels))croak("Label "+name+" without matching loop or statement")}else if(S.in_loop==0)croak(type+" not inside a loop or switch");semicolon();return as(type,name)}function for_(){expect("(");var init=null;if(!is("punc",";")){init=is("keyword","var")?(next(),var_(true)):expression(true,true);if(is("operator","in")){if(init[0]=="var"&&init[1].length>1)croak("Only one variable declaration allowed in for..in loop");return for_in(init)}}return regular_for(init)}function regular_for(init){expect(";");var test=is("punc",";")?null:expression();expect(";");var step=is("punc",")")?null:expression();expect(")");return as("for",init,test,step,in_loop(statement))}function for_in(init){var lhs=init[0]=="var"?as("name",init[1][0]):init;next();var obj=expression();expect(")");return as("for-in",init,lhs,obj,in_loop(statement))}var function_=function(in_statement){var name=is("name")?prog1(S.token.value,next):null;if(in_statement&&!name)unexpected();expect("(");return as(in_statement?"defun":"function",name,function(first,a){while(!is("punc",")")){if(first)first=false;else expect(",");if(!is("name"))unexpected();a.push(S.token.value);next()}next();return a}(true,[]),function(){++S.in_function;var loop=S.in_loop;S.in_directives=true;S.in_loop=0;var a=block_();--S.in_function;S.in_loop=loop;return a}())};function if_(){var cond=parenthesised(),body=statement(),belse;if(is("keyword","else")){next();belse=statement()}return as("if",cond,body,belse)}function block_(){expect("{");var a=[];while(!is("punc","}")){if(is("eof"))unexpected();a.push(statement())}next();return a}var switch_block_=curry(in_loop,function(){expect("{");var a=[],cur=null;while(!is("punc","}")){if(is("eof"))unexpected();if(is("keyword","case")){next();cur=[];a.push([expression(),cur]);expect(":")}else if(is("keyword","default")){next();expect(":");cur=[];a.push([null,cur])}else{if(!cur)unexpected();cur.push(statement())}}next();return a});function try_(){var body=block_(),bcatch,bfinally;if(is("keyword","catch")){next();expect("(");if(!is("name"))croak("Name expected");var name=S.token.value;next();expect(")");bcatch=[name,block_()]}if(is("keyword","finally")){next();bfinally=block_()}if(!bcatch&&!bfinally)croak("Missing catch/finally blocks");return as("try",body,bcatch,bfinally)}function vardefs(no_in){var a=[];for(;;){if(!is("name"))unexpected();var name=S.token.value;next();if(is("operator","=")){next();a.push([name,expression(false,no_in)])}else{a.push([name])}if(!is("punc",","))break;next()}return a}function var_(no_in){return as("var",vardefs(no_in))}function const_(){return as("const",vardefs())}function new_(){var newexp=expr_atom(false),args;if(is("punc","(")){next();args=expr_list(")")}else{args=[]}return subscripts(as("new",newexp,args),true)}var expr_atom=maybe_embed_tokens(function(allow_calls){if(is("operator","new")){next();return new_()}if(is("punc")){switch(S.token.value){case"(":next();return subscripts(prog1(expression,curry(expect,")")),allow_calls);case"[":next();return subscripts(array_(),allow_calls);case"{":next();return subscripts(object_(),allow_calls)}unexpected()}if(is("keyword","function")){next();return subscripts(function_(false),allow_calls)}if(HOP(ATOMIC_START_TOKEN,S.token.type)){var atom=S.token.type=="regexp"?as("regexp",S.token.value[0],S.token.value[1]):as(S.token.type,S.token.value);return subscripts(prog1(atom,next),allow_calls)}unexpected()});function expr_list(closing,allow_trailing_comma,allow_empty){var first=true,a=[];
while(!is("punc",closing)){if(first)first=false;else expect(",");if(allow_trailing_comma&&is("punc",closing))break;if(is("punc",",")&&allow_empty){a.push(["atom","undefined"])}else{a.push(expression(false))}}next();return a}function array_(){return as("array",expr_list("]",!exigent_mode,true))}function object_(){var first=true,a=[];while(!is("punc","}")){if(first)first=false;else expect(",");if(!exigent_mode&&is("punc","}"))break;var type=S.token.type;var name=as_property_name();if(type=="name"&&(name=="get"||name=="set")&&!is("punc",":")){a.push([as_name(),function_(false),name])}else{expect(":");a.push([name,expression(false)])}}next();return as("object",a)}function as_property_name(){switch(S.token.type){case"num":case"string":return prog1(S.token.value,next)}return as_name()}function as_name(){switch(S.token.type){case"name":case"operator":case"keyword":case"atom":return prog1(S.token.value,next);default:unexpected()}}function subscripts(expr,allow_calls){if(is("punc",".")){next();return subscripts(as("dot",expr,as_name()),allow_calls)}if(is("punc","[")){next();return subscripts(as("sub",expr,prog1(expression,curry(expect,"]"))),allow_calls)}if(allow_calls&&is("punc","(")){next();return subscripts(as("call",expr,expr_list(")")),true)}return expr}function maybe_unary(allow_calls){if(is("operator")&&HOP(UNARY_PREFIX,S.token.value)){return make_unary("unary-prefix",prog1(S.token.value,next),maybe_unary(allow_calls))}var val=expr_atom(allow_calls);while(is("operator")&&HOP(UNARY_POSTFIX,S.token.value)&&!S.token.nlb){val=make_unary("unary-postfix",S.token.value,val);next()}return val}function make_unary(tag,op,expr){if((op=="++"||op=="--")&&!is_assignable(expr))croak("Invalid use of "+op+" operator");return as(tag,op,expr)}function expr_op(left,min_prec,no_in){var op=is("operator")?S.token.value:null;if(op&&op=="in"&&no_in)op=null;var prec=op!=null?PRECEDENCE[op]:null;if(prec!=null&&prec>min_prec){next();var right=expr_op(maybe_unary(true),prec,no_in);return expr_op(as("binary",op,left,right),min_prec,no_in)}return left}function expr_ops(no_in){return expr_op(maybe_unary(true),0,no_in)}function maybe_conditional(no_in){var expr=expr_ops(no_in);if(is("operator","?")){next();var yes=expression(false);expect(":");return as("conditional",expr,yes,expression(false,no_in))}return expr}function is_assignable(expr){if(!exigent_mode)return true;switch(expr[0]+""){case"dot":case"sub":case"new":case"call":return true;case"name":return expr[1]!="this"}}function maybe_assign(no_in){var left=maybe_conditional(no_in),val=S.token.value;if(is("operator")&&HOP(ASSIGNMENT,val)){if(is_assignable(left)){next();return as("assign",ASSIGNMENT[val],left,maybe_assign(no_in))}croak("Invalid assignment")}return left}var expression=maybe_embed_tokens(function(commas,no_in){if(arguments.length==0)commas=true;var expr=maybe_assign(no_in);if(commas&&is("punc",",")){next();return as("seq",expr,expression(true,no_in))}return expr});function in_loop(cont){try{++S.in_loop;return cont()}finally{--S.in_loop}}return as("toplevel",function(a){while(!is("eof"))a.push(statement());return a}([]))}function curry(f){var args=slice(arguments,1);return function(){return f.apply(this,args.concat(slice(arguments)))}}function prog1(ret){if(ret instanceof Function)ret=ret();for(var i=1,n=arguments.length;--n>0;++i)arguments[i]();return ret}function array_to_hash(a){var ret={};for(var i=0;i<a.length;++i)ret[a[i]]=true;return ret}function slice(a,start){return Array.prototype.slice.call(a,start||0)}function characters(str){return str.split("")}function member(name,array){for(var i=array.length;--i>=0;)if(array[i]==name)return true;return false}function HOP(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var warn=function(){};exports.tokenizer=tokenizer;exports.parse=parse;exports.slice=slice;exports.curry=curry;exports.member=member;exports.array_to_hash=array_to_hash;exports.PRECEDENCE=PRECEDENCE;exports.KEYWORDS_ATOM=KEYWORDS_ATOM;exports.RESERVED_WORDS=RESERVED_WORDS;exports.KEYWORDS=KEYWORDS;exports.ATOMIC_START_TOKEN=ATOMIC_START_TOKEN;exports.OPERATORS=OPERATORS;exports.is_alphanumeric_char=is_alphanumeric_char;exports.is_identifier_start=is_identifier_start;exports.is_identifier_char=is_identifier_char;exports.set_logger=function(logger){warn=logger}},{}],32:[function(require,module,exports){var jsp=require("./parse-js"),curry=jsp.curry,slice=jsp.slice,member=jsp.member,is_identifier_char=jsp.is_identifier_char,PRECEDENCE=jsp.PRECEDENCE,OPERATORS=jsp.OPERATORS;function ast_walker(){function _vardefs(defs){return[this[0],MAP(defs,function(def){var a=[def[0]];if(def.length>1)a[1]=walk(def[1]);return a})]}function _block(statements){var out=[this[0]];if(statements!=null)out.push(MAP(statements,walk));return out}var walkers={string:function(str){return[this[0],str]},num:function(num){return[this[0],num]},name:function(name){return[this[0],name]},toplevel:function(statements){return[this[0],MAP(statements,walk)]},block:_block,splice:_block,"var":_vardefs,"const":_vardefs,"try":function(t,c,f){return[this[0],MAP(t,walk),c!=null?[c[0],MAP(c[1],walk)]:null,f!=null?MAP(f,walk):null]},"throw":function(expr){return[this[0],walk(expr)]},"new":function(ctor,args){return[this[0],walk(ctor),MAP(args,walk)]},"switch":function(expr,body){return[this[0],walk(expr),MAP(body,function(branch){return[branch[0]?walk(branch[0]):null,MAP(branch[1],walk)]})]},"break":function(label){return[this[0],label]},"continue":function(label){return[this[0],label]},conditional:function(cond,t,e){return[this[0],walk(cond),walk(t),walk(e)]},assign:function(op,lvalue,rvalue){return[this[0],op,walk(lvalue),walk(rvalue)]},dot:function(expr){return[this[0],walk(expr)].concat(slice(arguments,1))},call:function(expr,args){return[this[0],walk(expr),MAP(args,walk)]},"function":function(name,args,body){return[this[0],name,args.slice(),MAP(body,walk)]},"debugger":function(){return[this[0]]},defun:function(name,args,body){return[this[0],name,args.slice(),MAP(body,walk)]},"if":function(conditional,t,e){return[this[0],walk(conditional),walk(t),walk(e)]},"for":function(init,cond,step,block){return[this[0],walk(init),walk(cond),walk(step),walk(block)]},"for-in":function(vvar,key,hash,block){return[this[0],walk(vvar),walk(key),walk(hash),walk(block)]},"while":function(cond,block){return[this[0],walk(cond),walk(block)]},"do":function(cond,block){return[this[0],walk(cond),walk(block)]},"return":function(expr){return[this[0],walk(expr)]},binary:function(op,left,right){return[this[0],op,walk(left),walk(right)]},"unary-prefix":function(op,expr){return[this[0],op,walk(expr)]},"unary-postfix":function(op,expr){return[this[0],op,walk(expr)]},sub:function(expr,subscript){return[this[0],walk(expr),walk(subscript)]},object:function(props){return[this[0],MAP(props,function(p){return p.length==2?[p[0],walk(p[1])]:[p[0],walk(p[1]),p[2]]})]},regexp:function(rx,mods){return[this[0],rx,mods]},array:function(elements){return[this[0],MAP(elements,walk)]},stat:function(stat){return[this[0],walk(stat)]},seq:function(){return[this[0]].concat(MAP(slice(arguments),walk))},label:function(name,block){return[this[0],name,walk(block)]},"with":function(expr,block){return[this[0],walk(expr),walk(block)]},atom:function(name){return[this[0],name]},directive:function(dir){return[this[0],dir]}};var user={};var stack=[];function walk(ast){if(ast==null)return null;try{stack.push(ast);var type=ast[0];var gen=user[type];if(gen){var ret=gen.apply(ast,ast.slice(1));if(ret!=null)return ret}gen=walkers[type];return gen.apply(ast,ast.slice(1))}finally{stack.pop()}}function dive(ast){if(ast==null)return null;try{stack.push(ast);return walkers[ast[0]].apply(ast,ast.slice(1))}finally{stack.pop()}}function with_walkers(walkers,cont){var save={},i;for(i in walkers)if(HOP(walkers,i)){save[i]=user[i];user[i]=walkers[i]}var ret=cont();for(i in save)if(HOP(save,i)){if(!save[i])delete user[i];else user[i]=save[i]}return ret}return{walk:walk,dive:dive,with_walkers:with_walkers,parent:function(){return stack[stack.length-2]},stack:function(){return stack}}}function Scope(parent){this.names={};this.mangled={};this.rev_mangled={};this.cname=-1;this.refs={};this.uses_with=false;this.uses_eval=false;this.directives=[];this.parent=parent;this.children=[];if(parent){this.level=parent.level+1;parent.children.push(this)}else{this.level=0}}function base54_digits(){if(typeof DIGITS_OVERRIDE_FOR_TESTING!="undefined")return DIGITS_OVERRIDE_FOR_TESTING;else return"etnrisouaflchpdvmgybwESxTNCkLAOM_DPHBjFIqRUzWXV$JKQGYZ0516372984"}var base54=function(){var DIGITS=base54_digits();return function(num){var ret="",base=54;do{ret+=DIGITS.charAt(num%base);num=Math.floor(num/base);base=64}while(num>0);return ret}}();Scope.prototype={has:function(name){for(var s=this;s;s=s.parent)if(HOP(s.names,name))return s},has_mangled:function(mname){for(var s=this;s;s=s.parent)if(HOP(s.rev_mangled,mname))return s},toJSON:function(){return{names:this.names,uses_eval:this.uses_eval,uses_with:this.uses_with}},next_mangled:function(){for(;;){var m=base54(++this.cname),prior;prior=this.has_mangled(m);if(prior&&this.refs[prior.rev_mangled[m]]===prior)continue;prior=this.has(m);if(prior&&prior!==this&&this.refs[m]===prior&&!prior.has_mangled(m))continue;if(HOP(this.refs,m)&&this.refs[m]==null)continue;if(!is_identifier(m))continue;return m}},set_mangle:function(name,m){this.rev_mangled[m]=name;return this.mangled[name]=m},get_mangled:function(name,newMangle){if(this.uses_eval||this.uses_with)return name;var s=this.has(name);if(!s)return name;if(HOP(s.mangled,name))return s.mangled[name];if(!newMangle)return name;return s.set_mangle(name,s.next_mangled())},references:function(name){return name&&!this.parent||this.uses_with||this.uses_eval||this.refs[name]},define:function(name,type){if(name!=null){if(type=="var"||!HOP(this.names,name))this.names[name]=type||"var";return name}},active_directive:function(dir){return member(dir,this.directives)||this.parent&&this.parent.active_directive(dir)}};function ast_add_scope(ast){var current_scope=null;var w=ast_walker(),walk=w.walk;var having_eval=[];function with_new_scope(cont){current_scope=new Scope(current_scope);current_scope.labels=new Scope;var ret=current_scope.body=cont();ret.scope=current_scope;current_scope=current_scope.parent;return ret}function define(name,type){return current_scope.define(name,type)}function reference(name){current_scope.refs[name]=true}function _lambda(name,args,body){var is_defun=this[0]=="defun";return[this[0],is_defun?define(name,"defun"):name,args,with_new_scope(function(){if(!is_defun)define(name,"lambda");MAP(args,function(name){define(name,"arg")});return MAP(body,walk)})]}function _vardefs(type){return function(defs){MAP(defs,function(d){define(d[0],type);if(d[1])reference(d[0])})}}function _breacont(label){if(label)current_scope.labels.refs[label]=true}return with_new_scope(function(){var ret=w.with_walkers({"function":_lambda,defun:_lambda,label:function(name,stat){current_scope.labels.define(name)},"break":_breacont,"continue":_breacont,"with":function(expr,block){for(var s=current_scope;s;s=s.parent)s.uses_with=true},"var":_vardefs("var"),"const":_vardefs("const"),"try":function(t,c,f){if(c!=null)return[this[0],MAP(t,walk),[define(c[0],"catch"),MAP(c[1],walk)],f!=null?MAP(f,walk):null]},name:function(name){if(name=="eval")having_eval.push(current_scope);reference(name)}},function(){return walk(ast)});MAP(having_eval,function(scope){if(!scope.has("eval"))while(scope){scope.uses_eval=true;scope=scope.parent}});function fixrefs(scope,i){for(i=scope.children.length;--i>=0;)fixrefs(scope.children[i]);for(i in scope.refs)if(HOP(scope.refs,i)){for(var origin=scope.has(i),s=scope;s;s=s.parent){s.refs[i]=origin;if(s===origin)break}}}fixrefs(current_scope);return ret})}function ast_mangle(ast,options){var w=ast_walker(),walk=w.walk,scope;options=defaults(options,{mangle:true,toplevel:false,defines:null,except:null,no_functions:false});function get_mangled(name,newMangle){if(!options.mangle)return name;if(!options.toplevel&&!scope.parent)return name;if(options.except&&member(name,options.except))return name;if(options.no_functions&&HOP(scope.names,name)&&(scope.names[name]=="defun"||scope.names[name]=="lambda"))return name;return scope.get_mangled(name,newMangle)}function get_define(name){if(options.defines){if(!scope.has(name)){if(HOP(options.defines,name)){return options.defines[name]}}return null}}function _lambda(name,args,body){if(!options.no_functions&&options.mangle){var is_defun=this[0]=="defun",extra;if(name){if(is_defun)name=get_mangled(name);else if(body.scope.references(name)){extra={};if(!(scope.uses_eval||scope.uses_with))name=extra[name]=scope.next_mangled();else extra[name]=name}else name=null}}body=with_scope(body.scope,function(){args=MAP(args,function(name){return get_mangled(name)});return MAP(body,walk)},extra);return[this[0],name,args,body]}function with_scope(s,cont,extra){var _scope=scope;scope=s;if(extra)for(var i in extra)if(HOP(extra,i)){s.set_mangle(i,extra[i])}for(var i in s.names)if(HOP(s.names,i)){get_mangled(i,true)}var ret=cont();ret.scope=s;scope=_scope;return ret}function _vardefs(defs){return[this[0],MAP(defs,function(d){return[get_mangled(d[0]),walk(d[1])]})]}function _breacont(label){if(label)return[this[0],scope.labels.get_mangled(label)]}return w.with_walkers({"function":_lambda,defun:function(){var ast=_lambda.apply(this,arguments);switch(w.parent()[0]){case"toplevel":case"function":case"defun":return MAP.at_top(ast)}return ast},label:function(label,stat){if(scope.labels.refs[label])return[this[0],scope.labels.get_mangled(label,true),walk(stat)];return walk(stat)},"break":_breacont,"continue":_breacont,"var":_vardefs,"const":_vardefs,name:function(name){return get_define(name)||[this[0],get_mangled(name)]},"try":function(t,c,f){return[this[0],MAP(t,walk),c!=null?[get_mangled(c[0]),MAP(c[1],walk)]:null,f!=null?MAP(f,walk):null]},toplevel:function(body){var self=this;return with_scope(self.scope,function(){return[self[0],MAP(body,walk)]})},directive:function(){return MAP.at_top(this)}},function(){return walk(ast_add_scope(ast))})}var warn=function(){};function best_of(ast1,ast2){return gen_code(ast1).length>gen_code(ast2[0]=="stat"?ast2[1]:ast2).length?ast2:ast1}function last_stat(b){if(b[0]=="block"&&b[1]&&b[1].length>0)return b[1][b[1].length-1];return b}function aborts(t){if(t)switch(last_stat(t)[0]){case"return":case"break":case"continue":case"throw":return true}}function boolean_expr(expr){return expr[0]=="unary-prefix"&&member(expr[1],["!","delete"])||expr[0]=="binary"&&member(expr[1],["in","instanceof","==","!=","===","!==","<","<=",">=",">"])||expr[0]=="binary"&&member(expr[1],["&&","||"])&&boolean_expr(expr[2])&&boolean_expr(expr[3])||expr[0]=="conditional"&&boolean_expr(expr[2])&&boolean_expr(expr[3])||expr[0]=="assign"&&expr[1]===true&&boolean_expr(expr[3])||expr[0]=="seq"&&boolean_expr(expr[expr.length-1])}function empty(b){return!b||b[0]=="block"&&(!b[1]||b[1].length==0)}function is_string(node){return node[0]=="string"||node[0]=="unary-prefix"&&node[1]=="typeof"||node[0]=="binary"&&node[1]=="+"&&(is_string(node[2])||is_string(node[3]))}var when_constant=function(){var $NOT_CONSTANT={};function evaluate(expr){switch(expr[0]){case"string":case"num":return expr[1];case"name":case"atom":switch(expr[1]){case"true":return true;case"false":return false;case"null":return null}break;case"unary-prefix":switch(expr[1]){case"!":return!evaluate(expr[2]);case"typeof":return typeof evaluate(expr[2]);case"~":return~evaluate(expr[2]);case"-":return-evaluate(expr[2]);case"+":return+evaluate(expr[2])}break;case"binary":var left=expr[2],right=expr[3];switch(expr[1]){case"&&":return evaluate(left)&&evaluate(right);case"||":return evaluate(left)||evaluate(right);case"|":return evaluate(left)|evaluate(right);case"&":return evaluate(left)&evaluate(right);case"^":return evaluate(left)^evaluate(right);case"+":return evaluate(left)+evaluate(right);case"*":return evaluate(left)*evaluate(right);case"/":return evaluate(left)/evaluate(right);case"%":return evaluate(left)%evaluate(right);case"-":return evaluate(left)-evaluate(right);case"<<":return evaluate(left)<<evaluate(right);case">>":return evaluate(left)>>evaluate(right);case">>>":return evaluate(left)>>>evaluate(right);case"==":return evaluate(left)==evaluate(right);case"===":return evaluate(left)===evaluate(right);case"!=":return evaluate(left)!=evaluate(right);case"!==":return evaluate(left)!==evaluate(right);case"<":return evaluate(left)<evaluate(right);case"<=":return evaluate(left)<=evaluate(right);case">":return evaluate(left)>evaluate(right);case">=":return evaluate(left)>=evaluate(right);case"in":return evaluate(left)in evaluate(right);case"instanceof":return evaluate(left)instanceof evaluate(right)}}throw $NOT_CONSTANT}return function(expr,yes,no){try{var val=evaluate(expr),ast;switch(typeof val){case"string":ast=["string",val];break;case"number":ast=["num",val];break;case"boolean":ast=["name",String(val)];break;default:if(val===null){ast=["atom","null"];break}throw new Error("Can't handle constant of type: "+typeof val)}return yes.call(expr,ast,val)}catch(ex){if(ex===$NOT_CONSTANT){if(expr[0]=="binary"&&(expr[1]=="==="||expr[1]=="!==")&&(is_string(expr[2])&&is_string(expr[3])||boolean_expr(expr[2])&&boolean_expr(expr[3]))){expr[1]=expr[1].substr(0,2)}else if(no&&expr[0]=="binary"&&(expr[1]=="||"||expr[1]=="&&")){try{var lval=evaluate(expr[2]);expr=expr[1]=="&&"&&(lval?expr[3]:lval)||expr[1]=="||"&&(lval?lval:expr[3])||expr}catch(ex2){}}return no?no.call(expr,expr):null}else throw ex}}}();function warn_unreachable(ast){if(!empty(ast))warn("Dropping unreachable code: "+gen_code(ast,true))}function prepare_ifs(ast){var w=ast_walker(),walk=w.walk;function redo_if(statements){statements=MAP(statements,walk);for(var i=0;i<statements.length;++i){var fi=statements[i];if(fi[0]!="if")continue;if(fi[3])continue;var t=fi[2];if(!aborts(t))continue;var conditional=walk(fi[1]);var e_body=redo_if(statements.slice(i+1));var e=e_body.length==1?e_body[0]:["block",e_body];return statements.slice(0,i).concat([[fi[0],conditional,t,e]])}return statements}function redo_if_lambda(name,args,body){body=redo_if(body);return[this[0],name,args,body]}function redo_if_block(statements){return[this[0],statements!=null?redo_if(statements):null]}return w.with_walkers({defun:redo_if_lambda,"function":redo_if_lambda,block:redo_if_block,splice:redo_if_block,toplevel:function(statements){return[this[0],redo_if(statements)]},"try":function(t,c,f){return[this[0],redo_if(t),c!=null?[c[0],redo_if(c[1])]:null,f!=null?redo_if(f):null]}},function(){return walk(ast)})}function for_side_effects(ast,handler){var w=ast_walker(),walk=w.walk;var $stop={},$restart={};function stop(){throw $stop}function restart(){throw $restart}function found(){return handler.call(this,this,w,stop,restart)}function unary(op){if(op=="++"||op=="--")return found.apply(this,arguments)}function binary(op){if(op=="&&"||op=="||")return found.apply(this,arguments)}return w.with_walkers({"try":found,"throw":found,"return":found,"new":found,"switch":found,"break":found,"continue":found,assign:found,call:found,"if":found,"for":found,"for-in":found,"while":found,"do":found,"return":found,"unary-prefix":unary,"unary-postfix":unary,conditional:found,binary:binary,defun:found},function(){while(true)try{walk(ast);break}catch(ex){if(ex===$stop)break;if(ex===$restart)continue;throw ex}})}function ast_lift_variables(ast){var w=ast_walker(),walk=w.walk,scope;function do_body(body,env){var _scope=scope;scope=env;body=MAP(body,walk);var hash={},names=MAP(env.names,function(type,name){if(type!="var")return MAP.skip;if(!env.references(name))return MAP.skip;hash[name]=true;return[name]});if(names.length>0){for_side_effects(["block",body],function(ast,walker,stop,restart){if(ast[0]=="assign"&&ast[1]===true&&ast[2][0]=="name"&&HOP(hash,ast[2][1])){for(var i=names.length;--i>=0;){if(names[i][0]==ast[2][1]){if(names[i][1])stop();names[i][1]=ast[3];names.push(names.splice(i,1)[0]);break}}var p=walker.parent();if(p[0]=="seq"){var a=p[2];a.unshift(0,p.length);p.splice.apply(p,a)}else if(p[0]=="stat"){p.splice(0,p.length,"block")}else{stop()}restart()}stop()});body.unshift(["var",names])}scope=_scope;return body}function _vardefs(defs){var ret=null;for(var i=defs.length;--i>=0;){var d=defs[i];if(!d[1])continue;d=["assign",true,["name",d[0]],d[1]];if(ret==null)ret=d;else ret=["seq",d,ret]}if(ret==null&&w.parent()[0]!="for"){if(w.parent()[0]=="for-in")return["name",defs[0][0]];return MAP.skip}return["stat",ret]}function _toplevel(body){return[this[0],do_body(body,this.scope)]}return w.with_walkers({"function":function(name,args,body){for(var i=args.length;--i>=0&&!body.scope.references(args[i]);)args.pop();if(!body.scope.references(name))name=null;return[this[0],name,args,do_body(body,body.scope)]},defun:function(name,args,body){if(!scope.references(name))return MAP.skip;for(var i=args.length;--i>=0&&!body.scope.references(args[i]);)args.pop();return[this[0],name,args,do_body(body,body.scope)]},"var":_vardefs,toplevel:_toplevel},function(){return walk(ast_add_scope(ast))})}function ast_squeeze(ast,options){ast=squeeze_1(ast,options);ast=squeeze_2(ast,options);return ast}function squeeze_1(ast,options){options=defaults(options,{make_seqs:true,dead_code:true,no_warnings:false,keep_comps:true,unsafe:false});var w=ast_walker(),walk=w.walk,scope;function negate(c){var not_c=["unary-prefix","!",c];switch(c[0]){case"unary-prefix":return c[1]=="!"&&boolean_expr(c[2])?c[2]:not_c;case"seq":c=slice(c);c[c.length-1]=negate(c[c.length-1]);return c;case"conditional":return best_of(not_c,["conditional",c[1],negate(c[2]),negate(c[3])]);case"binary":var op=c[1],left=c[2],right=c[3];if(!options.keep_comps)switch(op){case"<=":return["binary",">",left,right];case"<":return["binary",">=",left,right];case">=":return["binary","<",left,right];case">":return["binary","<=",left,right]}switch(op){case"==":return["binary","!=",left,right];case"!=":return["binary","==",left,right];case"===":return["binary","!==",left,right];case"!==":return["binary","===",left,right];case"&&":return best_of(not_c,["binary","||",negate(left),negate(right)]);case"||":return best_of(not_c,["binary","&&",negate(left),negate(right)])}break}return not_c}function make_conditional(c,t,e){var make_real_conditional=function(){if(c[0]=="unary-prefix"&&c[1]=="!"){return e?["conditional",c[2],e,t]:["binary","||",c[2],t]}else{return e?best_of(["conditional",c,t,e],["conditional",negate(c),e,t]):["binary","&&",c,t]}};return when_constant(c,function(ast,val){warn_unreachable(val?e:t);return val?t:e},make_real_conditional)}function rmblock(block){if(block!=null&&block[0]=="block"&&block[1]){if(block[1].length==1)block=block[1][0];else if(block[1].length==0)block=["block"]}return block}function _lambda(name,args,body){return[this[0],name,args,tighten(body,"lambda")]}function tighten(statements,block_type){statements=MAP(statements,walk);statements=statements.reduce(function(a,stat){if(stat[0]=="block"){if(stat[1]){a.push.apply(a,stat[1])}}else{a.push(stat)}return a},[]);statements=function(a,prev){statements.forEach(function(cur){if(prev&&(cur[0]=="var"&&prev[0]=="var"||cur[0]=="const"&&prev[0]=="const")){prev[1]=prev[1].concat(cur[1])}else{a.push(cur);prev=cur}});return a}([]);if(options.dead_code)statements=function(a,has_quit){statements.forEach(function(st){if(has_quit){if(st[0]=="function"||st[0]=="defun"){a.push(st)}else if(st[0]=="var"||st[0]=="const"){if(!options.no_warnings)warn("Variables declared in unreachable code");st[1]=MAP(st[1],function(def){if(def[1]&&!options.no_warnings)warn_unreachable(["assign",true,["name",def[0]],def[1]]);return[def[0]]});a.push(st)}else if(!options.no_warnings)warn_unreachable(st)}else{a.push(st);if(member(st[0],["return","throw","break","continue"]))has_quit=true}});return a}([]);if(options.make_seqs)statements=function(a,prev){statements.forEach(function(cur){if(prev&&prev[0]=="stat"&&cur[0]=="stat"){prev[1]=["seq",prev[1],cur[1]]}else{a.push(cur);prev=cur}});if(a.length>=2&&a[a.length-2][0]=="stat"&&(a[a.length-1][0]=="return"||a[a.length-1][0]=="throw")&&a[a.length-1][1]){a.splice(a.length-2,2,[a[a.length-1][0],["seq",a[a.length-2][1],a[a.length-1][1]]])}return a}([]);return statements}function make_if(c,t,e){return when_constant(c,function(ast,val){if(val){t=walk(t);warn_unreachable(e);return t||["block"]}else{e=walk(e);warn_unreachable(t);return e||["block"]}},function(){return make_real_if(c,t,e)})}function abort_else(c,t,e){var ret=[["if",negate(c),e]];if(t[0]=="block"){if(t[1])ret=ret.concat(t[1])}else{ret.push(t)}return walk(["block",ret])}function make_real_if(c,t,e){c=walk(c);t=walk(t);e=walk(e);if(empty(e)&&empty(t))return["stat",c];if(empty(t)){c=negate(c);t=e;e=null}else if(empty(e)){e=null}else{(function(){var a=gen_code(c);var n=negate(c);var b=gen_code(n);if(b.length<a.length){var tmp=t;t=e;e=tmp;c=n}})()}var ret=["if",c,t,e];if(t[0]=="if"&&empty(t[3])&&empty(e)){ret=best_of(ret,walk(["if",["binary","&&",c,t[1]],t[2]]))}else if(t[0]=="stat"){if(e){if(e[0]=="stat")ret=best_of(ret,["stat",make_conditional(c,t[1],e[1])]);else if(aborts(e))ret=abort_else(c,t,e)}else{ret=best_of(ret,["stat",make_conditional(c,t[1])])}}else if(e&&t[0]==e[0]&&(t[0]=="return"||t[0]=="throw")&&t[1]&&e[1]){ret=best_of(ret,[t[0],make_conditional(c,t[1],e[1])])}else if(e&&aborts(t)){ret=[["if",c,t]];if(e[0]=="block"){if(e[1])ret=ret.concat(e[1])}else{ret.push(e)}ret=walk(["block",ret])}else if(t&&aborts(e)){ret=abort_else(c,t,e)}return ret}function _do_while(cond,body){return when_constant(cond,function(cond,val){if(!val){warn_unreachable(body);return["block"]}else{return["for",null,null,null,walk(body)]}})}return w.with_walkers({sub:function(expr,subscript){if(subscript[0]=="string"){var name=subscript[1];if(is_identifier(name))return["dot",walk(expr),name];else if(/^[1-9][0-9]*$/.test(name)||name==="0")return["sub",walk(expr),["num",parseInt(name,10)]]}},"if":make_if,toplevel:function(body){return["toplevel",tighten(body)]},"switch":function(expr,body){var last=body.length-1;return["switch",walk(expr),MAP(body,function(branch,i){var block=tighten(branch[1]);if(i==last&&block.length>0){var node=block[block.length-1];if(node[0]=="break"&&!node[1])block.pop()}return[branch[0]?walk(branch[0]):null,block]})]},"function":_lambda,defun:_lambda,block:function(body){if(body)return rmblock(["block",tighten(body)])},binary:function(op,left,right){return when_constant(["binary",op,walk(left),walk(right)],function yes(c){return best_of(walk(c),this)},function no(){return function(){if(op!="=="&&op!="!=")return;var l=walk(left),r=walk(right);if(l&&l[0]=="unary-prefix"&&l[1]=="!"&&l[2][0]=="num")left=["num",+!l[2][1]];else if(r&&r[0]=="unary-prefix"&&r[1]=="!"&&r[2][0]=="num")right=["num",+!r[2][1]];return["binary",op,left,right]}()||this})},conditional:function(c,t,e){return make_conditional(walk(c),walk(t),walk(e))},"try":function(t,c,f){return["try",tighten(t),c!=null?[c[0],tighten(c[1])]:null,f!=null?tighten(f):null]},"unary-prefix":function(op,expr){expr=walk(expr);var ret=["unary-prefix",op,expr];if(op=="!")ret=best_of(ret,negate(expr));return when_constant(ret,function(ast,val){return walk(ast)},function(){return ret})},name:function(name){switch(name){case"true":return["unary-prefix","!",["num",0]];case"false":return["unary-prefix","!",["num",1]]}},"while":_do_while,assign:function(op,lvalue,rvalue){lvalue=walk(lvalue);rvalue=walk(rvalue);var okOps=["+","-","/","*","%",">>","<<",">>>","|","^","&"];if(op===true&&lvalue[0]==="name"&&rvalue[0]==="binary"&&~okOps.indexOf(rvalue[1])&&rvalue[2][0]==="name"&&rvalue[2][1]===lvalue[1]){return[this[0],rvalue[1],lvalue,rvalue[3]]}return[this[0],op,lvalue,rvalue]},call:function(expr,args){expr=walk(expr);if(options.unsafe&&expr[0]=="dot"&&expr[1][0]=="string"&&expr[2]=="toString"){return expr[1]}return[this[0],expr,MAP(args,walk)]},num:function(num){if(!isFinite(num))return["binary","/",num===1/0?["num",1]:num===-1/0?["unary-prefix","-",["num",1]]:["num",0],["num",0]];return[this[0],num]}},function(){return walk(prepare_ifs(walk(prepare_ifs(ast))))})}function squeeze_2(ast,options){var w=ast_walker(),walk=w.walk,scope;function with_scope(s,cont){var save=scope,ret;scope=s;ret=cont();scope=save;return ret}function lambda(name,args,body){return[this[0],name,args,with_scope(body.scope,curry(MAP,body,walk))]}return w.with_walkers({directive:function(dir){if(scope.active_directive(dir))return["block"];scope.directives.push(dir)},toplevel:function(body){return[this[0],with_scope(this.scope,curry(MAP,body,walk))]},"function":lambda,defun:lambda},function(){return walk(ast_add_scope(ast))})}var DOT_CALL_NO_PARENS=jsp.array_to_hash(["name","array","object","string","dot","sub","call","regexp","defun"]);function make_string(str,ascii_only){var dq=0,sq=0;str=str.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g,function(s){switch(s){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':++dq;return'"';case"'":++sq;return"'";case"\x00":return"\\0"}return s});if(ascii_only)str=to_ascii(str);if(dq>sq)return"'"+str.replace(/\x27/g,"\\'")+"'";else return'"'+str.replace(/\x22/g,'\\"')+'"'}function to_ascii(str){return str.replace(/[\u0080-\uffff]/g,function(ch){var code=ch.charCodeAt(0).toString(16);while(code.length<4)code="0"+code;return"\\u"+code})}var SPLICE_NEEDS_BRACKETS=jsp.array_to_hash(["if","while","do","for","for-in","with"]);function gen_code(ast,options){options=defaults(options,{indent_start:0,indent_level:4,quote_keys:false,space_colon:false,beautify:false,ascii_only:false,inline_script:false});var beautify=!!options.beautify;var indentation=0,newline=beautify?"\n":"",space=beautify?" ":"";function encode_string(str){var ret=make_string(str,options.ascii_only);if(options.inline_script)ret=ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1");return ret}function make_name(name){name=name.toString();if(options.ascii_only)name=to_ascii(name);return name}function indent(line){if(line==null)line="";if(beautify)line=repeat_string(" ",options.indent_start+indentation*options.indent_level)+line;return line}function with_indent(cont,incr){if(incr==null)incr=1;indentation+=incr;try{return cont.apply(null,slice(arguments,1))}finally{indentation-=incr}}function last_char(str){str=str.toString();return str.charAt(str.length-1)}function first_char(str){return str.toString().charAt(0)}function add_spaces(a){if(beautify)return a.join(" ");var b=[];for(var i=0;i<a.length;++i){var next=a[i+1];b.push(a[i]);if(next&&(is_identifier_char(last_char(a[i]))&&(is_identifier_char(first_char(next))||first_char(next)=="\\")||/[\+\-]$/.test(a[i].toString())&&/^[\+\-]/.test(next.toString()))){b.push(" ")}}return b.join("")}function add_commas(a){return a.join(","+space)}function parenthesize(expr){var gen=make(expr);for(var i=1;i<arguments.length;++i){var el=arguments[i];if(el instanceof Function&&el(expr)||expr[0]==el)return"("+gen+")"}return gen}function best_of(a){if(a.length==1){return a[0]}if(a.length==2){var b=a[1];a=a[0];return a.length<=b.length?a:b}return best_of([a[0],best_of(a.slice(1))])}function needs_parens(expr){if(expr[0]=="function"||expr[0]=="object"){var a=slice(w.stack()),self=a.pop(),p=a.pop();while(p){if(p[0]=="stat")return true;if((p[0]=="seq"||p[0]=="call"||p[0]=="dot"||p[0]=="sub"||p[0]=="conditional")&&p[1]===self||(p[0]=="binary"||p[0]=="assign"||p[0]=="unary-postfix")&&p[2]===self){self=p;p=a.pop()}else{return false}}}return!HOP(DOT_CALL_NO_PARENS,expr[0])}function make_num(num){var str=num.toString(10),a=[str.replace(/^0\./,".").replace("e+","e")],m;if(Math.floor(num)===num){if(num>=0){a.push("0x"+num.toString(16).toLowerCase(),"0"+num.toString(8))}else{a.push("-0x"+(-num).toString(16).toLowerCase(),"-0"+(-num).toString(8))}if(m=/^(.*?)(0+)$/.exec(num)){a.push(m[1]+"e"+m[2].length)}}else if(m=/^0?\.(0+)(.*)$/.exec(num)){a.push(m[2]+"e-"+(m[1].length+m[2].length),str.substr(str.indexOf(".")))
}return best_of(a)}var w=ast_walker();var make=w.walk;return w.with_walkers({string:encode_string,num:make_num,name:make_name,"debugger":function(){return"debugger;"},toplevel:function(statements){return make_block_statements(statements).join(newline+newline)},splice:function(statements){var parent=w.parent();if(HOP(SPLICE_NEEDS_BRACKETS,parent)){return make_block.apply(this,arguments)}else{return MAP(make_block_statements(statements,true),function(line,i){return i>0?indent(line):line}).join(newline)}},block:make_block,"var":function(defs){return"var "+add_commas(MAP(defs,make_1vardef))+";"},"const":function(defs){return"const "+add_commas(MAP(defs,make_1vardef))+";"},"try":function(tr,ca,fi){var out=["try",make_block(tr)];if(ca)out.push("catch","("+ca[0]+")",make_block(ca[1]));if(fi)out.push("finally",make_block(fi));return add_spaces(out)},"throw":function(expr){return add_spaces(["throw",make(expr)])+";"},"new":function(ctor,args){args=args.length>0?"("+add_commas(MAP(args,function(expr){return parenthesize(expr,"seq")}))+")":"";return add_spaces(["new",parenthesize(ctor,"seq","binary","conditional","assign",function(expr){var w=ast_walker(),has_call={};try{w.with_walkers({call:function(){throw has_call},"function":function(){return this}},function(){w.walk(expr)})}catch(ex){if(ex===has_call)return true;throw ex}})+args])},"switch":function(expr,body){return add_spaces(["switch","("+make(expr)+")",make_switch_block(body)])},"break":function(label){var out="break";if(label!=null)out+=" "+make_name(label);return out+";"},"continue":function(label){var out="continue";if(label!=null)out+=" "+make_name(label);return out+";"},conditional:function(co,th,el){return add_spaces([parenthesize(co,"assign","seq","conditional"),"?",parenthesize(th,"seq"),":",parenthesize(el,"seq")])},assign:function(op,lvalue,rvalue){if(op&&op!==true)op+="=";else op="=";return add_spaces([make(lvalue),op,parenthesize(rvalue,"seq")])},dot:function(expr){var out=make(expr),i=1;if(expr[0]=="num"){if(!/[a-f.]/i.test(out))out+="."}else if(expr[0]!="function"&&needs_parens(expr))out="("+out+")";while(i<arguments.length)out+="."+make_name(arguments[i++]);return out},call:function(func,args){var f=make(func);if(f.charAt(0)!="("&&needs_parens(func))f="("+f+")";return f+"("+add_commas(MAP(args,function(expr){return parenthesize(expr,"seq")}))+")"},"function":make_function,defun:make_function,"if":function(co,th,el){var out=["if","("+make(co)+")",el?make_then(th):make(th)];if(el){out.push("else",make(el))}return add_spaces(out)},"for":function(init,cond,step,block){var out=["for"];init=(init!=null?make(init):"").replace(/;*\s*$/,";"+space);cond=(cond!=null?make(cond):"").replace(/;*\s*$/,";"+space);step=(step!=null?make(step):"").replace(/;*\s*$/,"");var args=init+cond+step;if(args=="; ; ")args=";;";out.push("("+args+")",make(block));return add_spaces(out)},"for-in":function(vvar,key,hash,block){return add_spaces(["for","("+(vvar?make(vvar).replace(/;+$/,""):make(key)),"in",make(hash)+")",make(block)])},"while":function(condition,block){return add_spaces(["while","("+make(condition)+")",make(block)])},"do":function(condition,block){return add_spaces(["do",make(block),"while","("+make(condition)+")"])+";"},"return":function(expr){var out=["return"];if(expr!=null)out.push(make(expr));return add_spaces(out)+";"},binary:function(operator,lvalue,rvalue){var left=make(lvalue),right=make(rvalue);if(member(lvalue[0],["assign","conditional","seq"])||lvalue[0]=="binary"&&PRECEDENCE[operator]>PRECEDENCE[lvalue[1]]||lvalue[0]=="function"&&needs_parens(this)){left="("+left+")"}if(member(rvalue[0],["assign","conditional","seq"])||rvalue[0]=="binary"&&PRECEDENCE[operator]>=PRECEDENCE[rvalue[1]]&&!(rvalue[1]==operator&&member(operator,["&&","||","*"]))){right="("+right+")"}else if(!beautify&&options.inline_script&&(operator=="<"||operator=="<<")&&rvalue[0]=="regexp"&&/^script/i.test(rvalue[1])){right=" "+right}return add_spaces([left,operator,right])},"unary-prefix":function(operator,expr){var val=make(expr);if(!(expr[0]=="num"||expr[0]=="unary-prefix"&&!HOP(OPERATORS,operator+expr[1])||!needs_parens(expr)))val="("+val+")";return operator+(jsp.is_alphanumeric_char(operator.charAt(0))?" ":"")+val},"unary-postfix":function(operator,expr){var val=make(expr);if(!(expr[0]=="num"||expr[0]=="unary-postfix"&&!HOP(OPERATORS,operator+expr[1])||!needs_parens(expr)))val="("+val+")";return val+operator},sub:function(expr,subscript){var hash=make(expr);if(needs_parens(expr))hash="("+hash+")";return hash+"["+make(subscript)+"]"},object:function(props){var obj_needs_parens=needs_parens(this);if(props.length==0)return obj_needs_parens?"({})":"{}";var out="{"+newline+with_indent(function(){return MAP(props,function(p){if(p.length==3){return indent(make_function(p[0],p[1][2],p[1][3],p[2],true))}var key=p[0],val=parenthesize(p[1],"seq");if(options.quote_keys){key=encode_string(key)}else if((typeof key=="number"||!beautify&&+key+""==key)&&parseFloat(key)>=0){key=make_num(+key)}else if(!is_identifier(key)){key=encode_string(key)}return indent(add_spaces(beautify&&options.space_colon?[key,":",val]:[key+":",val]))}).join(","+newline)})+newline+indent("}");return obj_needs_parens?"("+out+")":out},regexp:function(rx,mods){if(options.ascii_only)rx=to_ascii(rx);return"/"+rx+"/"+mods},array:function(elements){if(elements.length==0)return"[]";return add_spaces(["[",add_commas(MAP(elements,function(el,i){if(!beautify&&el[0]=="atom"&&el[1]=="undefined")return i===elements.length-1?",":"";return parenthesize(el,"seq")})),"]"])},stat:function(stmt){return stmt!=null?make(stmt).replace(/;*\s*$/,";"):";"},seq:function(){return add_commas(MAP(slice(arguments),make))},label:function(name,block){return add_spaces([make_name(name),":",make(block)])},"with":function(expr,block){return add_spaces(["with","("+make(expr)+")",make(block)])},atom:function(name){return make_name(name)},directive:function(dir){return make_string(dir)+";"}},function(){return make(ast)});function make_then(th){if(th==null)return";";if(th[0]=="do"){return make_block([th])}var b=th;while(true){var type=b[0];if(type=="if"){if(!b[3])return make(["block",[th]]);b=b[3]}else if(type=="while"||type=="do")b=b[2];else if(type=="for"||type=="for-in")b=b[4];else break}return make(th)}function make_function(name,args,body,keyword,no_parens){var out=keyword||"function";if(name){out+=" "+make_name(name)}out+="("+add_commas(MAP(args,make_name))+")";out=add_spaces([out,make_block(body)]);return!no_parens&&needs_parens(this)?"("+out+")":out}function must_has_semicolon(node){switch(node[0]){case"with":case"while":return empty(node[2])||must_has_semicolon(node[2]);case"for":case"for-in":return empty(node[4])||must_has_semicolon(node[4]);case"if":if(empty(node[2])&&!node[3])return true;if(node[3]){if(empty(node[3]))return true;return must_has_semicolon(node[3])}return must_has_semicolon(node[2]);case"directive":return true}}function make_block_statements(statements,noindent){for(var a=[],last=statements.length-1,i=0;i<=last;++i){var stat=statements[i];var code=make(stat);if(code!=";"){if(!beautify&&i==last&&!must_has_semicolon(stat)){code=code.replace(/;+\s*$/,"")}a.push(code)}}return noindent?a:MAP(a,indent)}function make_switch_block(body){var n=body.length;if(n==0)return"{}";return"{"+newline+MAP(body,function(branch,i){var has_body=branch[1].length>0,code=with_indent(function(){return indent(branch[0]?add_spaces(["case",make(branch[0])+":"]):"default:")},.5)+(has_body?newline+with_indent(function(){return make_block_statements(branch[1]).join(newline)}):"");if(!beautify&&has_body&&i<n-1)code+=";";return code}).join(newline)+newline+indent("}")}function make_block(statements){if(!statements)return";";if(statements.length==0)return"{}";return"{"+newline+with_indent(function(){return make_block_statements(statements).join(newline)})+newline+indent("}")}function make_1vardef(def){var name=def[0],val=def[1];if(val!=null)name=add_spaces([make_name(name),"=",parenthesize(val,"seq")]);return name}}function split_lines(code,max_line_length){var splits=[0];jsp.parse(function(){var next_token=jsp.tokenizer(code);var last_split=0;var prev_token;function current_length(tok){return tok.pos-last_split}function split_here(tok){last_split=tok.pos;splits.push(last_split)}function custom(){var tok=next_token.apply(this,arguments);out:{if(prev_token){if(prev_token.type=="keyword")break out}if(current_length(tok)>max_line_length){switch(tok.type){case"keyword":case"atom":case"name":case"punc":split_here(tok);break out}}}prev_token=tok;return tok}custom.context=function(){return next_token.context.apply(this,arguments)};return custom}());return splits.map(function(pos,i){return code.substring(pos,splits[i+1]||code.length)}).join("\n")}function repeat_string(str,i){if(i<=0)return"";if(i==1)return str;var d=repeat_string(str,i>>1);d+=d;if(i&1)d+=str;return d}function defaults(args,defs){var ret={};if(args===true)args={};for(var i in defs)if(HOP(defs,i)){ret[i]=args&&HOP(args,i)?args[i]:defs[i]}return ret}function is_identifier(name){return/^[a-z_$][a-z0-9_$]*$/i.test(name)&&name!="this"&&!HOP(jsp.KEYWORDS_ATOM,name)&&!HOP(jsp.RESERVED_WORDS,name)&&!HOP(jsp.KEYWORDS,name)}function HOP(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var MAP;(function(){MAP=function(a,f,o){var ret=[],top=[],i;function doit(){var val=f.call(o,a[i],i);if(val instanceof AtTop){val=val.v;if(val instanceof Splice){top.push.apply(top,val.v)}else{top.push(val)}}else if(val!=skip){if(val instanceof Splice){ret.push.apply(ret,val.v)}else{ret.push(val)}}}if(a instanceof Array)for(i=0;i<a.length;++i)doit();else for(i in a)if(HOP(a,i))doit();return top.concat(ret)};MAP.at_top=function(val){return new AtTop(val)};MAP.splice=function(val){return new Splice(val)};var skip=MAP.skip={};function AtTop(val){this.v=val}function Splice(val){this.v=val}})();exports.ast_walker=ast_walker;exports.ast_mangle=ast_mangle;exports.ast_squeeze=ast_squeeze;exports.ast_lift_variables=ast_lift_variables;exports.gen_code=gen_code;exports.ast_add_scope=ast_add_scope;exports.set_logger=function(logger){warn=logger};exports.make_string=make_string;exports.split_lines=split_lines;exports.MAP=MAP;exports.ast_squeeze_more=require("./squeeze-more").ast_squeeze_more},{"./parse-js":31,"./squeeze-more":33}],33:[function(require,module,exports){var jsp=require("./parse-js"),pro=require("./process"),slice=jsp.slice,member=jsp.member,curry=jsp.curry,MAP=pro.MAP,PRECEDENCE=jsp.PRECEDENCE,OPERATORS=jsp.OPERATORS;function ast_squeeze_more(ast){var w=pro.ast_walker(),walk=w.walk,scope;function with_scope(s,cont){var save=scope,ret;scope=s;ret=cont();scope=save;return ret}function _lambda(name,args,body){return[this[0],name,args,with_scope(body.scope,curry(MAP,body,walk))]}return w.with_walkers({toplevel:function(body){return[this[0],with_scope(this.scope,curry(MAP,body,walk))]},"function":_lambda,defun:_lambda,"new":function(ctor,args){if(ctor[0]=="name"){if(ctor[1]=="Array"&&!scope.has("Array")){if(args.length!=1){return["array",args]}else{return walk(["call",["name","Array"],args])}}else if(ctor[1]=="Object"&&!scope.has("Object")){if(!args.length){return["object",[]]}else{return walk(["call",["name","Object"],args])}}else if((ctor[1]=="RegExp"||ctor[1]=="Function"||ctor[1]=="Error")&&!scope.has(ctor[1])){return walk(["call",["name",ctor[1]],args])}}},call:function(expr,args){if(expr[0]=="dot"&&expr[1][0]=="string"&&args.length==1&&(args[0][1]>0&&expr[2]=="substring"||expr[2]=="substr")){return["call",["dot",expr[1],"slice"],args]}if(expr[0]=="dot"&&expr[2]=="toString"&&args.length==0){if(expr[1][0]=="string")return expr[1];return["binary","+",expr[1],["string",""]]}if(expr[0]=="name"){if(expr[1]=="Array"&&args.length!=1&&!scope.has("Array")){return["array",args]}if(expr[1]=="Object"&&!args.length&&!scope.has("Object")){return["object",[]]}if(expr[1]=="String"&&!scope.has("String")){return["binary","+",args[0],["string",""]]}}}},function(){return walk(pro.ast_add_scope(ast))})}exports.ast_squeeze_more=ast_squeeze_more},{"./parse-js":31,"./process":32}],34:[function(require,module,exports){function uglify(orig_code,options){options||(options={});var jsp=uglify.parser;var pro=uglify.uglify;var ast=jsp.parse(orig_code,options.strict_semicolons);ast=pro.ast_mangle(ast,options.mangle_options);ast=pro.ast_squeeze(ast,options.squeeze_options);var final_code=pro.gen_code(ast,options.gen_options);return final_code}uglify.parser=require("./lib/parse-js");uglify.uglify=require("./lib/process");uglify.consolidator=require("./lib/consolidator");module.exports=uglify},{"./lib/consolidator":30,"./lib/parse-js":31,"./lib/process":32}],35:[function(require,module,exports){(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){return new wrapper(obj)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root["_"]=_}_.VERSION="1.3.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker)return}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)});if(obj.length===+obj.length)results.length=obj.length;return results};_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial)throw new TypeError("Reduce of empty array with no initial value");return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var reversed=_.toArray(obj).reverse();if(context&&!initial)iterator=_.bind(iterator,context);return initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value});return results};_.reject=function(obj,iterator,context){var results=[];if(obj==null)return results;each(obj,function(value,index,list){if(!iterator.call(context,value,index,list))results[results.length]=value});return results};_.every=_.all=function(obj,iterator,context){var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker});return!!result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker});return!!result};_.include=_.contains=function(obj,target){var found=false;if(obj==null)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;found=any(obj,function(value){return value===target});return found};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var shuffled=[],rand;each(obj,function(value,index,list){rand=Math.floor(Math.random()*(index+1));shuffled[index]=shuffled[rand];shuffled[rand]=value});return shuffled};_.sortBy=function(obj,val,context){var iterator=_.isFunction(val)?val:function(obj){return obj[val]};return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a===void 0)return 1;if(b===void 0)return-1;return a<b?-1:a>b?1:0}),"value")};_.groupBy=function(obj,val){var result={};var iterator=_.isFunction(val)?val:function(obj){return obj[val]};each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)});return result};_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);var low=0,high=array.length;while(low<high){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(_.isArguments(obj))return slice.call(obj);if(obj.toArray&&_.isFunction(obj.toArray))return obj.toArray();return _.values(obj)};_.size=function(obj){return _.isArray(obj)?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){return n!=null&&!guard?slice.call(array,0,n):array[0]};_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))};_.last=function(array,n,guard){if(n!=null&&!guard){return slice.call(array,Math.max(array.length-n,0))}else{return array[array.length-1]}};_.rest=_.tail=function(array,index,guard){return slice.call(array,index==null||guard?1:index)};_.compact=function(array){return _.filter(array,function(value){return!!value})};_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){if(_.isArray(value))return memo.concat(shallow?value:_.flatten(value));memo[memo.length]=value;return memo},[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array;var results=[];if(array.length<3)isSorted=true;_.reduce(initial,function(memo,value,index){if(isSorted?_.last(memo)!==value||!memo.length:!_.include(memo,value)){memo.push(value);results.push(array[index])}return memo},[]);return results};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=_.flatten(slice.call(arguments,1),true);return _.filter(array,function(value){return!_.include(rest,value)})};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,"length"));var results=new Array(length);for(var i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i,l;if(isSorted){i=_.sortedIndex(array,item);return array[i]===item?i:-1}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;i<l;i++)if(i in array&&array[i]===item)return i;return-1};_.lastIndexOf=function(array,item){if(array==null)return-1;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return array.lastIndexOf(item);var i=array.length;while(i--)if(i in array&&array[i]===item)return i;return-1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait){var context,args,timeout,throttling,more,result;var whenDone=_.debounce(function(){more=throttling=false},wait);return function(){context=this;args=arguments;var later=function(){timeout=null;if(more)func.apply(context,args);whenDone()};if(!timeout)timeout=setTimeout(later,wait);if(throttling){more=true}else{result=func.apply(context,args)}whenDone();throttling=true;return result}};_.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};if(immediate&&!timeout)func.apply(context,args);clearTimeout(timeout);timeout=setTimeout(later,wait)}};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;return memo=func.apply(this,arguments)}};_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){if(times<=0)return func();return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys};_.values=function(obj){return _.map(obj,_.identity)};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){obj[prop]=source[prop]}});return obj};_.pick=function(obj){var result={};each(_.flatten(slice.call(arguments,1)),function(key){if(key in obj)result[key]=obj[key]});return result};_.defaults=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){if(obj[prop]==null)obj[prop]=source[prop]}});return obj};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};function eq(a,b,stack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;var length=stack.length;while(length--){if(stack[length]==a)return true}stack.push(a);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=size in a==size in b&&eq(a[size],b[size],stack)))break}}}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return false;for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break}}if(result){for(key in b){if(_.has(b,key)&&!size--)break}result=!size}}stack.pop();return result}_.isEqual=function(a,b){return eq(a,b,[])};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true};_.isElement=function(obj){return!!(obj&&obj.nodeType==1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};_.isArguments=function(obj){return toString.call(obj)=="[object Arguments]"};if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,"callee"))}}_.isFunction=function(obj){return toString.call(obj)=="[object Function]"};_.isString=function(obj){return toString.call(obj)=="[object String]"};_.isNumber=function(obj){return toString.call(obj)=="[object Number]"};_.isFinite=function(obj){return _.isNumber(obj)&&isFinite(obj)};_.isNaN=function(obj){return obj!==obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isDate=function(obj){return toString.call(obj)=="[object Date]"};_.isRegExp=function(obj){return toString.call(obj)=="[object RegExp]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i)};_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/;var escapes={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var p in escapes)escapes[escapes[p]]=p;var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;var unescaper=/\\(\\|'|r|n|t|u2028|u2029)/g;var unescape=function(code){return code.replace(unescaper,function(match,escape){return escapes[escape]})};_.template=function(text,data,settings){settings=_.defaults(settings||{},_.templateSettings);var source="__p+='"+text.replace(escaper,function(match){return"\\"+escapes[match]}).replace(settings.escape||noMatch,function(match,code){return"'+\n_.escape("+unescape(code)+")+\n'"}).replace(settings.interpolate||noMatch,function(match,code){return"'+\n("+unescape(code)+")+\n'"}).replace(settings.evaluate||noMatch,function(match,code){return"';\n"+unescape(code)+"\n;__p+='"})+"';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+source+"return __p;\n";var render=new Function(settings.variable||"obj","_",source);if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj};var addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);unshift.call(args,this._wrapped);return result(func.apply(_,args),this._chain)}};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;if((name=="shift"||name=="splice")&&length===0)delete wrapped[0];return result(wrapped,this._chain)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}});wrapper.prototype.chain=function(){this._chain=true;return this};wrapper.prototype.value=function(){return this._wrapped}}).call(this)},{}],36:[function(require,module,exports){module.exports.create=function(){var Handlebars={};Handlebars.VERSION="1.0.0";Handlebars.COMPILER_REVISION=4;Handlebars.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};Handlebars.helpers={};Handlebars.partials={};var toString=Object.prototype.toString,functionType="[object Function]",objectType="[object Object]";Handlebars.registerHelper=function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn){throw new Handlebars.Exception("Arg not supported with multiple helpers")}Handlebars.Utils.extend(this.helpers,name)}else{if(inverse){fn.not=inverse}this.helpers[name]=fn}};Handlebars.registerPartial=function(name,str){if(toString.call(name)===objectType){Handlebars.Utils.extend(this.partials,name)}else{this.partials[name]=str}};Handlebars.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Error("Missing helper: '"+arg+"'")}});Handlebars.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var type=toString.call(context);if(type===functionType){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(type==="[object Array]"){if(context.length>0){return Handlebars.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}});Handlebars.K=function(){};Handlebars.createFrame=Object.create||function(object){Handlebars.K.prototype=object;var obj=new Handlebars.K;Handlebars.K.prototype=null;
return obj};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(level,obj){if(Handlebars.logger.level<=level){var method=Handlebars.logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};Handlebars.log=function(level,obj){Handlebars.logger.log(level,obj)};Handlebars.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;var type=toString.call(context);if(type===functionType){context=context.call(this)}if(options.data){data=Handlebars.createFrame(options.data)}if(context&&typeof context==="object"){if(context instanceof Array){for(var j=context.length;i<j;i++){if(data){data.index=i}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});Handlebars.registerHelper("if",function(conditional,options){var type=toString.call(conditional);if(type===functionType){conditional=conditional.call(this)}if(!conditional||Handlebars.Utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});Handlebars.registerHelper("unless",function(conditional,options){return Handlebars.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn})});Handlebars.registerHelper("with",function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this)}if(!Handlebars.Utils.isEmpty(context))return options.fn(context)});Handlebars.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;Handlebars.log(level,context)});return Handlebars}},{}],37:[function(require,module,exports){exports.attach=function(Handlebars){Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){programWrapper=Handlebars.VM.program(i,fn,data)}else if(!programWrapper){programWrapper=this.programs[i]=Handlebars.VM.program(i,fn)}return programWrapper},merge:function(param,common){var ret=param||common;if(param&&common){ret={};Handlebars.Utils.extend(ret,common);Handlebars.Utils.extend(ret,param)}return ret},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var result=templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data);var compilerInfo=container.compilerInfo||[],compilerRevision=compilerInfo[0]||1,currentRevision=Handlebars.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=Handlebars.REVISION_CHANGES[currentRevision],compilerVersions=Handlebars.REVISION_CHANGES[compilerRevision];throw"Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+")."}}return result}},programWithDepth:function(i,fn,data){var args=Array.prototype.slice.call(arguments,3);var program=function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))};program.program=i;program.depth=args.length;return program},program:function(i,fn,data){var program=function(context,options){options=options||{};return fn(context,options.data||data)};program.program=i;program.depth=0;return program},noop:function(){return""},invokePartial:function(partial,name,context,helpers,partials,data){var options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}else{partials[name]=Handlebars.compile(partial,{data:data!==undefined});return partials[name](context,options)}}};Handlebars.template=Handlebars.VM.template;return Handlebars}},{}],38:[function(require,module,exports){exports.attach=function(Handlebars){var toString=Object.prototype.toString;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function(string){this.string=string};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;"};Handlebars.Utils={extend:function(obj,value){for(var key in value){if(value.hasOwnProperty(key)){obj[key]=value[key]}}},escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString()}else if(string==null||string===false){return""}string=string.toString();if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)},isEmpty:function(value){if(!value&&value!==0){return true}else if(toString.call(value)==="[object Array]"&&value.length===0){return true}else{return false}}};return Handlebars}},{}],39:[function(require,module,exports){var hbsBase=require("handlebars/lib/handlebars/base");var hbsUtils=require("handlebars/lib/handlebars/utils");var hbsRuntime=require("handlebars/lib/handlebars/runtime");var Handlebars=hbsBase.create();hbsUtils.attach(Handlebars);hbsRuntime.attach(Handlebars);module.exports=Handlebars},{"handlebars/lib/handlebars/base":36,"handlebars/lib/handlebars/runtime":37,"handlebars/lib/handlebars/utils":38}],40:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),forOwn=require("lodash.forown");function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);if(typeof length=="number"){while(++index<length){if(callback(collection[index],index,collection)===false){break}}}else{forOwn(collection,callback)}return collection}module.exports=forEach},{"lodash._basecreatecallback":41,"lodash.forown":64}],41:[function(require,module,exports){var bind=require("lodash.bind"),identity=require("lodash.identity"),setBindData=require("lodash._setbinddata"),support=require("lodash.support");var reFuncName=/^\s*function[ \n\r\t]+\w/;var reThis=/\bthis\b/;var fnToString=Function.prototype.toString;function baseCreateCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(typeof thisArg=="undefined"||!("prototype"in func)){return func}var bindData=func.__bindData__;if(typeof bindData=="undefined"){if(support.funcNames){bindData=!func.name}bindData=bindData||!support.funcDecomp;if(!bindData){var source=fnToString.call(func);if(!support.funcNames){bindData=!reFuncName.test(source)}if(!bindData){bindData=reThis.test(source);setBindData(func,bindData)}}}if(bindData===false||bindData!==true&&bindData[1]&1){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}module.exports=baseCreateCallback},{"lodash._setbinddata":42,"lodash.bind":45,"lodash.identity":61,"lodash.support":62}],42:[function(require,module,exports){var isNative=require("lodash._isnative"),noop=require("lodash.noop");var descriptor={configurable:false,enumerable:false,value:null,writable:false};var defineProperty=function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}();var setBindData=!defineProperty?noop:function(func,value){descriptor.value=value;defineProperty(func,"__bindData__",descriptor)};module.exports=setBindData},{"lodash._isnative":43,"lodash.noop":44}],43:[function(require,module,exports){var objectProto=Object.prototype;var toString=objectProto.toString;var reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");function isNative(value){return typeof value=="function"&&reNative.test(value)}module.exports=isNative},{}],44:[function(require,module,exports){function noop(){}module.exports=noop},{}],45:[function(require,module,exports){var createWrapper=require("lodash._createwrapper"),slice=require("lodash._slice");function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}module.exports=bind},{"lodash._createwrapper":46,"lodash._slice":60}],46:[function(require,module,exports){var baseBind=require("lodash._basebind"),baseCreateWrapper=require("lodash._basecreatewrapper"),isFunction=require("lodash.isfunction"),slice=require("lodash._slice");var arrayRef=[];var push=arrayRef.push,unshift=arrayRef.unshift;function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,isPartial=bitmask&16,isPartialRight=bitmask&32;if(!isBindKey&&!isFunction(func)){throw new TypeError}if(isPartial&&!partialArgs.length){bitmask&=~16;isPartial=partialArgs=false}if(isPartialRight&&!partialRightArgs.length){bitmask&=~32;isPartialRight=partialRightArgs=false}var bindData=func&&func.__bindData__;if(bindData&&bindData!==true){bindData=slice(bindData);if(bindData[2]){bindData[2]=slice(bindData[2])}if(bindData[3]){bindData[3]=slice(bindData[3])}if(isBind&&!(bindData[1]&1)){bindData[4]=thisArg}if(!isBind&&bindData[1]&1){bitmask|=8}if(isCurry&&!(bindData[1]&4)){bindData[5]=arity}if(isPartial){push.apply(bindData[2]||(bindData[2]=[]),partialArgs)}if(isPartialRight){unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs)}bindData[1]|=bitmask;return createWrapper.apply(null,bindData)}var creater=bitmask==1||bitmask===17?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}module.exports=createWrapper},{"lodash._basebind":47,"lodash._basecreatewrapper":53,"lodash._slice":60,"lodash.isfunction":59}],47:[function(require,module,exports){var baseCreate=require("lodash._basecreate"),isObject=require("lodash.isobject"),setBindData=require("lodash._setbinddata"),slice=require("lodash._slice");var arrayRef=[];var push=arrayRef.push;function baseBind(bindData){var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}return func.apply(thisArg,args||arguments)}setBindData(bound,bindData);return bound}module.exports=baseBind},{"lodash._basecreate":48,"lodash._setbinddata":42,"lodash._slice":60,"lodash.isobject":51}],48:[function(require,module,exports){var global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};var isNative=require("lodash._isnative"),isObject=require("lodash.isobject"),noop=require("lodash.noop");var nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate;function baseCreate(prototype,properties){return isObject(prototype)?nativeCreate(prototype):{}}if(!nativeCreate){baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||global.Object()}}()}module.exports=baseCreate},{"lodash._isnative":49,"lodash.isobject":51,"lodash.noop":50}],49:[function(require,module,exports){module.exports=require(43)},{}],50:[function(require,module,exports){module.exports=require(44)},{}],51:[function(require,module,exports){var objectTypes=require("lodash._objecttypes");function isObject(value){return!!(value&&objectTypes[typeof value])}module.exports=isObject},{"lodash._objecttypes":52}],52:[function(require,module,exports){var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};module.exports=objectTypes},{}],53:[function(require,module,exports){var baseCreate=require("lodash._basecreate"),isObject=require("lodash.isobject"),setBindData=require("lodash._setbinddata"),slice=require("lodash._slice");var arrayRef=[];var push=arrayRef.push;function baseCreateWrapper(bindData){var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5];var isBind=bitmask&1,isBindKey=bitmask&2,isCurry=bitmask&4,isCurryBound=bitmask&8,key=func;function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(partialRightArgs||isCurry){args||(args=slice(arguments));if(partialRightArgs){push.apply(args,partialRightArgs)}if(isCurry&&args.length<arity){bitmask|=16&~32;return baseCreateWrapper([func,isCurryBound?bitmask:bitmask&~3,args,null,thisArg,arity])}}args||(args=arguments);if(isBindKey){func=thisBinding[key]}if(this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}setBindData(bound,bindData);return bound}module.exports=baseCreateWrapper},{"lodash._basecreate":54,"lodash._setbinddata":42,"lodash._slice":60,"lodash.isobject":57}],54:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{"lodash._isnative":55,"lodash.isobject":57,"lodash.noop":56}],55:[function(require,module,exports){module.exports=require(43)},{}],56:[function(require,module,exports){module.exports=require(44)},{}],57:[function(require,module,exports){module.exports=require(51)},{"lodash._objecttypes":58}],58:[function(require,module,exports){module.exports=require(52)},{}],59:[function(require,module,exports){function isFunction(value){return typeof value=="function"}module.exports=isFunction},{}],60:[function(require,module,exports){function slice(array,start,end){start||(start=0);if(typeof end=="undefined"){end=array?array.length:0}var index=-1,length=end-start||0,result=Array(length<0?0:length);while(++index<length){result[index]=array[start+index]}return result}module.exports=slice},{}],61:[function(require,module,exports){function identity(value){return value}module.exports=identity},{}],62:[function(require,module,exports){var global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};var isNative=require("lodash._isnative");var reThis=/\bthis\b/;var support={};support.funcDecomp=!isNative(global.WinRTError)&&reThis.test(function(){return this});support.funcNames=typeof Function.name=="string";module.exports=support},{"lodash._isnative":63}],63:[function(require,module,exports){module.exports=require(43)},{}],64:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),keys=require("lodash.keys"),objectTypes=require("lodash._objecttypes");var forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];if(callback(iterable[index],index,collection)===false)return result}return result};module.exports=forOwn},{"lodash._basecreatecallback":41,"lodash._objecttypes":65,"lodash.keys":66}],65:[function(require,module,exports){module.exports=require(52)},{}],66:[function(require,module,exports){var isNative=require("lodash._isnative"),isObject=require("lodash.isobject"),shimKeys=require("lodash._shimkeys");var nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys;var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}return nativeKeys(object)};module.exports=keys},{"lodash._isnative":67,"lodash._shimkeys":68,"lodash.isobject":69}],67:[function(require,module,exports){module.exports=require(43)},{}],68:[function(require,module,exports){var objectTypes=require("lodash._objecttypes");var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}return result};module.exports=shimKeys},{"lodash._objecttypes":65}],69:[function(require,module,exports){module.exports=require(51)},{"lodash._objecttypes":65}],70:[function(require,module,exports){arguments[4][66][0].apply(exports,arguments)},{"lodash._isnative":71,"lodash._shimkeys":72,"lodash.isobject":74}],71:[function(require,module,exports){module.exports=require(43)},{}],72:[function(require,module,exports){module.exports=require(68)},{"lodash._objecttypes":73}],73:[function(require,module,exports){module.exports=require(52)},{}],74:[function(require,module,exports){module.exports=require(51)},{"lodash._objecttypes":75}],75:[function(require,module,exports){module.exports=require(52)},{}],76:[function(require,module,exports){(function(){var _DAYS_IN_MONTH=[0,31,28,31,30,31,30,31,31,30,31,30,31];var _DAYS_BEFORE_MONTH=[-1,0,31,59,90,120,151,181,212,243,273,304,334];try{var cldr=require("cldr")}catch(err){cldr=false}function _adjustWeekday(weekday){return weekday>0?weekday-1:6}function _extractLocaleDays(abbr,locale){short=typeof abbr==="undefined"?false:abbr;if(abbr){return cldr?cldr.extractDayNames(locale).format.abbreviated:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}else{return cldr?cldr.extractDayNames(locale).format.wide:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}}function _extractLocaleMonths(abbr,locale){short=typeof abbr==="undefined"?false:abbr;var months=[];if(abbr){months=cldr?cldr.extractMonthNames(locale).format.abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}else{months=cldr?cldr.extractMonthNames(locale).format.wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}months.unshift("");return months}function _toordinal(year,month,day){var days_before_year=(year-1)*365+Math.floor((year-1)/4)-Math.floor((year-1)/100)+Math.floor((year-1)/400);var days_before_month=_DAYS_BEFORE_MONTH[month]+(month>2&&isleap(year)?1:0);return days_before_year+days_before_month+day}function isleap(year){return year%4===0&&(year%100!==0||year%400===0)}function leapdays(y1,y2){y1--;y2--;return Math.floor(y2/4)-Math.floor(y1/4)-(Math.floor(y2/100)-Math.floor(y1/100))+(Math.floor(y2/400)-Math.floor(y1/400))}function monthrange(year,month){if(month<1||month>12){throw new IllegalMonthError}var day1=weekday(year,month,1);var ndays=_DAYS_IN_MONTH[month]+(month===2&&isleap(year));return[day1,ndays]}function setlocale(locale){locale=typeof locale==="undefined"?"en_US":locale;if(cldr&&cldr.localeIds.indexOf(locale.replace(/-/g,"_").toLowerCase())===-1||!cldr&&locale.replace(/-/g,"_").toLowerCase()!=="en_us"){throw new IllegalLocaleError}this.day_name=_extractLocaleDays(false,locale);this.day_abbr=_extractLocaleDays(true,locale);this.month_name=_extractLocaleMonths(false,locale);this.month_abbr=_extractLocaleMonths(true,locale)}function timegm(timegmt){var year=timegmt[0];var month=timegmt[1];var day=timegmt[2];var hour=timegmt[3];var minute=timegmt[4];var second=timegmt[5];if(month<1||month>12){throw new IllegalMonthError}if(day<1||day>_DAYS_IN_MONTH[month]+(month===2&&isleap(year))){throw new IllegalDayError}if(hour<0||hour>23||minute<0||minute>59||second<0||second>59){throw new IllegalTimeError}var days=_toordinal(year,month,1)-719163+day-1;var hours=days*24+hour;var minutes=hours*60+minute;var seconds=minutes*60+second;return seconds}function weekday(year,month,day){if(month<1||month>12){throw new IllegalMonthError}if(day<1||day>_DAYS_IN_MONTH[month]+(month===2&&isleap(year))){throw new IllegalDayError}var date=new Date(year,month-1,day);return _adjustWeekday(date.getDay())}function Calendar(firstweekday){this._firstweekday=typeof firstweekday==="undefined"?0:firstweekday;if(firstweekday<0||firstweekday>6){throw new IllegalWeekdayError}this._oneday=1e3*60*60*24;this._onehour=1e3*60*60}Calendar.prototype.getfirstweekday=function(){return this._firstweekday};Calendar.prototype.setfirstweekday=function(firstweekday){if(firstweekday<0||firstweekday>6){throw new IllegalWeekdayError}this._firstweekday=firstweekday};Calendar.prototype.iterweekdays=function(){var weekdays=[];for(var i=this._firstweekday;i<this._firstweekday+7;i++){weekdays.push(i%7)}return weekdays};Calendar.prototype.itermonthdates=function(year,month){if(month<1||month>12){throw new IllegalMonthError}var date=new Date(year,month-1,1);var day=_adjustWeekday(date.getDay());var days=day-this._firstweekday>=0?(day-this._firstweekday)%7:7+(day-this._firstweekday);date.setTime(date.getTime()-days*this._oneday);var dates=[];while(true){dates.push(new Date(date.getTime()));var currentDate=date.getDate();date.setTime(date.getTime()+this._oneday);while(date.getDate()===currentDate){date.setTime(date.getTime()+this._onehour)}if(date.getMonth()!==month-1&&_adjustWeekday(date.getDay())===this._firstweekday){break}}return dates};Calendar.prototype.itermonthdays=function(year,month){return this.itermonthdates(year,month).map(function(value){return value.getMonth()===month-1?value.getDate():0})};Calendar.prototype.itermonthdays2=function(year,month){return this.itermonthdates(year,month).map(function(value){return value.getMonth()===month-1?[value.getDate(),_adjustWeekday(value.getDay())]:[0,_adjustWeekday(value.getDay())]},this)};Calendar.prototype.monthdatescalendar=function(year,month){var days=[];dates=this.itermonthdates(year,month);for(var i=0;i<dates.length;i+=7){days.push(dates.slice(i,i+7))}return days};Calendar.prototype.monthdayscalendar=function(year,month){var days=[];dates=this.itermonthdays(year,month);for(var i=0;i<dates.length;i+=7){days.push(dates.slice(i,i+7))}return days};Calendar.prototype.monthdays2calendar=function(year,month){var days=[];dates=this.itermonthdays2(year,month);for(var i=0;i<dates.length;i+=7){days.push(dates.slice(i,i+7))}return days};Calendar.prototype.yeardatescalendar=function(year,width){width=typeof width==="undefined"?3:width;var months=[];for(var month=1;month<=12;month++){months.push(this.monthdatescalendar(year,month))}var rows=[];for(var i=0;i<months.length;i+=width){rows.push(months.slice(i,i+width))}return rows};Calendar.prototype.yeardayscalendar=function(year,width){width=typeof width==="undefined"?3:width;var months=[];for(var month=1;month<=12;month++){months.push(this.monthdayscalendar(year,month))}var rows=[];for(var i=0;i<months.length;i+=width){rows.push(months.slice(i,i+width))}return rows};Calendar.prototype.yeardays2calendar=function(year,width){width=typeof width==="undefined"?3:width;var months=[];for(var month=1;month<=12;month++){months.push(this.monthdays2calendar(year,month))}var rows=[];for(var i=0;i<months.length;i+=width){rows.push(months.slice(i,i+width))}return rows};function IllegalLocaleError(message){this.name="IllegalLocaleError";this.message=typeof message==="undefined"?"Invalid locale specified.":message}IllegalLocaleError.prototype=new Error;IllegalLocaleError.prototype.constructor=IllegalLocaleError;function IllegalDayError(message){this.name="IllegalDayError";this.message=typeof message==="undefined"?"Invalid day specified.":message}IllegalDayError.prototype=new Error;IllegalDayError.prototype.constructor=IllegalDayError;function IllegalMonthError(message){this.name="IllegalMonthError";this.message=typeof message==="undefined"?"Invalid month specified.":message}IllegalMonthError.prototype=new Error;IllegalMonthError.prototype.constructor=IllegalMonthError;function IllegalTimeError(message){this.name="IllegalTimeError";this.message=typeof message==="undefined"?"Invalid time element specified.":message}IllegalTimeError.prototype=new Error;IllegalTimeError.prototype.constructor=IllegalTimeError;function IllegalWeekdayError(message){this.name="IllegalWeekdayError";this.message=typeof message==="undefined"?"Invalid weekday specified.":message}IllegalWeekdayError.prototype=new Error;IllegalWeekdayError.prototype.constructor=IllegalWeekdayError;var calendar=function(){};calendar.isleap=isleap;calendar.leapdays=leapdays;calendar.monthrange=monthrange;calendar.weekday=weekday;calendar.setlocale=setlocale;calendar.timegm=timegm;calendar.Calendar=Calendar;calendar.IllegalLocaleError=IllegalLocaleError;calendar.IllegalDayError=IllegalDayError;calendar.IllegalMonthError=IllegalMonthError;calendar.IllegalTimeError=IllegalTimeError;calendar.IllegalWeekdayError=IllegalWeekdayError;calendar.MONDAY=0;calendar.TUESDAY=1;calendar.WEDNESDAY=2;calendar.THURSDAY=3;calendar.FRIDAY=4;calendar.SATURDAY=5;calendar.SUNDAY=6;calendar.JANUARY=1;calendar.FEBRUARY=2;calendar.MARCH=3;calendar.APRIL=4;calendar.MAY=5;calendar.JUNE=6;calendar.JULY=7;calendar.AUGUST=8;calendar.SEPTEMBER=9;calendar.OCTOBER=10;calendar.NOVEMBER=11;calendar.DECEMBER=12;calendar.setlocale();var _global=this;if(typeof module!="undefined"&&module.exports){module.exports=calendar}else{var _previousRoot=_global.calendar;calendar.noconflict=function(){_global.calendar=_previousRoot;return calendar};_global.calendar=calendar}}).call(this)},{cldr:12}],77:[function(require,module,exports){module.exports=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.7.1",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:w(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return F("transition")};for(var G in q)y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(window,window.document)},{}],78:[function(require,module,exports){arguments[4][45][0].apply(exports,arguments)},{"lodash._createwrapper":79,"lodash._slice":99}],79:[function(require,module,exports){arguments[4][46][0].apply(exports,arguments)},{"lodash._basebind":80,"lodash._basecreatewrapper":89,"lodash._slice":99,"lodash.isfunction":98}],80:[function(require,module,exports){arguments[4][47][0].apply(exports,arguments)},{"lodash._basecreate":81,"lodash._setbinddata":84,"lodash._slice":99,"lodash.isobject":87}],81:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{"lodash._isnative":82,"lodash.isobject":87,"lodash.noop":83}],82:[function(require,module,exports){module.exports=require(43)},{}],83:[function(require,module,exports){module.exports=require(44)},{}],84:[function(require,module,exports){module.exports=require(42)},{"lodash._isnative":85,"lodash.noop":86}],85:[function(require,module,exports){module.exports=require(43)},{}],86:[function(require,module,exports){module.exports=require(44)},{}],87:[function(require,module,exports){module.exports=require(51)},{"lodash._objecttypes":88}],88:[function(require,module,exports){module.exports=require(52)},{}],89:[function(require,module,exports){arguments[4][53][0].apply(exports,arguments)},{"lodash._basecreate":90,"lodash._setbinddata":93,"lodash._slice":99,"lodash.isobject":96}],90:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{"lodash._isnative":91,"lodash.isobject":96,"lodash.noop":92}],91:[function(require,module,exports){module.exports=require(43)},{}],92:[function(require,module,exports){module.exports=require(44)},{}],93:[function(require,module,exports){module.exports=require(42)},{"lodash._isnative":94,"lodash.noop":95}],94:[function(require,module,exports){module.exports=require(43)},{}],95:[function(require,module,exports){module.exports=require(44)},{}],96:[function(require,module,exports){module.exports=require(51)},{"lodash._objecttypes":97}],97:[function(require,module,exports){module.exports=require(52)},{}],98:[function(require,module,exports){module.exports=require(59)},{}],99:[function(require,module,exports){module.exports=require(60)},{}],100:[function(require,module,exports){var baseClone=require("lodash._baseclone"),baseCreateCallback=require("lodash._basecreatecallback");function clone(value,isDeep,callback,thisArg){if(typeof isDeep!="boolean"&&isDeep!=null){thisArg=callback;callback=isDeep;isDeep=false}return baseClone(value,isDeep,typeof callback=="function"&&baseCreateCallback(callback,thisArg,1))}module.exports=clone
},{"lodash._baseclone":101,"lodash._basecreatecallback":116}],101:[function(require,module,exports){var assign=require("lodash.assign"),forEach=require("lodash.foreach"),forOwn=require("lodash.forown"),getArray=require("lodash._getarray"),isArray=require("lodash.isarray"),isObject=require("lodash.isobject"),releaseArray=require("lodash._releasearray"),slice=require("lodash._slice");var reFlags=/\w*$/;var argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]";var cloneableClasses={};cloneableClasses[funcClass]=false;cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=true;var objectProto=Object.prototype;var toString=objectProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var ctorByClass={};ctorByClass[arrayClass]=Array;ctorByClass[boolClass]=Boolean;ctorByClass[dateClass]=Date;ctorByClass[funcClass]=Function;ctorByClass[objectClass]=Object;ctorByClass[numberClass]=Number;ctorByClass[regexpClass]=RegExp;ctorByClass[stringClass]=String;function baseClone(value,isDeep,callback,stackA,stackB){if(callback){var result=callback(value);if(typeof result!="undefined"){return result}}var isObj=isObject(value);if(isObj){var className=toString.call(value);if(!cloneableClasses[className]){return value}var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+value);case numberClass:case stringClass:return new ctor(value);case regexpClass:result=ctor(value.source,reFlags.exec(value));result.lastIndex=value.lastIndex;return result}}else{return value}var isArr=isArray(value);if(isDeep){var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}result=isArr?ctor(value.length):{}}else{result=isArr?slice(value):assign({},value)}if(isArr){if(hasOwnProperty.call(value,"index")){result.index=value.index}if(hasOwnProperty.call(value,"input")){result.input=value.input}}if(!isDeep){return result}stackA.push(value);stackB.push(result);(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,isDeep,callback,stackA,stackB)});if(initedStack){releaseArray(stackA);releaseArray(stackB)}return result}module.exports=baseClone},{"lodash._getarray":102,"lodash._releasearray":104,"lodash._slice":107,"lodash.assign":108,"lodash.foreach":40,"lodash.forown":110,"lodash.isarray":112,"lodash.isobject":114}],102:[function(require,module,exports){var arrayPool=require("lodash._arraypool");function getArray(){return arrayPool.pop()||[]}module.exports=getArray},{"lodash._arraypool":103}],103:[function(require,module,exports){var arrayPool=[];module.exports=arrayPool},{}],104:[function(require,module,exports){var arrayPool=require("lodash._arraypool"),maxPoolSize=require("lodash._maxpoolsize");function releaseArray(array){array.length=0;if(arrayPool.length<maxPoolSize){arrayPool.push(array)}}module.exports=releaseArray},{"lodash._arraypool":105,"lodash._maxpoolsize":106}],105:[function(require,module,exports){module.exports=require(103)},{}],106:[function(require,module,exports){var maxPoolSize=40;module.exports=maxPoolSize},{}],107:[function(require,module,exports){module.exports=require(60)},{}],108:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),keys=require("lodash.keys"),objectTypes=require("lodash._objecttypes");var assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=="number"?2:args.length;if(argsLength>3&&typeof args[argsLength-2]=="function"){var callback=baseCreateCallback(args[--argsLength-1],args[argsLength--],2)}else if(argsLength>2&&typeof args[argsLength-1]=="function"){callback=args[--argsLength]}while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;while(++ownIndex<length){index=ownProps[ownIndex];result[index]=callback?callback(result[index],iterable[index]):iterable[index]}}}return result};module.exports=assign},{"lodash._basecreatecallback":116,"lodash._objecttypes":109,"lodash.keys":70}],109:[function(require,module,exports){module.exports=require(52)},{}],110:[function(require,module,exports){arguments[4][64][0].apply(exports,arguments)},{"lodash._basecreatecallback":116,"lodash._objecttypes":111,"lodash.keys":70}],111:[function(require,module,exports){module.exports=require(52)},{}],112:[function(require,module,exports){var isNative=require("lodash._isnative");var arrayClass="[object Array]";var objectProto=Object.prototype;var toString=objectProto.toString;var nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray;var isArray=nativeIsArray||function(value){return value&&typeof value=="object"&&typeof value.length=="number"&&toString.call(value)==arrayClass||false};module.exports=isArray},{"lodash._isnative":113}],113:[function(require,module,exports){module.exports=require(43)},{}],114:[function(require,module,exports){module.exports=require(51)},{"lodash._objecttypes":115}],115:[function(require,module,exports){module.exports=require(52)},{}],116:[function(require,module,exports){arguments[4][41][0].apply(exports,arguments)},{"lodash._setbinddata":117,"lodash.bind":78,"lodash.identity":120,"lodash.support":121}],117:[function(require,module,exports){module.exports=require(42)},{"lodash._isnative":118,"lodash.noop":119}],118:[function(require,module,exports){module.exports=require(43)},{}],119:[function(require,module,exports){module.exports=require(44)},{}],120:[function(require,module,exports){module.exports=require(61)},{}],121:[function(require,module,exports){module.exports=require(62)},{"lodash._isnative":122}],122:[function(require,module,exports){module.exports=require(43)},{}],123:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),baseIsEqual=require("lodash._baseisequal");function isEqual(a,b,callback,thisArg){return baseIsEqual(a,b,typeof callback=="function"&&baseCreateCallback(callback,thisArg,2))}module.exports=isEqual},{"lodash._basecreatecallback":124,"lodash._baseisequal":131}],124:[function(require,module,exports){arguments[4][41][0].apply(exports,arguments)},{"lodash._setbinddata":125,"lodash.bind":78,"lodash.identity":128,"lodash.support":129}],125:[function(require,module,exports){module.exports=require(42)},{"lodash._isnative":126,"lodash.noop":127}],126:[function(require,module,exports){module.exports=require(43)},{}],127:[function(require,module,exports){module.exports=require(44)},{}],128:[function(require,module,exports){module.exports=require(61)},{}],129:[function(require,module,exports){module.exports=require(62)},{"lodash._isnative":130}],130:[function(require,module,exports){module.exports=require(43)},{}],131:[function(require,module,exports){var forIn=require("lodash.forin"),getArray=require("lodash._getarray"),isFunction=require("lodash.isfunction"),objectTypes=require("lodash._objecttypes"),releaseArray=require("lodash._releasearray");var argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]";var objectProto=Object.prototype;var toString=objectProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if(typeof result!="undefined"){return!!result}}if(a===b){return a!==0||1/a==1/b}var type=typeof a,otherType=typeof b;if(a===a&&!(a&&objectTypes[type])&&!(b&&objectTypes[otherType])){return false}if(a==null||b==null){return a===b}var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass){className=objectClass}if(otherClass==argsClass){otherClass=objectClass}if(className!=otherClass){return false}switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){var aWrapped=hasOwnProperty.call(a,"__wrapped__"),bWrapped=hasOwnProperty.call(b,"__wrapped__");if(aWrapped||bWrapped){return baseIsEqual(aWrapped?a.__wrapped__:a,bWrapped?b.__wrapped__:b,callback,isWhere,stackA,stackB)}if(className!=objectClass){return false}var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)&&("constructor"in a&&"constructor"in b)){return false}}var initedStack=!stackA;stackA||(stackA=getArray());stackB||(stackB=getArray());var length=stackA.length;while(length--){if(stackA[length]==a){return stackB[length]==b}}var size=0;result=true;stackA.push(a);stackB.push(b);if(isArr){length=a.length;size=b.length;result=size==length;if(result||isWhere){while(size--){var index=length,value=b[size];if(isWhere){while(index--){if(result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB)){break}}}else if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB))){break}}}}else{forIn(b,function(value,key,b){if(hasOwnProperty.call(b,key)){size++;return result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB)}});if(result&&!isWhere){forIn(a,function(value,key,a){if(hasOwnProperty.call(a,key)){return result=--size>-1}})}}stackA.pop();stackB.pop();if(initedStack){releaseArray(stackA);releaseArray(stackB)}return result}module.exports=baseIsEqual},{"lodash._getarray":132,"lodash._objecttypes":134,"lodash._releasearray":135,"lodash.forin":138,"lodash.isfunction":139}],132:[function(require,module,exports){module.exports=require(102)},{"lodash._arraypool":133}],133:[function(require,module,exports){module.exports=require(103)},{}],134:[function(require,module,exports){module.exports=require(52)},{}],135:[function(require,module,exports){module.exports=require(104)},{"lodash._arraypool":136,"lodash._maxpoolsize":137}],136:[function(require,module,exports){module.exports=require(103)},{}],137:[function(require,module,exports){module.exports=require(106)},{}],138:[function(require,module,exports){var baseCreateCallback=require("lodash._basecreatecallback"),objectTypes=require("lodash._objecttypes");var forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:baseCreateCallback(callback,thisArg,3);for(index in iterable){if(callback(iterable[index],index,collection)===false)return result}return result};module.exports=forIn},{"lodash._basecreatecallback":124,"lodash._objecttypes":134}],139:[function(require,module,exports){module.exports=require(59)},{}],140:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1,stack2;buffer+='\n  <select class="js-select picker-select-'+escapeExpression((stack1=(stack1=data,stack1==null||stack1===false?stack1:stack1.key),typeof stack1===functionType?stack1.apply(depth0):stack1))+'">\n  ';stack2=helpers.each.call(depth0,depth0.values,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack2||stack2===0){buffer+=stack2}buffer+="\n  </select>\n";return buffer}function program2(depth0,data){var buffer="",stack1;buffer+='\n    <option value="'+escapeExpression((stack1=(stack1=data,stack1==null||stack1===false?stack1:stack1.key),typeof stack1===functionType?stack1.apply(depth0):stack1))+'">'+escapeExpression((stack1=(stack1=data,stack1==null||stack1===false?stack1:stack1.key),typeof stack1===functionType?stack1.apply(depth0):stack1))+"</option>\n  ";return buffer}function program4(depth0,data){return'\n<div class="rp-select-blocker">\n</div>\n'}function program6(depth0,data){var buffer="",stack1;buffer+='\n<div class="rp-wrapper';stack1=helpers["if"].call(depth0,depth0.slotMachineOpen,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0){buffer+=stack1}buffer+='">\n  <div class="rp-slots-wrapper">\n    <div class="rp-slots">\n    ';stack1=helpers.each.call(depth0,depth0.slots,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0){buffer+=stack1}buffer+='\n    </div>\n  </div>\n  <div class="rp-frame needsclick"></div>\n  </div>\n</div>\n';return buffer}function program7(depth0,data){return" rp-wrapper-open"}function program9(depth0,data){var buffer="",stack1,stack2;buffer+='\n      <div class="rp-';if(stack1=helpers.style){stack1=stack1.call(depth0,{hash:{},data:data})}else{stack1=depth0.style;stack1=typeof stack1===functionType?stack1.apply(depth0):stack1}buffer+=escapeExpression(stack1)+'">\n        <ul class="picker-slot-'+escapeExpression((stack1=(stack1=data,stack1==null||stack1===false?stack1:stack1.key),typeof stack1===functionType?stack1.apply(depth0):stack1))+'">\n          ';stack2=helpers.each.call(depth0,depth0.values,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack2||stack2===0){buffer+=stack2}buffer+="\n        </ul>\n      </div>\n    ";return buffer}function program10(depth0,data){var buffer="",stack1;buffer+="\n            <li>"+escapeExpression((stack1=(stack1=data,stack1==null||stack1===false?stack1:stack1.key),typeof stack1===functionType?stack1.apply(depth0):stack1))+"</li>\n          ";return buffer}buffer+='<div class="rp-select-wrap">\n<form>\n';stack1=helpers.each.call(depth0,depth0.slots,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0){buffer+=stack1}buffer+="\n"+"\n";stack1=helpers["if"].call(depth0,depth0.slotMachineCapable,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0){buffer+=stack1}buffer+="\n</form>\n</div>\n\n";stack1=helpers["if"].call(depth0,depth0.slotMachineCapable,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0){buffer+=stack1}buffer+="\n";return buffer})},{"hbsfy/runtime":39}],141:[function(require,module,exports){var Ribcage=require("ribcage-view"),each=require("lodash.foreach"),bind=require("lodash.bind"),isEqual=require("lodash.isequal"),clone=require("lodash.clone"),keys=require("lodash.keys"),modernizr=require("./modernizr"),Picker;Picker=Ribcage.extend({cellHeight:44,friction:.003,currentSelection:{},defaultsApplied:false,slotMachineCapable:modernizr.csstransitions&&modernizr.csstransforms&&modernizr.csstransforms3d&&modernizr.touch,slotMachineOpen:false,events:{"change .js-select":"onSelectChange","touchend .rp-select-blocker":"toggleSlotMachine"},afterInit:function(opts){var self=this,i=0;this.slots=clone(opts.slots,true);if(opts.onChange)this.onChange=bind(opts.onChange,this);if(!this.slotMachineCapable)return this;this.offsetParent=opts.offsetParent;each(this.slots,function(slot,key){slot.returnToValidRange=bind(self.returnToValidRange,self,slot,key);slot.onSlotStopsSpinning=bind(self.onSlotStopsSpinning,self,slot,key);slot.index=i;slot.currentOffset=0;slot.width=0;slot.style=slot.style==null?"right":slot.style;slot.defaultKey=slot.defaultKey==null?keys(slot.values)[0]:slot.defaultKey;self.currentSelection[key]={key:slot.defaultKey,value:slot.values[slot.defaultKey]};++i});this.onTouchStart=bind(this.onTouchStart,this);this.scrollStart=bind(this.scrollStart,this);this.scrollMove=bind(this.scrollMove,this);this.scrollEnd=bind(this.scrollEnd,this);this.returnToValidRange=bind(this.returnToValidRange,this);window.addEventListener("orientationchange",this.calculateSlotWidths,true);window.addEventListener("resize",this.calculateSlotWidths,true)},toggleSlotMachine:function(){if(this.slotMachineOpen){this.$(".rp-wrapper").removeClass("rp-wrapper-open")}else{this.$(".rp-wrapper").addClass("rp-wrapper-open")}this.slotMachineOpen=!this.slotMachineOpen},beforeClose:function(){if(!this.slotMachineCapable)return this;window.removeEventListener("orientationchange",this.calculateSlotWidths,true);window.removeEventListener("resize",this.calculateSlotWidths,true);this.$(".rp-frame")[0].removeEventListener("touchstart",this.onTouchStart,false)},setSlot:function(slotKey,opts){var self=this;if(!this.slots[slotKey])throw new Error("setSlot can only be used to update a slot that already exists");this.getValues();this.slots[slotKey].values=clone(opts.values,true);this.slots[slotKey].style=opts.style==null?this.slots[slotKey].style:opts.style;this.render();each(this.slots,function(slot,slotKey){if(slot.values[self.currentSelection[slotKey].key]!=null){self.setSlotKey(slotKey,self.currentSelection[slotKey].key)}else{self.scrollToSlotOffset(slotKey,slot.currentOffset)}})},template:require("./picker.hbs"),onTouchStart:function(e){var target=event.target||event.srcElement;if(target.className.indexOf("rp-frame")>=0){e.preventDefault();e.stopPropagation();this.scrollStart(e)}},calculateSlotWidths:function(){var div=this.$(".rp-slots").children("div"),i=0;each(this.slots,function(slot){slot.width=div[i].offsetWidth;i++})},calculateMaxOffsets:function(){var wrapHeight=this.$(".rp-slots-wrapper").height();each(this.slots,function(slot){slot.maxOffset=wrapHeight-slot.el.clientHeight-86})},context:function(){return{slots:this.slots,slotMachineCapable:this.slotMachineCapable,slotMachineOpen:this.slotMachineOpen}},afterRender:function(){var self=this,swWrapper=this.$(".rp-wrapper"),isReady=swWrapper.height()>0;if(!this.slotMachineCapable){each(this.slots,function(slot,k){if(!this.defaultsApplied&&slot.defaultKey!=null){self.setSlotKey(k,slot.defaultKey)}else if(self.currentSelection[k]){self.setSlotKey(k,self.currentSelection[k].key)}});this.defaultsApplied=true;return this}this.activeSlot=null;for(var k in this.slots){var $ul=this.$("ul.picker-slot-"+k),ul=$ul[0];this.slots[k].$el=$ul;this.slots[k].el=ul;ul.addEventListener("webkitTransitionEnd",this.slots[k].onSlotStopsSpinning,false)}this.calculateSlotWidths();this.calculateMaxOffsets();if(isReady){each(this.slots,function(slot,k){slot.el.removeEventListener("webkitTransitionEnd",slot.returnToValidRange,false);slot.el.style.webkitTransitionDuration="0";self.setSlotOffset(k,slot.currentOffset);slot.el.style.webkitTransitionTimingFunction="cubic-bezier(0, 0, 0.2, 1)"})}if(!this.defaultsApplied){this.defaultsApplied=true;each(this.slots,function(slot,k){if(slot.defaultKey!=null){self.setSlotKey(k,slot.defaultKey)}slot.el.style.webkitTransitionTimingFunction="cubic-bezier(0, 0, 0.2, 1)"})}else{each(this.slots,function(slot,k){if(self.currentSelection[k]){self.setSlotKey(k,self.currentSelection[k].key)}slot.el.style.webkitTransitionTimingFunction="cubic-bezier(0, 0, 0.2, 1)"})}this.$(".rp-frame")[0].addEventListener("touchstart",this.onTouchStart,false)},scrollStart:function(e){var swFrame=this.$(".rp-frame")[0],xPos,slot;xPos=e.targetTouches[0].clientX-this.$(".rp-slots").offset().left;slot=0;for(var k in this.slots){slot+=this.slots[k].width;if(xPos<slot){this.activeSlot=k;break}}var slotObj=this.slots[this.activeSlot];slotObj.el.removeEventListener("webkitTransitionEnd",slotObj.returnToValidRange,false);slotObj.el.style.webkitTransitionDuration="0";var theTransform=window.getComputedStyle(this.slots[this.activeSlot].el).webkitTransform;theTransform=new WebKitCSSMatrix(theTransform).m42;if(theTransform!=this.slots[this.activeSlot].currentOffset){this.setSlotOffset(this.activeSlot,theTransform)}this.startY=e.targetTouches[0].clientY;this.scrollStartY=this.slots[this.activeSlot].currentOffset;this.scrollStartTime=e.timeStamp;swFrame.addEventListener("touchmove",this.scrollMove,false);swFrame.addEventListener("touchend",this.scrollEnd,false);return true},scrollMove:function(e){var topDelta=e.targetTouches[0].clientY-this.startY;if(this.slots[this.activeSlot].currentOffset>0||this.slots[this.activeSlot].currentOffset<this.slots[this.activeSlot].maxOffset){topDelta/=2}this.setSlotOffset(this.activeSlot,this.slots[this.activeSlot].currentOffset+topDelta);this.startY=e.targetTouches[0].clientY;if(e.timeStamp-this.scrollStartTime>80){this.scrollStartY=this.slots[this.activeSlot].currentOffset;this.scrollStartTime=e.timeStamp}},scrollEnd:function(e){var swSlotWrapper=this.$(".rp-wrapper"),swFrame=this.$(".rp-frame")[0],scrollDuration=e.timeStamp-this.scrollStartTime,newDuration,newScrollDistance,newPosition;swFrame.removeEventListener("touchmove",this.scrollMove);swFrame.removeEventListener("touchend",this.scrollEnd);if(this.slots[this.activeSlot].currentOffset>0||this.slots[this.activeSlot].currentOffset<this.slots[this.activeSlot].maxOffset){this.scrollToSlotOffset(this.activeSlot,this.slots[this.activeSlot].currentOffset>0?0:this.slots[this.activeSlot].maxOffset);return false}var scrollDistance=this.slots[this.activeSlot].currentOffset-this.scrollStartY;if(scrollDistance<this.cellHeight/1.5&&scrollDistance>-this.cellHeight/1.5){if(this.slots[this.activeSlot].currentOffset%this.cellHeight){this.scrollToSlotOffset(this.activeSlot,Math.round(this.slots[this.activeSlot].currentOffset/this.cellHeight)*this.cellHeight,"100ms")}return false}newDuration=2*scrollDistance/scrollDuration/this.friction;newScrollDistance=this.friction/2*(newDuration*newDuration);if(newDuration<0){newDuration=-newDuration;newScrollDistance=-newScrollDistance}newPosition=this.slots[this.activeSlot].currentOffset+newScrollDistance;if(newPosition>0){newPosition/=2;newDuration/=3;if(newPosition>swSlotWrapper.height()/4){newPosition=swSlotWrapper.height()/4}}else if(newPosition<this.slots[this.activeSlot].maxOffset){newPosition=(newPosition-this.slots[this.activeSlot].maxOffset)/2+this.slots[this.activeSlot].maxOffset;newDuration/=3;if(newPosition<this.slots[this.activeSlot].maxOffset-swSlotWrapper.height()/4){newPosition=this.slots[this.activeSlot].maxOffset-swSlotWrapper.height()/4}}else{newPosition=Math.round(newPosition/this.cellHeight)*this.cellHeight}this.scrollToSlotOffset(this.activeSlot,Math.round(newPosition),Math.round(newDuration)+"ms");return true},scrollToSlotOffset:function(slotKey,dest,runtime){if(!this.slotMachineCapable){var valKeys=keys(this.slots[slotKey].values);if(dest>=valKeys.length)dest=valKeys.length-1;if(dest<0)dest=0;this.setSlotKey(slotKey,valKeys[dest]);return this}this.slots[slotKey].el.style.webkitTransitionDuration=runtime?runtime:"100ms";this.setSlotOffset(slotKey,dest?dest:0);if(this.slots[slotKey].currentOffset>0||this.slots[slotKey].currentOffset<this.slots[slotKey].maxOffset){this.slots[slotKey].el.addEventListener("webkitTransitionEnd",this.slots[slotKey].returnToValidRange,false)}},setSlotOffset:function(slot,pos){this.slots[slot].currentOffset=pos;this.slots[slot].el.style.webkitTransform="translate3d(0, "+pos+"px, 0)"},setSlotKey:function(slotKey,valueKey){var yPos,count,i;this.$(".picker-select-"+slotKey).val(valueKey);this.currentSelection[slotKey]={key:valueKey,value:this.slots[slotKey].values[valueKey]};if(!this.slotMachineCapable)return this;this.slots[slotKey].el.removeEventListener("webkitTransitionEnd",this.slots[slotKey].returnToValidRange,false);this.slots[slotKey].el.style.webkitTransitionDuration="0";count=0;for(i in this.slots[slotKey].values){if(i==valueKey){yPos=count*this.cellHeight;this.setSlotOffset(slotKey,yPos);break}count-=1}},returnToValidRange:function(slot,key){if(slot){slot.el.removeEventListener("webkitTransitionEnd",slot.returnToValidRange,false)}this.scrollToSlotOffset(key,slot.currentOffset>0?0:slot.maxOffset,"150ms");return false},onSlotStopsSpinning:function(){var self=this,newSelection=this.getValues(),different=false;each(newSelection,function(slot,slotKey){if(!isEqual(newSelection[slotKey],self.currentSelection[slotKey])){self.setSlotKey(slotKey,newSelection[slotKey].key);self.onChange(newSelection,slotKey,slot);different=true;return}});if(different){this.onChange(newSelection)}this.currentSelection=newSelection},onSelectChange:function(e){var elem=this.$(e.target),key=elem.attr("class").split("-").pop(),slot=this.slots[key];this.getValues();this.trigger("change:"+key,clone(this.currentSelection[key],true),slot,key);this.trigger("change",clone(this.currentSelection,true))},onChange:function(newSelection,slotKey,slot){if(slotKey&&slot){this.trigger("change:"+slotKey,newSelection[slotKey],slot,slotKey)}else{this.trigger("change",clone(this.currentSelection,true))}},getValues:function(){var self=this,count,index,i,response={};if(!this.slotMachineCapable){each(this.slots,function(slot,key){i=self.$(".picker-select-"+key).val();response[key]={key:i,value:slot.values[i]};slot.currentOffset=keys(slot.values).indexOf(i)});this.currentSelection=response;return clone(response,true)}if(this.$el.width()<=0){return clone(this.currentSelection,true)}this.calculateSlotWidths();each(this.slots,function(slot,key){slot.el.removeEventListener("webkitTransitionEnd",slot.returnToValidRange,false);slot.el.style.webkitTransitionDuration="0";if(slot.currentOffset>0){self.setSlotOffset(key,0)}else if(slot.currentOffset<slot.maxOffset){self.setSlotOffset(key,slot.maxOffset)}index=-Math.round(slot.currentOffset/self.cellHeight);count=0;for(var i in slot.values){if(count==index){response[key]={key:i,value:slot.values[i]};break}count+=1}});return response}});module.exports=Picker},{"./modernizr":77,"./picker.hbs":140,"lodash.bind":78,"lodash.clone":100,"lodash.foreach":40,"lodash.isequal":123,"lodash.keys":70,"ribcage-view":143}],142:[function(require,module,exports){var _=require("lodash"),Ribcage,extendView;Ribcage={initialize:function(opts){var tn=this.templateName;if(typeof this.loadData=="function"){this._dataLoaded=false}else{this._dataLoaded=true}if(this.beforeInit){this.beforeInit(opts)}this.template=this.template||opts.template;if(opts.throttle!=null)this.throttle=opts.throttle;this._transitioning=false;this._dirty=true;if(!this.template){this.template=function(){return""}}if(this.afterInit){this.afterInit(opts)}this.render()},throttle:false,_bindThrottles:function(){this._unbindThrottles();this.on("transition:start",this._transitionStart);this.on("transition:end",this._transitionEnd)},_unbindThrottles:function(){this.off("transition:start",this._transitionStart);this.off("transition:end",this._transitionEnd)},_transitionStart:function(){this._transitioning=true},_transitionEnd:function(){this._transitioning=false;if(this._dirty){this.render()}},context:function(){return _.extend({},this.options,this.model)},close:function(){if(this.beforeClose){this.beforeClose()}this.closeSubviews();this.off();this.remove()},render:function(){var self=this,model=this.model;if(!this._dataLoaded){return this.loadData(function(){self._dataLoaded=true;self.render()})}if(this._transitioning){this._dirty=true;return false}this._dirty=false;if(this.beforeRender){this.beforeRender()}this.closeSubviews();this.$el.empty();if(this.beforeTemplating){model=this.beforeTemplating()}if(this.context){model=this.context()}this.$el.html(this.template(model));_.defer(function(){self.trigger("afterRender")});if(this.afterRender){this.afterRender()}if(this.throttle){this._bindThrottles()}return this},proxy:function(name,view){var self=this;view.on(name,function(){var args=Array.prototype.slice.call(arguments,0);args.splice(0,0,name);self.trigger.apply(self,args)})},eachSubview:function(iterator){_.each(this.subviews,iterator)},appendSubview:function(view,el){el||(el=this.$el);this.subviews=this.subviews||{};this.subviews[view.cid]=view;el.append(view.el);_.defer(function(){view.trigger("afterAppend")});if(view.afterAppend){view.afterAppend()}},closeSubviews:function(){this.eachSubview(function(subview){subview.close()});this.subviews={}},detachSubview:function(view){if(this.subviews){delete this.subviews[view.cid]}view.$el.detach()}};extendView=function(view){return view.extend(Ribcage)};module.exports=extendView},{lodash:147}],143:[function(require,module,exports){var Backbone=require("backbone"),$=require("jquery-browserify"),extend=require("./extend"),Base;Backbone.$=$;Base=extend(Backbone.View);module.exports=Base},{"./extend":142,backbone:144,"jquery-browserify":146}],144:[function(require,module,exports){(function(){var root=this;var previousBackbone=root.Backbone;var array=[];var push=array.push;var slice=array.slice;var splice=array.splice;var Backbone;if(typeof exports!=="undefined"){Backbone=exports}else{Backbone=root.Backbone={}}Backbone.VERSION="1.0.0";var _=root._;if(!_&&typeof require!=="undefined")_=require("underscore");Backbone.$=root.jQuery||root.Zepto||root.ender||root.$;Backbone.noConflict=function(){root.Backbone=previousBackbone;return this};Backbone.emulateHTTP=false;Backbone.emulateJSON=false;var Events=Backbone.Events={on:function(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this._events[name]=[]);events.push({callback:callback,context:context,ctx:context||this});return this},once:function(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this;var once=_.once(function(){self.off(name,once);callback.apply(this,arguments)});once._callback=callback;return this.on(name,once,context)},off:function(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context){this._events={};return this}names=name?[name]:_.keys(this._events);for(i=0,l=names.length;i<l;i++){name=names[i];if(events=this._events[name]){this._events[name]=retain=[];if(callback||context){for(j=0,k=events.length;j<k;j++){ev=events[j];if(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context){retain.push(ev)}}}if(!retain.length)delete this._events[name]}}return this},trigger:function(name){if(!this._events)return this;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name];var allEvents=this._events.all;if(events)triggerEvents(events,args);if(allEvents)triggerEvents(allEvents,arguments);return this},stopListening:function(obj,name,callback){var listeners=this._listeners;if(!listeners)return this;var deleteListener=!name&&!callback;if(typeof name==="object")callback=this;if(obj)(listeners={})[obj._listenerId]=obj;for(var id in listeners){listeners[id].off(name,callback,this);if(deleteListener)delete this._listeners[id]}return this}};var eventSplitter=/\s+/;var eventsApi=function(obj,action,name,rest){if(!name)return true;if(typeof name==="object"){for(var key in name){obj[action].apply(obj,[key,name[key]].concat(rest))}return false}if(eventSplitter.test(name)){var names=name.split(eventSplitter);for(var i=0,l=names.length;i<l;i++){obj[action].apply(obj,[names[i]].concat(rest))}return false}return true};var triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:while(++i<l)(ev=events[i]).callback.call(ev.ctx);return;case 1:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:while(++i<l)(ev=events[i]).callback.apply(ev.ctx,args)
}};var listenMethods={listenTo:"on",listenToOnce:"once"};_.each(listenMethods,function(implementation,method){Events[method]=function(obj,name,callback){var listeners=this._listeners||(this._listeners={});var id=obj._listenerId||(obj._listenerId=_.uniqueId("l"));listeners[id]=obj;if(typeof name==="object")callback=this;obj[implementation](name,callback,this);return this}});Events.bind=Events.on;Events.unbind=Events.off;_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var defaults;var attrs=attributes||{};options||(options={});this.cid=_.uniqueId("c");this.attributes={};_.extend(this,_.pick(options,modelOptions));if(options.parse)attrs=this.parse(attrs,options)||{};if(defaults=_.result(this,"defaults")){attrs=_.defaults({},attrs,defaults)}this.set(attrs,options);this.changed={};this.initialize.apply(this,arguments)};var modelOptions=["url","urlRoot","collection"];_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return this.get(attr)!=null},set:function(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(key==null)return this;if(typeof key==="object"){attrs=key;options=val}else{(attrs={})[key]=val}options||(options={});if(!this._validate(attrs,options))return false;unset=options.unset;silent=options.silent;changes=[];changing=this._changing;this._changing=true;if(!changing){this._previousAttributes=_.clone(this.attributes);this.changed={}}current=this.attributes,prev=this._previousAttributes;if(this.idAttribute in attrs)this.id=attrs[this.idAttribute];for(attr in attrs){val=attrs[attr];if(!_.isEqual(current[attr],val))changes.push(attr);if(!_.isEqual(prev[attr],val)){this.changed[attr]=val}else{delete this.changed[attr]}unset?delete current[attr]:current[attr]=val}if(!silent){if(changes.length)this._pending=true;for(var i=0,l=changes.length;i<l;i++){this.trigger("change:"+changes[i],this,current[changes[i]],options)}}if(changing)return this;if(!silent){while(this._pending){this._pending=false;this.trigger("change",this,options)}}this._pending=false;this._changing=false;return this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:true}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:true}))},hasChanged:function(attr){if(attr==null)return!_.isEmpty(this.changed);return _.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):false;var val,changed=false;var old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff){if(_.isEqual(old[attr],val=diff[attr]))continue;(changed||(changed={}))[attr]=val}return changed},previous:function(attr){if(attr==null||!this._previousAttributes)return null;return this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=options?_.clone(options):{};if(options.parse===void 0)options.parse=true;var model=this;var success=options.success;options.success=function(resp){if(!model.set(model.parse(resp,options),options))return false;if(success)success(model,resp,options);model.trigger("sync",model,resp,options)};wrapError(this,options);return this.sync("read",this,options)},save:function(key,val,options){var attrs,method,xhr,attributes=this.attributes;if(key==null||typeof key==="object"){attrs=key;options=val}else{(attrs={})[key]=val}if(attrs&&(!options||!options.wait)&&!this.set(attrs,options))return false;options=_.extend({validate:true},options);if(!this._validate(attrs,options))return false;if(attrs&&options.wait){this.attributes=_.extend({},attributes,attrs)}if(options.parse===void 0)options.parse=true;var model=this;var success=options.success;options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);if(options.wait)serverAttrs=_.extend(attrs||{},serverAttrs);if(_.isObject(serverAttrs)&&!model.set(serverAttrs,options)){return false}if(success)success(model,resp,options);model.trigger("sync",model,resp,options)};wrapError(this,options);method=this.isNew()?"create":options.patch?"patch":"update";if(method==="patch")options.attrs=attrs;xhr=this.sync(method,this,options);if(attrs&&options.wait)this.attributes=attributes;return xhr},destroy:function(options){options=options?_.clone(options):{};var model=this;var success=options.success;var destroy=function(){model.trigger("destroy",model,model.collection,options)};options.success=function(resp){if(options.wait||model.isNew())destroy();if(success)success(model,resp,options);if(!model.isNew())model.trigger("sync",model,resp,options)};if(this.isNew()){options.success();return false}wrapError(this,options);var xhr=this.sync("delete",this,options);if(!options.wait)destroy();return xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();if(this.isNew())return base;return base+(base.charAt(base.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(options){return this._validate({},_.extend(options||{},{validate:true}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return true;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;if(!error)return true;this.trigger("invalid",this,error,_.extend(options||{},{validationError:error}));return false}});var modelMethods=["keys","values","pairs","invert","pick","omit"];_.each(modelMethods,function(method){Model.prototype[method]=function(){var args=slice.call(arguments);args.unshift(this.attributes);return _[method].apply(_,args)}});var Collection=Backbone.Collection=function(models,options){options||(options={});if(options.url)this.url=options.url;if(options.model)this.model=options.model;if(options.comparator!==void 0)this.comparator=options.comparator;this._reset();this.initialize.apply(this,arguments);if(models)this.reset(models,_.extend({silent:true},options))};var setOptions={add:true,remove:true,merge:true};var addOptions={add:true,merge:false,remove:false};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.defaults(options||{},addOptions))},remove:function(models,options){models=_.isArray(models)?models.slice():[models];options||(options={});var i,l,index,model;for(i=0,l=models.length;i<l;i++){model=this.get(models[i]);if(!model)continue;delete this._byId[model.id];delete this._byId[model.cid];index=this.indexOf(model);this.models.splice(index,1);this.length--;if(!options.silent){options.index=index;model.trigger("remove",model,this,options)}this._removeReference(model)}return this},set:function(models,options){options=_.defaults(options||{},setOptions);if(options.parse)models=this.parse(models,options);if(!_.isArray(models))models=models?[models]:[];var i,l,model,attrs,existing,sort;var at=options.at;var sortable=this.comparator&&at==null&&options.sort!==false;var sortAttr=_.isString(this.comparator)?this.comparator:null;var toAdd=[],toRemove=[],modelMap={};for(i=0,l=models.length;i<l;i++){if(!(model=this._prepareModel(models[i],options)))continue;if(existing=this.get(model)){if(options.remove)modelMap[existing.cid]=true;if(options.merge){existing.set(model.attributes,options);if(sortable&&!sort&&existing.hasChanged(sortAttr))sort=true}}else if(options.add){toAdd.push(model);model.on("all",this._onModelEvent,this);this._byId[model.cid]=model;if(model.id!=null)this._byId[model.id]=model}}if(options.remove){for(i=0,l=this.length;i<l;++i){if(!modelMap[(model=this.models[i]).cid])toRemove.push(model)}if(toRemove.length)this.remove(toRemove,options)}if(toAdd.length){if(sortable)sort=true;this.length+=toAdd.length;if(at!=null){splice.apply(this.models,[at,0].concat(toAdd))}else{push.apply(this.models,toAdd)}}if(sort)this.sort({silent:true});if(options.silent)return this;for(i=0,l=toAdd.length;i<l;i++){(model=toAdd[i]).trigger("add",model,this,options)}if(sort)this.trigger("sort",this,options);return this},reset:function(models,options){options||(options={});for(var i=0,l=this.models.length;i<l;i++){this._removeReference(this.models[i])}options.previousModels=this.models;this._reset();this.add(models,_.extend({silent:true},options));if(!options.silent)this.trigger("reset",this,options);return this},push:function(model,options){model=this._prepareModel(model,options);this.add(model,_.extend({at:this.length},options));return model},pop:function(options){var model=this.at(this.length-1);this.remove(model,options);return model},unshift:function(model,options){model=this._prepareModel(model,options);this.add(model,_.extend({at:0},options));return model},shift:function(options){var model=this.at(0);this.remove(model,options);return model},slice:function(begin,end){return this.models.slice(begin,end)},get:function(obj){if(obj==null)return void 0;return this._byId[obj.id!=null?obj.id:obj.cid||obj]},at:function(index){return this.models[index]},where:function(attrs,first){if(_.isEmpty(attrs))return first?void 0:[];return this[first?"find":"filter"](function(model){for(var key in attrs){if(attrs[key]!==model.get(key))return false}return true})},findWhere:function(attrs){return this.where(attrs,true)},sort:function(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");options||(options={});if(_.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(_.bind(this.comparator,this))}if(!options.silent)this.trigger("sort",this,options);return this},sortedIndex:function(model,value,context){value||(value=this.comparator);var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _.sortedIndex(this.models,model,iterator,context)},pluck:function(attr){return _.invoke(this.models,"get",attr)},fetch:function(options){options=options?_.clone(options):{};if(options.parse===void 0)options.parse=true;var success=options.success;var collection=this;options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options);if(success)success(collection,resp,options);collection.trigger("sync",collection,resp,options)};wrapError(this,options);return this.sync("read",this,options)},create:function(model,options){options=options?_.clone(options):{};if(!(model=this._prepareModel(model,options)))return false;if(!options.wait)this.add(model,options);var collection=this;var success=options.success;options.success=function(resp){if(options.wait)collection.add(model,options);if(success)success(model,resp,options)};model.save(null,options);return model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(attrs,options){if(attrs instanceof Model){if(!attrs.collection)attrs.collection=this;return attrs}options||(options={});options.collection=this;var model=new this.model(attrs,options);if(!model._validate(attrs,options)){this.trigger("invalid",this,attrs,options);return false}return model},_removeReference:function(model){if(this===model.collection)delete model.collection;model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if((event==="add"||event==="remove")&&collection!==this)return;if(event==="destroy")this.remove(model,options);if(model&&event==="change:"+model.idAttribute){delete this._byId[model.previous(model.idAttribute)];if(model.id!=null)this._byId[model.id]=model}this.trigger.apply(this,arguments)}});var methods=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];_.each(methods,function(method){Collection.prototype[method]=function(){var args=slice.call(arguments);args.unshift(this.models);return _[method].apply(_,args)}});var attributeMethods=["groupBy","countBy","sortBy"];_.each(attributeMethods,function(method){Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view");this._configure(options||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var delegateEventSplitter=/^(\S+)\s*(.*)$/;var viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(element,delegate){if(this.$el)this.undelegateEvents();this.$el=element instanceof Backbone.$?element:Backbone.$(element);this.el=this.$el[0];if(delegate!==false)this.delegateEvents();return this},delegateEvents:function(events){if(!(events||(events=_.result(this,"events"))))return this;this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[events[key]];if(!method)continue;var match=key.match(delegateEventSplitter);var eventName=match[1],selector=match[2];method=_.bind(method,this);eventName+=".delegateEvents"+this.cid;if(selector===""){this.$el.on(eventName,method)}else{this.$el.on(eventName,selector,method)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(options){if(this.options)options=_.extend({},_.result(this,"options"),options);_.extend(this,_.pick(options,viewOptions));this.options=options},_ensureElement:function(){if(!this.el){var attrs=_.extend({},_.result(this,"attributes"));if(this.id)attrs.id=_.result(this,"id");if(this.className)attrs["class"]=_.result(this,"className");var $el=Backbone.$("<"+_.result(this,"tagName")+">").attr(attrs);this.setElement($el,false)}else{this.setElement(_.result(this,"el"),false)}}});Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};if(!options.url){params.url=_.result(model,"url")||urlError()}if(options.data==null&&model&&(method==="create"||method==="update"||method==="patch")){params.contentType="application/json";params.data=JSON.stringify(options.attrs||model.toJSON(options))}if(options.emulateJSON){params.contentType="application/x-www-form-urlencoded";params.data=params.data?{model:params.data}:{}}if(options.emulateHTTP&&(type==="PUT"||type==="DELETE"||type==="PATCH")){params.type="POST";if(options.emulateJSON)params.data._method=type;var beforeSend=options.beforeSend;options.beforeSend=function(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type);if(beforeSend)return beforeSend.apply(this,arguments)}}if(params.type!=="GET"&&!options.emulateJSON){params.processData=false}if(params.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){params.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var xhr=options.xhr=Backbone.ajax(_.extend(params,options));model.trigger("request",model,xhr,options);return xhr};var methodMap={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={});if(options.routes)this.routes=options.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var optionalParam=/\((.*?)\)/g;var namedParam=/(\(\?)?:\w+/g;var splatParam=/\*\w+/g;var escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){if(!_.isRegExp(route))route=this._routeToRegExp(route);if(_.isFunction(name)){callback=name;name=""}if(!callback)callback=this[name];var router=this;Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);callback&&callback.apply(router,args);router.trigger.apply(router,["route:"+name].concat(args));router.trigger("route",name,args);Backbone.history.trigger("route",router,name,args)});return this},navigate:function(fragment,options){Backbone.history.navigate(fragment,options);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=_.result(this,"routes");var route,routes=_.keys(this.routes);while((route=routes.pop())!=null){this.route(route,this.routes[route])}},_routeToRegExp:function(route){route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/]+)"}).replace(splatParam,"(.*?)");return new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param){return param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[];_.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var routeStripper=/^[#\/]|\s+$/g;var rootStripper=/^\/+|\/+$/g;var isExplorer=/msie [\w.]+/;var trailingSlash=/\/$/;History.started=false;_.extend(History.prototype,Events,{interval:50,getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(fragment==null){if(this._hasPushState||!this._wantsHashChange||forcePushState){fragment=this.location.pathname;var root=this.root.replace(trailingSlash,"");if(!fragment.indexOf(root))fragment=fragment.substr(root.length)}else{fragment=this.getHash()}}return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=true;this.options=_.extend({},{root:"/"},this.options,options);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var fragment=this.getFragment();var docMode=document.documentMode;var oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7);this.root=("/"+this.root+"/").replace(rootStripper,"/");if(oldIE&&this._wantsHashChange){this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(fragment)}if(this._hasPushState){Backbone.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!oldIE){Backbone.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=fragment;var loc=this.location;var atRoot=loc.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash){this.fragment=this.getHash().replace(routeStripper,"");this.history.replaceState({},document.title,this.root+this.fragment+loc.search)}if(!this.options.silent)return this.loadUrl()},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);History.started=false},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();if(current===this.fragment&&this.iframe){current=this.getFragment(this.getHash(this.iframe))}if(current===this.fragment)return false;if(this.iframe)this.navigate(current);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride);var matched=_.any(this.handlers,function(handler){if(handler.route.test(fragment)){handler.callback(fragment);return true}});return matched},navigate:function(fragment,options){if(!History.started)return false;if(!options||options===true)options={trigger:options};fragment=this.getFragment(fragment||"");if(this.fragment===fragment)return;this.fragment=fragment;var url=this.root+fragment;if(this._hasPushState){this.history[options.replace?"replaceState":"pushState"]({},document.title,url)}else if(this._wantsHashChange){this._updateHash(this.location,fragment,options.replace);if(this.iframe&&fragment!==this.getFragment(this.getHash(this.iframe))){if(!options.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,fragment,options.replace)}}else{return this.location.assign(url)}if(options.trigger)this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else{location.hash="#"+fragment}}});Backbone.history=new History;var extend=function(protoProps,staticProps){var parent=this;var child;if(protoProps&&_.has(protoProps,"constructor")){child=protoProps.constructor}else{child=function(){return parent.apply(this,arguments)}}_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};Surrogate.prototype=parent.prototype;child.prototype=new Surrogate;if(protoProps)_.extend(child.prototype,protoProps);child.__super__=parent.prototype;return child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw new Error('A "url" property or function must be specified')};var wrapError=function(model,options){var error=options.error;options.error=function(resp){if(error)error(model,resp,options);model.trigger("error",model,resp,options)}}}).call(this)},{underscore:145}],145:[function(require,module,exports){(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root._=_}_.VERSION="1.5.2";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else if(obj.length===+obj.length){for(var i=0,length=obj.length;i<length;i++){if(iterator.call(context,obj[i],i,obj)===breaker)return}}else{var keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++){if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))});return results};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial)throw new TypeError(reduceError);return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}each(obj,function(value,index,list){index=keys?keys[--length]:--length;if(!initial){memo=obj[index];initial=true}else{memo=iterator.call(context,memo,obj[index],index,list)}});if(!initial)throw new TypeError(reduceError);return memo};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results.push(value)});return results};_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)};_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker});return!!result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker});return!!result};_.contains=_.include=function(obj,target){if(obj==null)return false;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;return any(obj,function(value){return value===target})};_.invoke=function(obj,method){var args=slice.call(arguments,2);var isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.where=function(obj,attrs,first){if(_.isEmpty(attrs))return first?void 0:[];return _[first?"find":"filter"](obj,function(value){for(var key in attrs){if(attrs[key]!==value[key])return false}return true})};_.findWhere=function(obj,attrs){return _.where(obj,attrs,true)};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.max.apply(Math,obj)}if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity,value:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.min.apply(Math,obj)}if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity,value:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var rand;var index=0;var shuffled=[];each(obj,function(value){rand=_.random(index++);shuffled[index-1]=shuffled[rand];shuffled[rand]=value});return shuffled};_.sample=function(obj,n,guard){if(arguments.length<2||guard){return obj[_.random(obj.length-1)]}return _.shuffle(obj).slice(0,Math.max(0,n))};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,value,context){var result={};var iterator=value==null?_.identity:lookupIterator(value);each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)});return result}};_.groupBy=group(function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)});_.indexBy=group(function(result,key,value){result[key]=value});_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1});_.sortedIndex=function(array,obj,iterator,context){iterator=iterator==null?_.identity:lookupIterator(iterator);var value=iterator.call(context,obj);var low=0,high=array.length;while(low<high){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(obj.length===+obj.length)return _.map(obj,_.identity);return _.values(obj)};_.size=function(obj){if(obj==null)return 0;return obj.length===+obj.length?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){if(array==null)return void 0;return n==null||guard?array[0]:slice.call(array,0,n)};_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))};_.last=function(array,n,guard){if(array==null)return void 0;if(n==null||guard){return array[array.length-1]}else{return slice.call(array,Math.max(array.length-n,0))}};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){if(shallow&&_.every(input,_.isArray)){return concat.apply(output,input)}each(input,function(value){if(_.isArray(value)||_.isArguments(value)){shallow?push.apply(output,value):flatten(value,shallow,output)}else{output.push(value)}});return output};_.flatten=function(array,shallow){return flatten(array,shallow,[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator,context){if(_.isFunction(isSorted)){context=iterator;iterator=isSorted;isSorted=false}var initial=iterator?_.map(array,iterator,context):array;var results=[];var seen=[];each(initial,function(value,index){if(isSorted?!index||seen[seen.length-1]!==value:!_.contains(seen,value)){seen.push(value);results.push(array[index])}});return results};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})};_.zip=function(){var length=_.max(_.pluck(arguments,"length").concat(0));
var results=new Array(length);for(var i=0;i<length;i++){results[i]=_.pluck(arguments,""+i)}return results};_.object=function(list,values){if(list==null)return{};var result={};for(var i=0,length=list.length;i<length;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i=0,length=array.length;if(isSorted){if(typeof isSorted=="number"){i=isSorted<0?Math.max(0,length+isSorted):isSorted}else{i=_.sortedIndex(array,item);return array[i]===item?i:-1}}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<length;i++)if(array[i]===item)return i;return-1};_.lastIndexOf=function(array,item,from){if(array==null)return-1;var hasIndex=from!=null;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf){return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item)}var i=hasIndex?from:array.length;while(i--)if(array[i]===item)return i;return-1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var length=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(length);while(idx<length){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length===0)throw new Error("bindAll must be passed function names");each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait,options){var context,args,result;var timeout=null;var previous=0;options||(options={});var later=function(){previous=options.leading===false?0:new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date;if(!previous&&options.leading===false)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result}};_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result;return function(){context=this;args=arguments;timestamp=new Date;var later=function(){var last=new Date-timestamp;if(last<wait){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate)result=func.apply(context,args)}};var callNow=immediate&&!timeout;if(!timeout){timeout=setTimeout(later,wait)}if(callNow)result=func.apply(context,args);return result}};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;memo=func.apply(this,arguments);func=null;return memo}};_.wrap=function(func,wrapper){return function(){var args=[func];push.apply(args,arguments);return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys.push(key);return keys};_.values=function(obj){var keys=_.keys(obj);var length=keys.length;var values=new Array(length);for(var i=0;i<length;i++){values[i]=obj[keys[i]]}return values};_.pairs=function(obj){var keys=_.keys(obj);var length=keys.length;var pairs=new Array(length);for(var i=0;i<length;i++){pairs[i]=[keys[i],obj[keys[i]]]}return pairs};_.invert=function(obj){var result={};var keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++){result[obj[keys[i]]]=keys[i]}return result};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){obj[prop]=source[prop]}}});return obj};_.pick=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));each(keys,function(key){if(key in obj)copy[key]=obj[key]});return copy};_.omit=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj){if(!_.contains(keys,key))copy[key]=obj[key]}return copy};_.defaults=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===void 0)obj[prop]=source[prop]}}});return obj};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;var length=aStack.length;while(length--){if(aStack[length]==a)return bStack[length]==b}var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)){return false}aStack.push(a);bStack.push(b);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=eq(a[size],b[size],aStack,bStack)))break}}}else{for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))break}}if(result){for(key in b){if(_.has(b,key)&&!size--)break}result=!size}}aStack.pop();bStack.pop();return result};_.isEqual=function(a,b){return eq(a,b,[],[])};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true};_.isElement=function(obj){return!!(obj&&obj.nodeType===1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}});if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,"callee"))}}if(typeof/./!=="function"){_.isFunction=function(obj){return typeof obj==="function"}}_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){var accum=Array(Math.max(0,n));for(var i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum};_.random=function(min,max){if(max==null){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){if(string==null)return"";return(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}});_.result=function(object,property){if(object==null)return void 0;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]});if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"}if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"}if(evaluate){source+="';\n"+evaluate+"\n__p+='"}index=offset+match.length;return match});source+="';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){e.source=source;throw e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name=="shift"||name=="splice")&&obj.length===0)delete obj[0];return result.call(this,obj)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}});_.extend(_.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this)},{}],146:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define([],factory)}else{root.returnExports=factory()}})(this,function(){return function(window,undefined){var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}else if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}},class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=context&&context.nodeType?context.ownerDocument||context:document;selector=jQuery.parseHTML(match[1],doc,true);if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){this.attr.call(selector,context,true)}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},get:function(num){return num==null?this.toArray():num<0?this[this.length+num]:this[num]},pushStack:function(elems,name,selector){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else if(name){ret.selector=this.selector+"."+name+"("+selector+")"}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.ready.promise().done(fn);return this},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}if(!document.body){return setTimeout(jQuery.ready,1)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready")}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return obj==null?String(obj):class2type[core_toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,scripts){var parsed;if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){scripts=context;context=0}context=context||document;if(parsed=rsingleTag.exec(data)){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts?null:[]);return jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes)},parseJSON:function(data){if(!data||typeof data!=="string"){return null}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data)}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return new Function("return "+data)()}jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{if(window.DOMParser){tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml},noop:function(){},globalEval:function(data){if(data&&core_rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);if(args){if(isObj){for(name in obj){if(callback.apply(obj[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(obj[i++],args)===false){break}}}}else{if(isObj){for(name in obj){if(callback.call(obj[name],name,obj[name])===false){break}}}else{for(;i<length;){if(callback.call(obj[i],i,obj[i++])===false){break}}}}return obj},trim:core_trim&&!core_trim.call("﻿ ")?function(text){return text==null?"":core_trim.call(text)}:function(text){return text==null?"":text.toString().replace(rtrim,"")},makeArray:function(arr,results){var type,ret=results||[];if(arr!=null){type=jQuery.type(arr);if(arr.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(arr)){core_push.call(ret,arr)}else{jQuery.merge(ret,arr)}}return ret},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i)}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i}}}return-1},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&(length>0&&elems[0]&&elems[length-1]||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value}}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context,args.concat(core_slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;return proxy},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key==="object"){for(i in key){jQuery.access(elems,fn,i,key[i],1,emptyGet,value)}chainable=1}else if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);if(bulk){if(exec){exec=fn;fn=function(elem,key,value){return exec.call(jQuery(elem),value)}}else{fn.call(elems,value);fn=null}}if(fn){for(;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}}chainable=1}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date).getTime()}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready,1)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}jQuery.ready()}})()}}}return readyList.promise(obj)};jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"&&(!options.unique||!self.has(arg))){list.push(arg)}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return jQuery.inArray(fn,list)>-1},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack)){if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=fns[i];deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned])}}:newDefer[action])});fns=null}).promise()},promise:function(obj){return typeof obj==="object"?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=list.fire;deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});jQuery.support=function(){var support,all,a,select,opt,input,fragment,eventName,i,isSupported,clickFn,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];a.style.cssText="top:1px;float:left;opacity:.5";if(!all||!all.length||!a){return{}}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:input.value==="on",optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:document.compatMode==="CSS1Compat",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",clickFn=function(){support.noCloneEvent=false});div.cloneNode(true).fireEvent("onclick");div.detachEvent("onclick",clickFn)}input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);if(div.attachEvent){for(i in{submit:true,change:true,focusin:true}){eventName="on"+i;isSupported=eventName in div;if(!isSupported){div.setAttribute(eventName,"return;");isSupported=typeof div[eventName]==="function"}support[i+"Bubbles"]=isSupported}}jQuery(function(){var container,div,tds,marginDiv,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];if(!body){return}container=document.createElement("div");container.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=tds[0].offsetHeight===0;tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&tds[0].offsetHeight===0;div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=div.offsetWidth===4;support.doesNotIncludeMarginInBodyOffset=body.offsetTop!==1;if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=document.createElement("div");marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";div.appendChild(marginDiv);support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)}if(typeof div.style.zoom!=="undefined"){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=div.offsetWidth===3;div.style.display="block";div.style.overflow="visible";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=div.offsetWidth!==3;container.style.zoom=1}body.removeChild(container);container=div=tds=marginDiv=null});fragment.removeChild(div);all=a=select=opt=input=fragment=div=null;return support}();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];
return!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||!pvt&&!cache[id].data)&&getByName&&data===undefined){return}if(!id){if(isNode){elem[internalKey]=id=jQuery.deletedIds.pop()||++jQuery.uuid}else{id=internalKey}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,i,l,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]]}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return}}if(isNode){jQuery.cleanData([elem],true)}else if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id]}else{cache[id]=null}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==true&&elem.getAttribute("classid")===noData}});jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++){name=attr[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.substring(5));dataAttr(elem,name,data[name])}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}parts=key.split(".",2);parts[1]=parts[1]?"."+parts[1]:"";part=parts[1]+"!";return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+part,[parts[0]]);if(data===undefined&&elem){data=jQuery.data(elem,key);data=dataAttr(elem,key,data)}return data===undefined&&parts[1]?this.data(parts[0]):data}parts[1]=value;this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts);jQuery.data(this,key,value);self.triggerHandler("changeData"+part,parts)})},null,value,arguments.length>1,null,false)},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",true);jQuery.removeData(elem,key,true)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(value&&typeof value==="string"){classNames=value.split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(!~setClass.indexOf(" "+classNames[c]+" ")){setClass+=classNames[c]+" "}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){var removes,className,elem,c,cl,i,l;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(value&&typeof value==="string"||value===undefined){removes=(value||"").split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=removes.length;c<cl;c++){while(className.indexOf(" "+removes[c]+" ")>-1){className=className.replace(" "+removes[c]+" "," ")}}elem.className=value?jQuery.trim(className):""}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);while(className=classNames[i++]){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}i=one?index:0;max=one?index+1:options.length;for(;i<max;i++){option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}if(one&&!values.length&&options.length){return jQuery(options[index]).val()}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){elem.selectedIndex=-1}return values}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(pass&&jQuery.isFunction(jQuery.fn[name])){return jQuery(elem)[name](value)}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}else if(hooks&&"set"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,""+value);return value}}else if(hooks&&"get"in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=elem.getAttribute(name);return ret===null?undefined:ret}},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.split(core_rspace);for(;i<attrNames.length;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;isBool=rboolean.test(name);if(!isBool){jQuery.attr(elem,name,"")}elem.removeAttribute(getSetAttribute?name:propName);if(isBool&&propName in elem){elem[propName]=false}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}else if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name)}return name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name)}elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{return elem[name]=value}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{return elem[name]}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name)}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true}elem.setAttribute(name,name.toLowerCase())}return name}};if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.value!=="":ret.specified)?ret.value:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret)}return ret.value=value+""}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false"}nodeHook.set(elem,value,name)}}}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret}})})}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return elem.style.cssText=""+value}}}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}})}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding"}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}})}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}events=elemData.events;if(!events){elemData.events=events={}}eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,tns,type,origType,namespaces,origCount,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return}types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery.removeData(elem,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return}var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return}event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true)}}return}event.result=undefined;if(!event.target){event.target=elem}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return}eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;for(old=elem;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur}if(old===(elem.ownerDocument||document)){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===false){event.preventDefault()}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&(type!=="focus"&&type!=="blur"||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event||window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,related,handlers=(jQuery._data(this,"events")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=[].slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}if(delegateCount&&!(event.button&&event.type==="click")){for(cur=event.target;cur!=this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){selMatch={};matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=jQuery(sel,this).index(cur)>=0}if(selMatch[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,matches:matches})}}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)})}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]==="undefined"){elem[name]=null}elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"_submit_attached")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"_submit_attached",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false}jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"_change_attached")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});jQuery._data(elem,"_change_attached",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!=="radio"&&elem.type!=="checkbox"){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName)}}}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true)}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return this}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length==1?this.off(selector,"**"):this.off(types,selector||"**",fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true)}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;
jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length){args[i++].guid=guid}return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)};if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks}});(function(window,undefined){var dirruns,cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,baseHasDuplicate=true,strundefined="undefined",expando=("sizcache"+Math.random()).replace(".",""),document=window.document,docElem=document.documentElement,done=0,slice=[].slice,push=[].push,markFunction=function(fn,value){fn[expando]=value||true;return fn},createCache=function(){var cache={},keys=[];return markFunction(function(key,value){if(keys.push(key)>Expr.cacheLength){delete cache[keys.shift()]}return cache[key]=value},cache)},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+attributes+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rnot=/^:not/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),POS:new RegExp(pos,"ig"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},assert=function(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return false}finally{div=null}},assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));return!div.getElementsByTagName("*").length}),assertHrefNotNormalized=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#"}),assertAttributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string"}),assertUsableClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false}div.lastChild.className="e";return div.getElementsByClassName("e").length===2}),assertUsableName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;assertGetIdNotName=!document.getElementById(expando);docElem.removeChild(div);return pass});try{slice.call(docElem.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];for(;elem=this[i];i++){results.push(elem)}return results}}function Sizzle(selector,context,results,seed){results=results||[];context=context||document;var match,elem,xml,m,nodeType=context.nodeType;if(nodeType!==1&&nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}xml=isXML(context);if(!xml&&!seed){if(match=rquickExpr.exec(selector)){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}else if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results}}}return select(selector,context,results,seed,xml)}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0};function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}}else{for(;node=elem[i];i++){ret+=getText(node)}}return ret};isXML=Sizzle.isXML=function isXML(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};contains=Sizzle.contains=docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup))}:docElem.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode){if(b===a){return true}}return false};Sizzle.attr=function(elem,name){var attr,xml=isXML(elem);if(!xml){name=name.toLowerCase()}if(Expr.attrHandle[name]){return Expr.attrHandle[name](elem)}if(assertAttributes||xml){return elem.getAttribute(name)}attr=elem.getAttributeNode(name);return attr?typeof elem[name]==="boolean"?elem[name]?name:null:attr.specified?attr.value:null:null};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,order:new RegExp("ID|TAG"+(assertUsableName?"|NAME":"")+(assertUsableClassName?"|CLASS":"")),attrHandle:assertHrefNotNormalized?{}:{href:function(elem){return elem.getAttribute("href",2)},type:function(elem){return elem.getAttribute("type")}},find:{ID:assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}}:function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}},TAG:assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){var results=context.getElementsByTagName(tag);if(tag==="*"){var elem,tmp=[],i=0;for(;elem=results[i];i++){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results},NAME:function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name)}},CLASS:function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml){return context.getElementsByClassName(className)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(rbackslash,"");match[3]=(match[4]||match[5]||"").replace(rbackslash,"");if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0])}match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));match[4]=+(match[6]+match[7]||match[2]==="odd")}else if(match[2]){Sizzle.error(match[0])}return match},PSEUDO:function(match,context,xml){var unquoted,excess;if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[3]}else if(unquoted=match[4]){if(rpseudo.test(unquoted)&&(excess=tokenize(unquoted,context,xml,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){unquoted=unquoted.slice(0,excess);match[0]=match[0].slice(0,excess)}match[2]=unquoted}return match.slice(0,3)}},filter:{ID:assertGetIdNotName?function(id){id=id.replace(rbackslash,"");return function(elem){return elem.getAttribute("id")===id}}:function(id){id=id.replace(rbackslash,"");return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===id}},TAG:function(nodeName){if(nodeName==="*"){return function(){return true}}nodeName=nodeName.replace(rbackslash,"").toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[expando][className];if(!pattern){pattern=classCache(className,new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))}return function(elem){return pattern.test(elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")}},ATTR:function(name,operator,check){if(!operator){return function(elem){return Sizzle.attr(elem,name)!=null}}return function(elem){var result=Sizzle.attr(elem,name),value=result+"";if(result==null){return operator==="!="}switch(operator){case"=":return value===check;case"!=":return value!==check;case"^=":return check&&value.indexOf(check)===0;case"*=":return check&&value.indexOf(check)>-1;case"$=":return check&&value.substr(value.length-check.length)===check;case"~=":return(" "+value+" ").indexOf(check)>-1;case"|=":return value===check||value.substr(0,check.length+1)===check+"-"}}},CHILD:function(type,argument,first,last){if(type==="nth"){var doneName=done++;return function(elem){var parent,diff,count=0,node=elem;if(first===1&&last===0){return true}parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.sizset)){for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.sizset=++count;if(node===elem){break}}}parent[expando]=doneName}diff=elem.sizset-last;if(first===0){return diff===0}else{return diff%first===0&&diff/first>=0}}}return function(elem){var node=elem;switch(type){case"only":case"first":while(node=node.previousSibling){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while(node=node.nextSibling){if(node.nodeType===1){return false}}return true}}},PSEUDO:function(pseudo,argument,context,xml){var args,fn=Expr.pseudos[pseudo]||Expr.pseudos[pseudo.toLowerCase()];if(!fn){Sizzle.error("unsupported pseudo: "+pseudo)}if(!fn[expando]){if(fn.length>1){args=[pseudo,pseudo,"",argument];return function(elem){return fn(elem,0,args)}}return fn}return fn(argument,context,xml)}},pseudos:{not:markFunction(function(selector,context,xml){var matcher=compile(selector.replace(rtrim,"$1"),context,xml);return function(elem){return!matcher(elem)}}),enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},parent:function(elem){return!Expr.pseudos["empty"](elem)},empty:function(elem){var nodeType;elem=elem.firstChild;while(elem){if(elem.nodeName>"@"||(nodeType=elem.nodeType)===3||nodeType===4){return false}elem=elem.nextSibling}return true},contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),header:function(elem){return rheader.test(elem.nodeName)},text:function(elem){var type,attr;return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type)},radio:createInputPseudo("radio"),checkbox:createInputPseudo("checkbox"),file:createInputPseudo("file"),password:createInputPseudo("password"),image:createInputPseudo("image"),submit:createButtonPseudo("submit"),reset:createButtonPseudo("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},input:function(elem){return rinputs.test(elem.nodeName)},focus:function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href)},active:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elements,argument,not){return not?elements.slice(1):[elements[0]]},last:function(elements,argument,not){var elem=elements.pop();return not?elements:[elem]},even:function(elements,argument,not){var results=[],i=not?1:0,len=elements.length;for(;i<len;i=i+2){results.push(elements[i])}return results},odd:function(elements,argument,not){var results=[],i=not?0:1,len=elements.length;for(;i<len;i=i+2){results.push(elements[i])}return results},lt:function(elements,argument,not){return not?elements.slice(+argument):elements.slice(0,+argument)},gt:function(elements,argument,not){return not?elements.slice(0,+argument+1):elements.slice(+argument+1)},eq:function(elements,argument,not){var elem=elements.splice(+argument,1);return not?elements:elem}}};function siblingCheck(a,b,ret){if(a===b){return ret}var cur=a.nextSibling;while(cur){if(cur===b){return-1}cur=cur.nextSibling}return 1}sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;return 0}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}else if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b)}else if(!aup){return-1}else if(!bup){return 1}while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i])}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};[0,0].sort(sortOrder);baseHasDuplicate=!hasDuplicate;Sizzle.uniqueSort=function(results){var elem,i=1;hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(;elem=results[i];i++){if(elem===results[i-1]){results.splice(i--,1)}}}return results};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};function tokenize(selector,context,xml,parseOnly){var matched,match,tokens,type,soFar,groups,group,i,preFilters,filters,checkContext=!xml&&context!==document,key=(checkContext?"<s>":"")+selector.replace(rtrim,"$1<s>"),cached=tokenCache[expando][key];if(cached){return parseOnly?0:slice.call(cached,0)}soFar=selector;groups=[];i=0;preFilters=Expr.preFilter;filters=Expr.filter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length);tokens.selector=group}groups.push(tokens=[]);group="";if(checkContext){soFar=" "+soFar}}matched=false;if(match=rcombinators.exec(soFar)){group+=match[0];soFar=soFar.slice(match[0].length);matched=tokens.push({part:match.pop().replace(rtrim," "),string:match[0],captures:match})}for(type in filters){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match,context,xml)))){group+=match[0];soFar=soFar.slice(match[0].length);matched=tokens.push({part:type,string:match.shift(),captures:match})}}if(!matched){break}}if(group){tokens.selector=group}return parseOnly?soFar.length:soFar?Sizzle.error(selector):slice.call(tokenCache(key,groups),0)}function addCombinator(matcher,combinator,context,xml){var dir=combinator.dir,doneName=done++;if(!matcher){matcher=function(elem){return elem===context}}return combinator.first?function(elem){while(elem=elem[dir]){if(elem.nodeType===1){return matcher(elem)&&elem}}}:xml?function(elem){while(elem=elem[dir]){if(elem.nodeType===1){if(matcher(elem)){return elem}}}}:function(elem){var cache,dirkey=doneName+"."+dirruns,cachedkey=dirkey+"."+cachedruns;while(elem=elem[dir]){if(elem.nodeType===1){if((cache=elem[expando])===cachedkey){return elem.sizset}else if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset){return elem}}else{elem[expando]=cachedkey;if(matcher(elem)){elem.sizset=true;return elem}elem.sizset=false}}}}}function addMatcher(higher,deeper){return higher?function(elem){var result=deeper(elem);return result&&higher(result===true?elem:result)}:deeper}function matcherFromTokens(tokens,context,xml){var token,matcher,i=0;for(;token=tokens[i];i++){if(Expr.relative[token.part]){matcher=addCombinator(matcher,Expr.relative[token.part],context,xml)}else{matcher=addMatcher(matcher,Expr.filter[token.part].apply(null,token.captures.concat(context,xml)))}}return matcher}function matcherFromGroupMatchers(matchers){return function(elem){var matcher,j=0;for(;matcher=matchers[j];j++){if(matcher(elem)){return true}}return false}}compile=Sizzle.compile=function(selector,context,xml){var group,i,len,cached=compilerCache[expando][selector];if(cached&&cached.context===context){return cached}group=tokenize(selector,context,xml);for(i=0,len=group.length;i<len;i++){group[i]=matcherFromTokens(group[i],context,xml)}cached=compilerCache(selector,matcherFromGroupMatchers(group));cached.context=context;cached.runs=cached.dirruns=0;return cached};function multipleContexts(selector,contexts,results,seed){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results,seed)}}function handlePOSGroup(selector,posfilter,argument,contexts,seed,not){var results,fn=Expr.setFilters[posfilter.toLowerCase()];if(!fn){Sizzle.error(posfilter)}if(selector||!(results=seed)){multipleContexts(selector||"*",contexts,results=[],seed)}return results.length>0?fn(results,argument,not):[]}function handlePOS(groups,context,results,seed){var group,part,j,groupLen,token,selector,anchor,elements,match,matched,lastIndex,currentContexts,not,i=0,len=groups.length,rpos=matchExpr["POS"],rposgroups=new RegExp("^"+rpos.source+"(?!"+whitespace+")","i"),setUndefined=function(){var i=1,len=arguments.length-2;for(;i<len;i++){if(arguments[i]===undefined){match[i]=undefined}}};for(;i<len;i++){group=groups[i];part="";elements=seed;for(j=0,groupLen=group.length;j<groupLen;j++){token=group[j];selector=token.string;if(token.part==="PSEUDO"){rpos.exec("");anchor=0;while(match=rpos.exec(selector)){matched=true;lastIndex=rpos.lastIndex=match.index+match[0].length;if(lastIndex>anchor){part+=selector.slice(anchor,match.index);anchor=lastIndex;currentContexts=[context];if(rcombinators.test(part)){if(elements){currentContexts=elements}elements=seed}if(not=rendsWithNot.test(part)){part=part.slice(0,-5).replace(rcombinators,"$&*");anchor++}if(match.length>1){match[0].replace(rposgroups,setUndefined)}elements=handlePOSGroup(part,match[1],match[2],currentContexts,elements,not)}part=""}}if(!matched){part+=selector}matched=false}if(part){if(rcombinators.test(part)){multipleContexts(part,elements||[context],results,seed)}else{Sizzle(part,context,results,seed?seed.concat(elements):elements)}}else{push.apply(results,elements)}}return len===1?results:Sizzle.uniqueSort(results)}function select(selector,context,results,seed,xml){selector=selector.replace(rtrim,"$1");var elements,matcher,cached,elem,i,tokens,token,lastToken,findContext,type,match=tokenize(selector,context,xml),contextNodeType=context.nodeType;if(matchExpr["POS"].test(selector)){return handlePOS(match,context,results,seed)}if(seed){elements=slice.call(seed,0)}else if(match.length===1){if((tokens=slice.call(match[0],0)).length>2&&(token=tokens[0]).part==="ID"&&contextNodeType===9&&!xml&&Expr.relative[tokens[1].part]){context=Expr.find["ID"](token.captures[0].replace(rbackslash,""),context,xml)[0];if(!context){return results}selector=selector.slice(tokens.shift().string.length)}findContext=(match=rsibling.exec(tokens[0].string))&&!match.index&&context.parentNode||context;lastToken="";for(i=tokens.length-1;i>=0;i--){token=tokens[i];type=token.part;lastToken=token.string+lastToken;if(Expr.relative[type]){break}if(Expr.order.test(type)){elements=Expr.find[type](token.captures[0].replace(rbackslash,""),findContext,xml);if(elements==null){continue}else{selector=selector.slice(0,selector.length-lastToken.length)+lastToken.replace(matchExpr[type],"");if(!selector){push.apply(results,slice.call(elements,0))}break}}}}if(selector){matcher=compile(selector,context,xml);dirruns=matcher.dirruns++;if(elements==null){elements=Expr.find["TAG"]("*",rsibling.test(selector)&&context.parentNode||context)}for(i=0;elem=elements[i];i++){cachedruns=matcher.runs++;if(matcher(elem)){results.push(elem)}}}return results}if(document.querySelectorAll){(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[],rbuggyMatches=[":active"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}});assert(function(div){div.innerHTML="<p test=''></p>";if(div.querySelectorAll("[test^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')")}div.innerHTML="<input type='hidden'/>";if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}});rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));select=function(selector,context,results,seed,xml){if(!seed&&!xml&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(context.nodeType===9){try{push.apply(results,slice.call(context.querySelectorAll(selector),0));return results}catch(qsaError){}}else if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var groups,i,len,old=context.getAttribute("id"),nid=old||expando,newContext=rsibling.test(selector)&&context.parentNode||context;if(old){nid=nid.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}groups=tokenize(selector,context,xml);nid="[id='"+nid+"']";for(i=0,len=groups.length;i<len;i++){groups[i]=nid+groups[i].selector}try{push.apply(results,slice.call(newContext.querySelectorAll(groups.join(",")),0));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}return oldSelect(selector,context,results,seed,xml)};if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!='']:sizzle");rbuggyMatches.push(matchExpr["PSEUDO"].source,matchExpr["POS"].source,"!=")}catch(e){}});rbuggyMatches=new RegExp(rbuggyMatches.join("|"));Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"='$1']");if(!isXML(elem)&&!rbuggyMatches.test(expr)&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,null,null,[elem]).length>0}}})()}Expr.setFilters["nth"]=Expr.setFilters["eq"];Expr.filters=Expr.pseudos;Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true}}})}ret=this.pushStack("","find",selector);for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return!!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});jQuery.fn.andSelf=jQuery.fn.addBack;function isDisconnected(node){return!node||!node.parentNode||node.parentNode.nodeType===11}function sibling(cur,dir){do{cur=cur[dir]}while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,core_slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return elem===qualifier===keep})}else if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}return jQuery.grep(elements,function(elem,i){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"X<div>","</div>"]}jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])
}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.insertBefore(elem,this.firstChild)}})},before:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(set,this),"before",this.selector)}},after:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,set),"after",this.selector)}},remove:function(selector,keepData){var elem,i=0;for(;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(value){if(!isDisconnected(this[0])){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){args=[].concat.apply([],args);var results,first,fragment,iNoClone,i=0,value=args[0],scripts=[],l=this.length;if(!jQuery.support.checkClone&&l>1&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){results=jQuery.buildFragment(args,this,scripts);fragment=results.fragment;first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){table=table&&jQuery.nodeName(first,"tr");for(iNoClone=results.cacheable||l-1;i<l;i++){callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],i===iNoClone?fragment:jQuery.clone(fragment,true,true))}}fragment=first=null;if(scripts.length){jQuery.each(scripts,function(i,elem){if(elem.src){if(jQuery.ajax){jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{jQuery.error("no ajax")}}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,""))}if(elem.parentNode){elem.parentNode.removeChild(elem)}})}}return this}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return}if(dest.clearAttributes){dest.clearAttributes()}if(dest.mergeAttributes){dest.mergeAttributes(src)}nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML}}else if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value}}else if(nodeName==="option"){dest.selected=src.defaultSelected}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}else if(nodeName==="script"&&dest.text!==src.text){dest.text=src.text}dest.removeAttribute(jQuery.expando)}jQuery.buildFragment=function(args,context,scripts){var fragment,cacheable,cachehit,first=args[0];context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;if(args.length===1&&typeof first==="string"&&first.length<512&&context===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;fragment=jQuery.fragments[first];cachehit=fragment!==undefined}if(!fragment){fragment=context.createDocumentFragment();jQuery.clean(args,context,fragment,scripts);if(cacheable){jQuery.fragments[first]=cachehit&&fragment}}return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,parent=this.length===1&&this[0].parentNode;if((parent==null||parent&&parent.nodeType===11&&parent.childNodes.length===1)&&l===1){insert[original](this[0]);return this}else{for(;i<l;i++){elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*")}else if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*")}else{return[]}}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true)}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i])}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i])}}}srcElements=destElements=null;return clone},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,len,handleScript,jsTags,safe=context===document&&safeFragment,ret=[];if(!context||typeof context.createDocumentFragment==="undefined"){context=document}for(i=0;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem)}else{safe=safe||createSafeFragment(context);div=context.createElement("div");safe.appendChild(div);elem=elem.replace(rxhtmlTag,"<$1></$2>");tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){hasBody=rtbody.test(elem);tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes;div.parentNode.removeChild(div)}}if(elem.nodeType){ret.push(elem)}else{jQuery.merge(ret,elem)}}if(div){elem=div=safe=null}if(!jQuery.support.appendChecked){for(i=0;(elem=ret[i])!=null;i++){if(jQuery.nodeName(elem,"input")){fixDefaultChecked(elem)}else if(typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}}}if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type)){return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem)}};for(i=0;(elem=ret[i])!=null;i++){if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);ret.splice.apply(ret,[i+1,0].concat(jsTags));i+=jsTags.length}}}}return ret},cleanData:function(elems,acceptData){var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey]}else if(elem.removeAttribute){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}jQuery.deletedIds.push(id)}}}}}});(function(){var matched,browser;jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else if(browser.webkit){browser.safari=true}jQuery.browser=browser;jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context)}return jQuery.fn.init.call(this,selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub}})();var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])=("+core_pnum+")","i"),elemdisplay={},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;function vendorPropName(style,name){if(name in style){return name}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){var elem,display,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=jQuery._data(elem,"olddisplay");if(show){if(!values[index]&&elem.style.display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName))}}else{display=curCSS(elem,"display");if(!values[index]&&display!=="none"){jQuery._data(elem,"olddisplay",display)}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state,fn2){var bool=typeof state==="boolean";if(jQuery.isFunction(state)&&jQuery.isFunction(fn2)){return eventsToggle.apply(this,arguments)}return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value)){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,numeric,extra){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(numeric||extra!==undefined){num=parseFloat(val);return numeric||jQuery.isNumeric(num)?num||0:val}return val},swap:function(elem,options,callback){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.call(elem);for(name in options){elem.style[name]=old[name]}return ret}});if(window.getComputedStyle){curCSS=function(elem,name){var ret,width,minWidth,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;if(computed){ret=computed[name];if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret}}else if(document.documentElement.currentStyle){curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret==null&&style&&style[name]){ret=style[name]}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft}}return ret===""?"auto":ret}}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true)}if(isBorderBox){if(extra==="content"){val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0}if(extra!=="margin"){val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}else{val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;if(extra!=="padding"){val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}}return val}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,valueIsBorderBox=true,isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box";if(val<=0||val==null){val=curCSS(elem,name);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox)+"px"}function css_defaultDisplay(nodeName){if(elemdisplay[nodeName]){return elemdisplay[nodeName]}var elem=jQuery("<"+nodeName+">").appendTo(document.body),display=elem.css("display");elem.remove();if(display==="none"||display===""){iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write("<!doctype html><html><body>");iframeDoc.close()}elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));display=curCSS(elem,"display");document.body.removeChild(iframe)}elemdisplay[nodeName]=display;return display}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){if(elem.offsetWidth===0&&rdisplayswap.test(curCSS(elem,"display"))){return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)})}else{return getWidthOrHeight(elem,name,extra)}}},set:function(elem,value,extra){return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box"):0)}}});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){if(computed){return curCSS(elem,"marginRight")}})}}}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){var ret=curCSS(elem,prop);return rnumnonpx.test(ret)?jQuery(elem).position()[prop]+"px":ret}}}})}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth===0&&elem.offsetHeight===0||!jQuery.support.reliableHiddenOffsets&&(elem.style&&elem.style.display||curCSS(elem,"display"))==="none"};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rselectTextarea=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}var ajaxLocation,ajaxLocParts,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;if(jQuery.isFunction(func)){for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*"}list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)}return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}if(!this.length){return this}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status){if(callback){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}}}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)});return this};jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings)}else{settings=target;target=jQuery.ajaxSettings}ajaxExtend(target,settings);return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},abort:function(statusText){statusText=statusText||strAbort;if(transport){transport.abort(statusText)}done(0,statusText);return this}};function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[ifModifiedKey]=modified}modified=jqXHR.getResponseHeader("Etag");if(modified){jQuery.etag[ifModifiedKey]=modified}}if(status===304){statusText="notmodified";isSuccess=true}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=""+(nativeStatusText||statusText);if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]]}}else{tmp=map[jqXHR.status];jqXHR.always(tmp)}}return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")
}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+(ret===s.url?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey])}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}return jqXHR},active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type]}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response){var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;if(s.dataFilter){response=s.dataFilter(response,s.dataType)}if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}for(;current=dataTypes[++i];){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current)}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}prev=current}}return{state:"success",data:response}}var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=s.jsonp!==false,replaceInUrl=hasCallback&&rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&typeof data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);if(s.dataTypes[0]==="jsonp"||replaceInUrl||replaceInData){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;overwritten=window[callbackName];if(replaceInUrl){s.url=url.replace(rjsonp,"$1"+callbackName)}else if(replaceInData){s.data=data.replace(rjsonp,"$1"+callbackName)}else if(hasCallback){s.url+=(rquestion.test(url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}script=undefined;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(0,1)}}}}});var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1)}}:false,xhrId=0;function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&"withCredentials"in xhr})})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else{xhr.open(s.type,s.url,s.async)}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i]}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType)}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}try{for(i in headers){xhr.setRequestHeader(i,headers[i])}}catch(_){}xhr.send(s.hasContent&&s.data||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle]}}if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml}try{responses.text=xhr.responseText}catch(_){}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else if(status===1223){status=204}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException)}}if(responses){complete(status,statusText,responses,responseHeaders)}};if(!s.async){callback()}else if(xhr.readyState===4){setTimeout(callback,0)}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}},abort:function(){if(callback){callback(0,1)}}}}})}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,prevScale,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{prevScale=scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit);scale=tween.cur()/target}while(scale!==1&&scale!==prevScale)}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined},0);return fxNow=jQuery.now()}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(collection[index].call(animation,prop,value)){return}}})}function Animation(elem,properties,options){var result,index=0,tweenerIndex=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}createTweens(animation,props);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block"}else{style.zoom=1}}}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.done(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}}for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];if(value===(hidden?"hide":"show")){continue}handled.push(index)}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;jQuery.removeData(elem,"fxshow",true);for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,false,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"||!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing)?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty){anim.stop(true)}};return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)&&!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.interval=13;jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}var rroot=/^(?:body|html)$/i;jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var box,docElem,body,win,clientTop,clientLeft,scrollTop,scrollLeft,top,left,elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return}if((body=doc.body)===elem){return jQuery.offset.bodyOffset(elem)}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return{top:0,left:0}}box=elem.getBoundingClientRect();win=getWindow(doc);clientTop=docElem.clientTop||body.clientTop||0;clientLeft=docElem.clientLeft||body.clientLeft||0;scrollTop=win.pageYOffset||docElem.scrollTop;scrollLeft=win.pageXOffset||docElem.scrollLeft;top=box.top+scrollTop-clientTop;left=box.left+scrollLeft-clientLeft;return{top:top,left:left}};jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0}return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||document.body})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop())}else{elem[method]=val}},method,val,arguments.length,null)}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery})}return jQuery}(window)})},{}],147:[function(require,module,exports){var global=typeof self!=="undefined"?self:typeof window!=="undefined"?window:{};(function(window){var undefined;var freeExports=typeof exports=="object"&&exports;var freeModule=typeof module=="object"&&module&&module.exports==freeExports&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal){window=freeGlobal}var idCounter=0;var indicatorObject={};var keyPrefix=+new Date+"";var largeArraySize=200;var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reInterpolate=/<%=([\s\S]+?)%>/g;var whitespace=" 	\f ﻿"+"\n\r\u2028\u2029"+" ᠎             　";var reLeadingSpacesAndZeros=RegExp("^["+whitespace+"]*0+(?=.$)");var reNoMatch=/($^)/;var reUnescapedHtml=/[&<>"']/g;var reUnescapedString=/['\n\r\t\u2028\u2029\\]/g;var contextProps=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"];var templateCounter=0;var argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]";var cloneableClasses={};cloneableClasses[funcClass]=false;cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=true;var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};function runInContext(context){context=context?_.defaults(window.Object(),context,_.pick(window,contextProps)):window;var Array=context.Array,Boolean=context.Boolean,Date=context.Date,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayRef=Array(),objectRef=Object();var oldDash=context._;var reNative=RegExp("^"+String(objectRef.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var ceil=Math.ceil,clearTimeout=context.clearTimeout,concat=arrayRef.concat,floor=Math.floor,getPrototypeOf=reNative.test(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,hasOwnProperty=objectRef.hasOwnProperty,push=arrayRef.push,setImmediate=context.setImmediate,setTimeout=context.setTimeout,toString=objectRef.toString;var nativeBind=reNative.test(nativeBind=toString.bind)&&nativeBind,nativeIsArray=reNative.test(nativeIsArray=Array.isArray)&&nativeIsArray,nativeIsFinite=context.isFinite,nativeIsNaN=context.isNaN,nativeKeys=reNative.test(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeSlice=arrayRef.slice;var isIeOpera=reNative.test(context.attachEvent),isV8=nativeBind&&!/\n|true/.test(nativeBind+isIeOpera);var ctorByClass={};ctorByClass[arrayClass]=Array;ctorByClass[boolClass]=Boolean;ctorByClass[dateClass]=Date;ctorByClass[objectClass]=Object;ctorByClass[numberClass]=Number;ctorByClass[regexpClass]=RegExp;ctorByClass[stringClass]=String;function lodash(value){return value&&typeof value=="object"&&!isArray(value)&&hasOwnProperty.call(value,"__wrapped__")?value:new lodashWrapper(value)}var support=lodash.support={};support.fastBind=nativeBind&&!isV8;lodash.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:reInterpolate,variable:"",imports:{_:lodash}};function cachedContains(array){var length=array.length,isLarge=length>=largeArraySize;if(isLarge){var cache={},index=-1;while(++index<length){var key=keyPrefix+array[index];(cache[key]||(cache[key]=[])).push(array[index])}}return function(value){if(isLarge){var key=keyPrefix+value;return cache[key]&&indexOf(cache[key],value)>-1}return indexOf(array,value)>-1}}function charAtCallback(value){return value.charCodeAt(0)}function compareAscending(a,b){var ai=a.index,bi=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||typeof a=="undefined"){return 1}if(a<b||typeof b=="undefined"){return-1}}return ai<bi?-1:1}function createBound(func,thisArg,partialArgs,indicator){var isFunc=isFunction(func),isPartial=!partialArgs,key=thisArg;if(isPartial){var rightIndicator=indicator;partialArgs=thisArg}else if(!isFunc){if(!indicator){throw new TypeError}thisArg=func}function bound(){var args=arguments,thisBinding=isPartial?this:thisArg;if(!isFunc){func=thisArg[key]}if(partialArgs.length){args=args.length?(args=nativeSlice.call(args),rightIndicator?args.concat(partialArgs):partialArgs.concat(args)):partialArgs}if(this instanceof bound){noop.prototype=func.prototype;thisBinding=new noop;noop.prototype=null;var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}return bound}function escapeStringChar(match){return"\\"+stringEscapes[match]}function escapeHtmlChar(match){return htmlEscapes[match]}function lodashWrapper(value){this.__wrapped__=value}lodashWrapper.prototype=lodash.prototype;function noop(){}function shimIsPlainObject(value){var result=false;if(!(value&&toString.call(value)==objectClass)){return result}var ctor=value.constructor;if(isFunction(ctor)?ctor instanceof ctor:true){forIn(value,function(value,key){result=key});return result===false||hasOwnProperty.call(value,result)}return result}function slice(array,start,end){start||(start=0);if(typeof end=="undefined"){end=array?array.length:0}var index=-1,length=end-start||0,result=Array(length<0?0:length);while(++index<length){result[index]=array[start+index]}return result}function unescapeHtmlChar(match){return htmlUnescapes[match]}function isArguments(value){return toString.call(value)==argsClass}var isArray=nativeIsArray;var shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable){if(hasOwnProperty.call(iterable,index)){result.push(index)}}return result};var keys=!nativeKeys?shimKeys:function(object){if(!isObject(object)){return[]}return nativeKeys(object)};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes=invert(htmlEscapes);var assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=="number"?2:args.length;if(argsLength>3&&typeof args[argsLength-2]=="function"){var callback=lodash.createCallback(args[--argsLength-1],args[argsLength--],2)}else if(argsLength>2&&typeof args[argsLength-1]=="function"){callback=args[--argsLength]}while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var length=iterable.length;index=-1;if(isArray(iterable)){while(++index<length){result[index]=callback?callback(result[index],iterable[index]):iterable[index]}}else{var ownIndex=-1,ownProps=objectTypes[typeof iterable]?keys(iterable):[],length=ownProps.length;while(++ownIndex<length){index=ownProps[ownIndex];result[index]=callback?callback(result[index],iterable[index]):iterable[index]}}}}return result};function clone(value,deep,callback,thisArg,stackA,stackB){var result=value;if(typeof deep=="function"){thisArg=callback;callback=deep;deep=false}if(typeof callback=="function"){callback=typeof thisArg=="undefined"?callback:lodash.createCallback(callback,thisArg,1);result=callback(result);if(typeof result!="undefined"){return result}result=value}var isObj=isObject(result);if(isObj){var className=toString.call(result);if(!cloneableClasses[className]){return result}var isArr=isArray(result)}if(!isObj||!deep){return isObj?isArr?slice(result):assign({},result):result}var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+result);case numberClass:case stringClass:return new ctor(result);case regexpClass:return ctor(result.source,reFlags.exec(result))}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==value){return stackB[length]}}result=isArr?ctor(result.length):{};if(isArr){if(hasOwnProperty.call(value,"index")){result.index=value.index}if(hasOwnProperty.call(value,"input")){result.input=value.input
}}stackA.push(value);stackB.push(result);(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=clone(objValue,deep,callback,undefined,stackA,stackB)});return result}function cloneDeep(value,callback,thisArg){return clone(value,true,callback,thisArg)}var defaults=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength=typeof guard=="number"?2:args.length;while(++argsIndex<argsLength){iterable=args[argsIndex];if(iterable&&objectTypes[typeof iterable]){var length=iterable.length;index=-1;if(isArray(iterable)){while(++index<length){if(typeof result[index]=="undefined")result[index]=iterable[index]}}else{var ownIndex=-1,ownProps=objectTypes[typeof iterable]?keys(iterable):[],length=ownProps.length;while(++ownIndex<length){index=ownProps[ownIndex];if(typeof result[index]=="undefined")result[index]=iterable[index]}}}}return result};function findKey(object,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg);forOwn(object,function(value,key,object){if(callback(value,key,object)){result=key;return false}});return result}var forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:lodash.createCallback(callback,thisArg);for(index in iterable){if(callback(iterable[index],index,collection)===false)return result}return result};var forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&typeof thisArg=="undefined"?callback:lodash.createCallback(callback,thisArg);var ownIndex=-1,ownProps=objectTypes[typeof iterable]?keys(iterable):[],length=ownProps.length;while(++ownIndex<length){index=ownProps[ownIndex];if(callback(iterable[index],index,collection)===false)return result}return result};function functions(object){var result=[];forIn(object,function(value,key){if(isFunction(value)){result.push(key)}});return result.sort()}function has(object,property){return object?hasOwnProperty.call(object,property):false}function invert(object){var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=props[index];result[object[key]]=key}return result}function isBoolean(value){return value===true||value===false||toString.call(value)==boolClass}function isDate(value){return value?typeof value=="object"&&toString.call(value)==dateClass:false}function isElement(value){return value?value.nodeType===1:false}function isEmpty(value){var result=true;if(!value){return result}var className=toString.call(value),length=value.length;if(className==arrayClass||className==stringClass||className==argsClass||className==objectClass&&typeof length=="number"&&isFunction(value.splice)){return!length}forOwn(value,function(){return result=false});return result}function isEqual(a,b,callback,thisArg,stackA,stackB){var whereIndicator=callback===indicatorObject;if(typeof callback=="function"&&!whereIndicator){callback=lodash.createCallback(callback,thisArg,2);var result=callback(a,b);if(typeof result!="undefined"){return!!result}}if(a===b){return a!==0||1/a==1/b}var type=typeof a,otherType=typeof b;if(a===a&&(!a||type!="function"&&type!="object")&&(!b||otherType!="function"&&otherType!="object")){return false}if(a==null||b==null){return a===b}var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass){className=objectClass}if(otherClass==argsClass){otherClass=objectClass}if(className!=otherClass){return false}switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){if(hasOwnProperty.call(a,"__wrapped__ ")||hasOwnProperty.call(b,"__wrapped__")){return isEqual(a.__wrapped__||a,b.__wrapped__||b,callback,thisArg,stackA,stackB)}if(className!=objectClass){return false}var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)){return false}}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==a){return stackB[length]==b}}var size=0;result=true;stackA.push(a);stackB.push(b);if(isArr){length=a.length;size=b.length;result=size==a.length;if(!result&&!whereIndicator){return result}while(size--){var index=length,value=b[size];if(whereIndicator){while(index--){if(result=isEqual(a[index],value,callback,thisArg,stackA,stackB)){break}}}else if(!(result=isEqual(a[size],value,callback,thisArg,stackA,stackB))){break}}return result}forIn(b,function(value,key,b){if(hasOwnProperty.call(b,key)){size++;return result=hasOwnProperty.call(a,key)&&isEqual(a[key],value,callback,thisArg,stackA,stackB)}});if(result&&!whereIndicator){forIn(a,function(value,key,a){if(hasOwnProperty.call(a,key)){return result=--size>-1}})}return result}function isFinite(value){return nativeIsFinite(value)&&!nativeIsNaN(parseFloat(value))}function isFunction(value){return typeof value=="function"}function isObject(value){return value?objectTypes[typeof value]:false}function isNaN(value){return isNumber(value)&&value!=+value}function isNull(value){return value===null}function isNumber(value){return typeof value=="number"||toString.call(value)==numberClass}var isPlainObject=function(value){if(!(value&&toString.call(value)==objectClass)){return false}var valueOf=value.valueOf,objProto=typeof valueOf=="function"&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)};function isRegExp(value){return value?typeof value=="object"&&toString.call(value)==regexpClass:false}function isString(value){return typeof value=="string"||toString.call(value)==stringClass}function isUndefined(value){return typeof value=="undefined"}function merge(object,source,deepIndicator){var args=arguments,index=0,length=2;if(!isObject(object)){return object}if(deepIndicator===indicatorObject){var callback=args[3],stackA=args[4],stackB=args[5]}else{stackA=[];stackB=[];if(typeof deepIndicator!="number"){length=args.length}if(length>3&&typeof args[length-2]=="function"){callback=lodash.createCallback(args[--length-1],args[length--],2)}else if(length>2&&typeof args[length-1]=="function"){callback=args[--length]}}while(++index<length){(isArray(args[index])?forEach:forOwn)(args[index],function(source,key){var found,isArr,result=source,value=object[key];if(source&&((isArr=isArray(source))||isPlainObject(source))){var stackLength=stackA.length;while(stackLength--){if(found=stackA[stackLength]==source){value=stackB[stackLength];break}}if(!found){var isShallow;if(callback){result=callback(value,source);if(isShallow=typeof result!="undefined"){value=result}}if(!isShallow){value=isArr?isArray(value)?value:[]:isPlainObject(value)?value:{}}stackA.push(source);stackB.push(value);if(!isShallow){value=merge(value,source,indicatorObject,callback,stackA,stackB)}}}else{if(callback){result=callback(value,source);if(typeof result=="undefined"){result=source}}if(typeof result!="undefined"){value=result}}object[key]=value})}return object}function omit(object,callback,thisArg){var isFunc=typeof callback=="function",result={};if(isFunc){callback=lodash.createCallback(callback,thisArg)}else{var props=concat.apply(arrayRef,nativeSlice.call(arguments,1))}forIn(object,function(value,key,object){if(isFunc?!callback(value,key,object):indexOf(props,key)<0){result[key]=value}});return result}function pairs(object){var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}function pick(object,callback,thisArg){var result={};if(typeof callback!="function"){var index=-1,props=concat.apply(arrayRef,nativeSlice.call(arguments,1)),length=isObject(object)?props.length:0;while(++index<length){var key=props[index];if(key in object){result[key]=object[key]}}}else{callback=lodash.createCallback(callback,thisArg);forIn(object,function(value,key,object){if(callback(value,key,object)){result[key]=value}})}return result}function values(object){var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){result[index]=object[props[index]]}return result}function at(collection){var index=-1,props=concat.apply(arrayRef,nativeSlice.call(arguments,1)),length=props.length,result=Array(length);while(++index<length){result[index]=collection[props[index]]}return result}function contains(collection,target,fromIndex){var index=-1,length=collection?collection.length:0,result=false;fromIndex=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex)||0;if(typeof length=="number"){result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1}else{forOwn(collection,function(value){if(++index>=fromIndex){return!(result=value===target)}})}return result}function countBy(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg);forEach(collection,function(value,key,collection){key=String(callback(value,key,collection));hasOwnProperty.call(result,key)?result[key]++:result[key]=1});return result}function every(collection,callback,thisArg){var result=true;callback=lodash.createCallback(callback,thisArg);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){if(!(result=!!callback(collection[index],index,collection))){break}}}else{forOwn(collection,function(value,index,collection){return result=!!callback(value,index,collection)})}return result}function filter(collection,callback,thisArg){var result=[];callback=lodash.createCallback(callback,thisArg);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){var value=collection[index];if(callback(value,index,collection)){result.push(value)}}}else{forOwn(collection,function(value,index,collection){if(callback(value,index,collection)){result.push(value)}})}return result}function find(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){var value=collection[index];if(callback(value,index,collection)){return value}}}else{var result;forOwn(collection,function(value,index,collection){if(callback(value,index,collection)){result=value;return false}});return result}}function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=callback&&typeof thisArg=="undefined"?callback:lodash.createCallback(callback,thisArg);if(typeof length=="number"){while(++index<length){if(callback(collection[index],index,collection)===false){break}}}else{forOwn(collection,callback)}return collection}function groupBy(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg);forEach(collection,function(value,key,collection){key=String(callback(value,key,collection));(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)});return result}function invoke(collection,methodName){var args=nativeSlice.call(arguments,2),index=-1,isFunc=typeof methodName=="function",length=collection?collection.length:0,result=Array(typeof length=="number"?length:0);forEach(collection,function(value){result[++index]=(isFunc?methodName:value[methodName]).apply(value,args)});return result}function map(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;callback=lodash.createCallback(callback,thisArg);if(typeof length=="number"){var result=Array(length);while(++index<length){result[index]=callback(collection[index],index,collection)}}else{result=[];forOwn(collection,function(value,key,collection){result[++index]=callback(value,key,collection)})}return result}function max(collection,callback,thisArg){var computed=-Infinity,result=computed;if(!callback&&isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];if(value>result){result=value}}}else{callback=!callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg);forEach(collection,function(value,index,collection){var current=callback(value,index,collection);if(current>computed){computed=current;result=value}})}return result}function min(collection,callback,thisArg){var computed=Infinity,result=computed;if(!callback&&isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];if(value<result){result=value}}}else{callback=!callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg);forEach(collection,function(value,index,collection){var current=callback(value,index,collection);if(current<computed){computed=current;result=value}})}return result}function pluck(collection,property){var index=-1,length=collection?collection.length:0;if(typeof length=="number"){var result=Array(length);while(++index<length){result[index]=collection[index][property]}}return result||map(collection,property)}function reduce(collection,callback,accumulator,thisArg){if(!collection)return accumulator;var noaccum=arguments.length<3;callback=lodash.createCallback(callback,thisArg,4);var index=-1,length=collection.length;if(typeof length=="number"){if(noaccum){accumulator=collection[++index]}while(++index<length){accumulator=callback(accumulator,collection[index],index,collection)}}else{forOwn(collection,function(value,index,collection){accumulator=noaccum?(noaccum=false,value):callback(accumulator,value,index,collection)})}return accumulator}function reduceRight(collection,callback,accumulator,thisArg){var iterable=collection,length=collection?collection.length:0,noaccum=arguments.length<3;if(typeof length!="number"){var props=keys(collection);length=props.length}callback=lodash.createCallback(callback,thisArg,4);forEach(collection,function(value,index,collection){index=props?props[--length]:--length;accumulator=noaccum?(noaccum=false,iterable[index]):callback(accumulator,iterable[index],index,collection)});return accumulator}function reject(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg);return filter(collection,function(value,index,collection){return!callback(value,index,collection)})}function shuffle(collection){var index=-1,length=collection?collection.length:0,result=Array(typeof length=="number"?length:0);forEach(collection,function(value){var rand=floor(nativeRandom()*(++index+1));result[index]=result[rand];result[rand]=value});return result}function size(collection){var length=collection?collection.length:0;return typeof length=="number"?length:keys(collection).length}function some(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg);var index=-1,length=collection?collection.length:0;if(typeof length=="number"){while(++index<length){if(result=callback(collection[index],index,collection)){break}}}else{forOwn(collection,function(value,index,collection){return!(result=callback(value,index,collection))})}return!!result}function sortBy(collection,callback,thisArg){var index=-1,length=collection?collection.length:0,result=Array(typeof length=="number"?length:0);callback=lodash.createCallback(callback,thisArg);forEach(collection,function(value,key,collection){result[++index]={criteria:callback(value,key,collection),index:index,value:value}});length=result.length;result.sort(compareAscending);while(length--){result[length]=result[length].value}return result}function toArray(collection){if(collection&&typeof collection.length=="number"){return slice(collection)}return values(collection)}var where=filter;function compact(array){var index=-1,length=array?array.length:0,result=[];while(++index<length){var value=array[index];if(value){result.push(value)}}return result}function difference(array){var index=-1,length=array?array.length:0,flattened=concat.apply(arrayRef,nativeSlice.call(arguments,1)),contains=cachedContains(flattened),result=[];while(++index<length){var value=array[index];if(!contains(value)){result.push(value)}}return result}function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg);while(++index<length){if(callback(array[index],index,array)){return index}}return-1}function first(array,callback,thisArg){if(array){var n=0,length=array.length;if(typeof callback!="number"&&callback!=null){var index=-1;callback=lodash.createCallback(callback,thisArg);while(++index<length&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array[0]}}return slice(array,0,nativeMin(nativeMax(0,n),length))}}function flatten(array,isShallow,callback,thisArg){var index=-1,length=array?array.length:0,result=[];if(typeof isShallow!="boolean"&&isShallow!=null){thisArg=callback;callback=isShallow;isShallow=false}if(callback!=null){callback=lodash.createCallback(callback,thisArg)}while(++index<length){var value=array[index];if(callback){value=callback(value,index,array)}if(isArray(value)){push.apply(result,isShallow?value:flatten(value))}else{result.push(value)}}return result}function indexOf(array,value,fromIndex){var index=-1,length=array?array.length:0;if(typeof fromIndex=="number"){index=(fromIndex<0?nativeMax(0,length+fromIndex):fromIndex||0)-1}else if(fromIndex){index=sortedIndex(array,value);return array[index]===value?index:-1}while(++index<length){if(array[index]===value){return index}}return-1}function initial(array,callback,thisArg){if(!array){return[]}var n=0,length=array.length;if(typeof callback!="number"&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg);while(index--&&callback(array[index],index,array)){n++}}else{n=callback==null||thisArg?1:callback||n}return slice(array,0,nativeMin(nativeMax(0,length-n),length))}function intersection(array){var args=arguments,argsLength=args.length,cache={0:{}},index=-1,length=array?array.length:0,isLarge=length>=largeArraySize,result=[],seen=result;outer:while(++index<length){var value=array[index];if(isLarge){var key=keyPrefix+value;var inited=cache[0][key]?!(seen=cache[0][key]):seen=cache[0][key]=[]}if(inited||indexOf(seen,value)<0){if(isLarge){seen.push(value)}var argsIndex=argsLength;while(--argsIndex){if(!(cache[argsIndex]||(cache[argsIndex]=cachedContains(args[argsIndex])))(value)){continue outer}}result.push(value)}}return result}function last(array,callback,thisArg){if(array){var n=0,length=array.length;if(typeof callback!="number"&&callback!=null){var index=length;callback=lodash.createCallback(callback,thisArg);while(index--&&callback(array[index],index,array)){n++}}else{n=callback;if(n==null||thisArg){return array[length-1]}}return slice(array,nativeMax(0,length-n))}}function lastIndexOf(array,value,fromIndex){var index=array?array.length:0;if(typeof fromIndex=="number"){index=(fromIndex<0?nativeMax(0,index+fromIndex):nativeMin(fromIndex,index-1))+1}while(index--){if(array[index]===value){return index}}return-1}function range(start,end,step){start=+start||0;step=+step||1;if(end==null){end=start;start=0}var index=-1,length=nativeMax(0,ceil((end-start)/step)),result=Array(length);while(++index<length){result[index]=start;start+=step}return result}function rest(array,callback,thisArg){if(typeof callback!="number"&&callback!=null){var n=0,index=-1,length=array?array.length:0;callback=lodash.createCallback(callback,thisArg);while(++index<length&&callback(array[index],index,array)){n++}}else{n=callback==null||thisArg?1:nativeMax(0,callback)}return slice(array,n)}function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;callback=callback?lodash.createCallback(callback,thisArg,1):identity;value=callback(value);while(low<high){var mid=low+high>>>1;callback(array[mid])<value?low=mid+1:high=mid}return low}function union(array){if(!isArray(array)){arguments[0]=array?nativeSlice.call(array):arrayRef}return uniq(concat.apply(arrayRef,arguments))}function uniq(array,isSorted,callback,thisArg){var index=-1,length=array?array.length:0,result=[],seen=result;if(typeof isSorted!="boolean"&&isSorted!=null){thisArg=callback;callback=isSorted;isSorted=false}var isLarge=!isSorted&&length>=largeArraySize;if(isLarge){var cache={}}if(callback!=null){seen=[];callback=lodash.createCallback(callback,thisArg)}while(++index<length){var value=array[index],computed=callback?callback(value,index,array):value;if(isLarge){var key=keyPrefix+computed;var inited=cache[key]?!(seen=cache[key]):seen=cache[key]=[]}if(isSorted?!index||seen[seen.length-1]!==computed:inited||indexOf(seen,computed)<0){if(callback||isLarge){seen.push(computed)}result.push(value)}}return result}function unzip(array){var index=-1,length=array?array.length:0,tupleLength=length?max(pluck(array,"length")):0,result=Array(tupleLength);while(++index<length){var tupleIndex=-1,tuple=array[index];while(++tupleIndex<tupleLength){(result[tupleIndex]||(result[tupleIndex]=Array(length)))[index]=tuple[tupleIndex]}}return result}function without(array){return difference(array,nativeSlice.call(arguments,1))}function zip(array){var index=-1,length=array?max(pluck(arguments,"length")):0,result=Array(length);while(++index<length){result[index]=pluck(arguments,index)}return result}function zipObject(keys,values){var index=-1,length=keys?keys.length:0,result={};while(++index<length){var key=keys[index];if(values){result[key]=values[index]}else{result[key[0]]=key[1]}}return result}function after(n,func){if(n<1){return func()}return function(){if(--n<1){return func.apply(this,arguments)}}}function bind(func,thisArg){return support.fastBind||nativeBind&&arguments.length>2?nativeBind.call.apply(nativeBind,arguments):createBound(func,thisArg,nativeSlice.call(arguments,2))}function bindAll(object){var funcs=arguments.length>1?concat.apply(arrayRef,nativeSlice.call(arguments,1)):functions(object),index=-1,length=funcs.length;while(++index<length){var key=funcs[index];object[key]=bind(object[key],object)}return object}function bindKey(object,key){return createBound(object,key,nativeSlice.call(arguments,2),indicatorObject)}function compose(){var funcs=arguments;return function(){var args=arguments,length=funcs.length;while(length--){args=[funcs[length].apply(this,args)]}return args[0]}}function createCallback(func,thisArg,argCount){if(func==null){return identity}var type=typeof func;if(type!="function"){if(type!="object"){return function(object){return object[func]}}var props=keys(func);return function(object){var length=props.length,result=false;while(length--){if(!(result=isEqual(object[props[length]],func[props[length]],indicatorObject))){break}}return result}}if(typeof thisArg!="undefined"){if(argCount===1){return function(value){return func.call(thisArg,value)}}if(argCount===2){return function(a,b){return func.call(thisArg,a,b)}}if(argCount===4){return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return function(value,index,collection){return func.call(thisArg,value,index,collection)}}return func}function debounce(func,wait,options){var args,inited,result,thisArg,timeoutId,trailing=true;function delayed(){inited=timeoutId=null;if(trailing){result=func.apply(thisArg,args)}}if(options===true){var leading=true;trailing=false}else if(options&&objectTypes[typeof options]){leading=options.leading;trailing="trailing"in options?options.trailing:trailing}return function(){args=arguments;thisArg=this;clearTimeout(timeoutId);if(!inited&&leading){inited=true;result=func.apply(thisArg,args)}else{timeoutId=setTimeout(delayed,wait)}return result}}function defer(func){var args=nativeSlice.call(arguments,1);return setTimeout(function(){func.apply(undefined,args)},1)}if(isV8&&freeModule&&typeof setImmediate=="function"){defer=bind(setImmediate,context)}function delay(func,wait){var args=nativeSlice.call(arguments,2);return setTimeout(function(){func.apply(undefined,args)},wait)}function memoize(func,resolver){var cache={};return function(){var key=keyPrefix+(resolver?resolver.apply(this,arguments):arguments[0]);return hasOwnProperty.call(cache,key)?cache[key]:cache[key]=func.apply(this,arguments)}}function once(func){var ran,result;return function(){if(ran){return result}ran=true;result=func.apply(this,arguments);func=null;return result}}function partial(func){return createBound(func,nativeSlice.call(arguments,1))}function partialRight(func){return createBound(func,nativeSlice.call(arguments,1),null,indicatorObject)}function throttle(func,wait,options){var args,result,thisArg,timeoutId,lastCalled=0,leading=true,trailing=true;function trailingCall(){timeoutId=null;if(trailing){lastCalled=new Date;result=func.apply(thisArg,args)}}if(options===false){leading=false}else if(options&&objectTypes[typeof options]){leading="leading"in options?options.leading:leading;trailing="trailing"in options?options.trailing:trailing}return function(){var now=new Date;if(!timeoutId&&!leading){lastCalled=now}var remaining=wait-(now-lastCalled);args=arguments;thisArg=this;if(remaining<=0){clearTimeout(timeoutId);timeoutId=null;lastCalled=now;result=func.apply(thisArg,args)}else if(!timeoutId){timeoutId=setTimeout(trailingCall,remaining)}return result}}function wrap(value,wrapper){return function(){var args=[value];push.apply(args,arguments);return wrapper.apply(this,args)}}function escape(string){return string==null?"":String(string).replace(reUnescapedHtml,escapeHtmlChar)}function identity(value){return value}function mixin(object){forEach(functions(object),function(methodName){var func=lodash[methodName]=object[methodName];lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(lodash,args);return value&&typeof value=="object"&&value==result?this:new lodashWrapper(result)}})}function noConflict(){context._=oldDash;return this}var parseInt=nativeParseInt(whitespace+"08")==8?nativeParseInt:function(value,radix){return nativeParseInt(isString(value)?value.replace(reLeadingSpacesAndZeros,""):value,radix||0)};function random(min,max){if(min==null&&max==null){max=1}min=+min||0;if(max==null){max=min;min=0}return min+floor(nativeRandom()*((+max||0)-min+1))}function result(object,property){var value=object?object[property]:undefined;return isFunction(value)?object[property]():value}function template(text,data,options){var settings=lodash.templateSettings;text||(text="");options=defaults({},options,settings);var imports=defaults({},options.imports,settings.imports),importsKeys=keys(imports),importsValues=values(imports);var isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");text.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=text.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable,hasVariable=variable;if(!hasVariable){variable="obj";source="with ("+variable+") {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+variable+") {\n"+(hasVariable?"":variable+" || ("+variable+" = {});\n")+"var __t, __p = '', __e = _.escape"+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var sourceURL="\n/*\n//@ sourceURL="+(options.sourceURL||"/lodash/template/source["+templateCounter++ +"]")+"\n*/";try{var result=Function(importsKeys,"return "+source+sourceURL).apply(undefined,importsValues)}catch(e){e.source=source;throw e}if(data){return result(data)}result.source=source;return result}function times(n,callback,thisArg){n=(n=+n)>-1?n:0;var index=-1,result=Array(n);callback=lodash.createCallback(callback,thisArg,1);while(++index<n){result[index]=callback(index)}return result}function unescape(string){return string==null?"":String(string).replace(reEscapedHtml,unescapeHtmlChar)}function uniqueId(prefix){var id=++idCounter;return String(prefix==null?"":prefix)+id}function tap(value,interceptor){interceptor(value);return value}function wrapperToString(){return String(this.__wrapped__)}function wrapperValueOf(){return this.__wrapped__}lodash.after=after;lodash.assign=assign;lodash.at=at;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.compact=compact;lodash.compose=compose;lodash.countBy=countBy;lodash.createCallback=createCallback;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.filter=filter;lodash.flatten=flatten;lodash.forEach=forEach;lodash.forIn=forIn;lodash.forOwn=forOwn;lodash.functions=functions;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.map=map;lodash.max=max;lodash.memoize=memoize;lodash.merge=merge;lodash.min=min;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=partial;lodash.partialRight=partialRight;lodash.pick=pick;lodash.pluck=pluck;lodash.range=range;lodash.reject=reject;lodash.rest=rest;lodash.shuffle=shuffle;lodash.sortBy=sortBy;lodash.tap=tap;lodash.throttle=throttle;lodash.times=times;lodash.toArray=toArray;lodash.union=union;lodash.uniq=uniq;lodash.unzip=unzip;lodash.values=values;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.zip=zip;lodash.zipObject=zipObject;lodash.collect=map;lodash.drop=rest;lodash.each=forEach;lodash.extend=assign;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;mixin(lodash);lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.contains=contains;lodash.escape=escape;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.has=has;lodash.identity=identity;lodash.indexOf=indexOf;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isNaN=isNaN;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isUndefined=isUndefined;lodash.lastIndexOf=lastIndexOf;lodash.mixin=mixin;lodash.noConflict=noConflict;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.result=result;lodash.runInContext=runInContext;lodash.size=size;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.template=template;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.all=every;lodash.any=some;lodash.detect=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.include=contains;lodash.inject=reduce;forOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){lodash.prototype[methodName]=function(){var args=[this.__wrapped__];push.apply(args,arguments);return func.apply(lodash,args)}}});lodash.first=first;lodash.last=last;lodash.take=first;lodash.head=first;forOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName]){lodash.prototype[methodName]=function(callback,thisArg){var result=func(this.__wrapped__,callback,thisArg);
return callback==null||thisArg&&typeof callback!="function"?result:new lodashWrapper(result)}}});lodash.VERSION="1.2.1";lodash.prototype.toString=wrapperToString;lodash.prototype.value=wrapperValueOf;lodash.prototype.valueOf=wrapperValueOf;forEach(["join","pop","shift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return func.apply(this.__wrapped__,arguments)}});forEach(["push","reverse","sort","unshift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){func.apply(this.__wrapped__,arguments);return this}});forEach(["concat","slice","splice"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments))}});return lodash}var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){window._=_;define(function(){return _})}else if(freeExports&&!freeExports.nodeType){if(freeModule){(freeModule.exports=_)._=_}else{freeExports._=_}}else{window._=_}})(this)},{}],148:[function(require,module,exports){var Handlebars=require("hbsfy/runtime");module.exports=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression;buffer+='<div class="holder">\n  <h2>ribcage-date-picker</h2>\n  <iframe src="http://ghbtns.com/github-btn.html?user=ben-ng&repo=ribcage-date-picker&type=watch&count=true"\n  allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>\n  <p>\n    <h3>Change these values!</h3>\n    <span class="date">';if(stack1=helpers.date){stack1=stack1.call(depth0,{hash:{},data:data})}else{stack1=depth0.date;stack1=typeof stack1===functionType?stack1.apply(depth0):stack1}buffer+=escapeExpression(stack1)+'</span>\n  </p>\n  <div class="spinholder"></div>\n  <p>\n    <h3>What To Expect</h3>\n    <ul>\n      <li>Desktop browsers will see regular dropdown boxes.</li>\n      <li>iOS or Android devices will get a touch-optimized slotpicker when the dropdown boxes are tapped.</li>\n      <li>Webkit users can turn on touch emulation in their dev tools and refresh to try out the touch interface.</li>\n    </ul>\n  </p>\n  <p>\n    <h3>How Do I Use This?</h3>\n    <a href="https://github.com/ben-ng/ribcage-date-picker">Documentation is on GitHub</a>.\n  </p>\n</div>\n';return buffer})},{"hbsfy/runtime":39}],149:[function(require,module,exports){var DatePicker=require("../../datePicker"),Ribcage=require("ribcage-view"),AppView,App;AppView=Ribcage.extend({template:require("./app.hbs"),afterInit:function(){this.picker=new DatePicker({allowFuture:false})},afterRender:function(){var self=this;this.stopListening(this.picker);this.appendSubview(this.picker,this.$(".spinholder"));this.picker.render();this.picker.delegateEvents();this.listenTo(this.picker,"change",function(){self.$(".date").text(self.context().date.toString())})},context:function(){var vals=this.picker.getValues();return{date:vals.month.value+"/"+vals.day.value+"/"+vals.year.value}}});App=new AppView({});document.body.appendChild(App.el);App.el.id="app";App.render()},{"../../datePicker":1,"./app.hbs":148,"ribcage-view":143}]},{},[149]);